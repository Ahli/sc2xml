<?xml version="1.0" encoding="utf-8"?>
<Catalog>
    <CValidatorUnitCompareAbilLevel id="ANfs@IsLevel1">
        <AbilLink value="ANfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareAbilLevel id="ACfs@IsLevel1">
        <AbilLink value="ACfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareAbilLevel id="AHfs@IsLevel1">
        <AbilLink value="AHfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareAbilLevel id="ANfs@IsLevel2">
        <AbilLink value="ANfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareAbilLevel id="ACfs@IsLevel2">
        <AbilLink value="ACfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareAbilLevel id="AHfs@IsLevel2">
        <AbilLink value="AHfs"/>
    </CValidatorUnitCompareAbilLevel>
    <CValidatorUnitCompareBehaviorCount id="HaveTemporaryHealing_War3">
        <Compare value="GT"/>
        <Categories index="Temporary" value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="CasterLifeNotFullOrEnergyNotFull">
        <ResultFailed value="TooMuchLife,Errors/HPmanamaxed"/>
        <CombineArray value="CasterLifeNotFull"/>
        <CombineArray value="CasterEnergyNotFull"/>
    </CValidatorCombine>
    <CValidatorUnitCompareAbilSkillPoint id="CasterHasSpentSkillPoints">
        <ResultFailed value="MustTargetHeroicUnits,Errors/Needretrainablehero"/>
        <WhichUnit Value="Caster"/>
        <AbilLink value="War3_LearnHero"/>
        <CountType value="Used"/>
    </CValidatorUnitCompareAbilSkillPoint>
    <CValidatorUnitCompareDeath id="NotReincarnationDeath">
        <Compare value="NE"/>
        <Value value="Reincarnation"/>
    </CValidatorUnitCompareDeath>
    <CValidatorCombine id="TargetHasPositiveOrNegativeMagicBuffOrIsSummoned">
        <ResultFailed value="CantTargetThatUnit"/>
        <CombineArray value="TargetHasPositiveMagicBuff"/>
        <CombineArray value="TargetHasNegativeMagicBuff"/>
        <CombineArray value="IsSummonedUnit"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="TargetIsDemonRace">
        <ResultFailed value="CantTargetThatUnit"/>
        <Field value="Race"/>
        <Value value="Demon"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="TargetIsUndeadOrDemonRace">
        <CombineArray value="IsUndead"/>
        <CombineArray value="TargetIsDemonRace"/>
    </CValidatorCombine>
    <CValidatorCombine id="TargetIsNotUndeadNorDemonRace">
        <Type value="And"/>
        <CombineArray value="IsNotUndead"/>
        <CombineArray value="TargetIsNotDemonRace"/>
    </CValidatorCombine>
    <CValidatorUnitOrderQueue id="TargethasNoActiveBuildingTask">
        <WhichUnit Value="Target"/>
        <AbilClass value="CAbilBuild"/>
        <AbilCmdIndex value="255"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitState id="NotHarvesting">
        <State value="Harvesting"/>
    </CValidatorUnitState>
    <CValidatorUnitFilters id="IsUnderConstruction">
        <Filters value="UnderConstruction;-"/>
    </CValidatorUnitFilters>
    <CValidatorLocationPathable id="TargetUnitNotOnDeepWater">
        <ResultFailed value="CantTargetThatUnit"/>
        <WhichLocation Value="TargetUnit"/>
        <Find value="0"/>
        <Types index="Ground" value="0"/>
        <Types index="Building" value="0"/>
        <Types index="WaterShallow" value="0"/>
        <Types index="WaterDeep" value="1"/>
    </CValidatorLocationPathable>
    <CValidatorUnitOrderQueue id="SourceIsAttackingTarget">
        <WhichUnit Value="Source"/>
        <AbilLink value="Aatk"/>
        <Target Value="TargetUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="SourceIsOrderedToMoveWar_3">
        <AbilLink value="Amov"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitState id="CasterIsNotIdle">
        <WhichUnit Value="Caster"/>
        <State value="Idle"/>
    </CValidatorUnitState>
    <CValidatorUnitOrderQueue id="TargetIsNotAttackingSource_War3">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aatk"/>
        <Find value="0"/>
        <Target Value="SourceUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitCompareAbilStage id="CasterIsChanneling">
        <WhichUnit Value="Caster"/>
    </CValidatorUnitCompareAbilStage>
    <CValidatorLocationCompareRange id="War3CreepGuard@TargetIsVeryCloseToGuardPoint">
        <WhichLocation Value="OriginUnit"/>
        <Compare value="LE"/>
        <Range value="1.5625"/>
        <Value Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitBehaviorStackAlias id="CasterHasNoAnimatedDeadAnyBUan">
        <WhichUnit Value="Caster"/>
        <Find value="0"/>
        <StackAlias value="BUan"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitFilters id="CasterIsAirUnit">
        <WhichUnit Value="Caster"/>
        <Filters value="Air;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitOrderQueue id="CasterIsNotOrderedToMoveWar3">
        <AbilLink value="Amov"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitCompareField id="DeathTimeGT0">
        <Compare value="GT"/>
        <Field value="DeathTime"/>
        <Value value="0"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitBehaviorStackAlias id="HasBuffDrunkenHazeAnyBNdh">
        <StackAlias value="BNdh"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorPlayerCompareType id="HostileOrNeutralPlayer">
        <WhichPlayer Value="Target"/>
        <Compare value="GE"/>
        <Value value="Neutral"/>
    </CValidatorPlayerCompareType>
    <CValidatorUnitState id="IsHarvesting">
        <Enabled value="1"/>
        <State value="Harvesting"/>
    </CValidatorUnitState>
    <CValidatorUnitCompareField id="IsRaceUndead">
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareBehaviorCount id="IsSourceNotReincarnatingWar3">
        <WhichUnit Value="Source"/>
        <Behavior value="War3_Reincarnating"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitBehaviorStackAlias id="NoBuffParasiteAnyBNpa">
        <Find value="0"/>
        <StackAlias value="BNpa"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffFrenzyAnyBfzy">
        <Find value="0"/>
        <StackAlias value="Bfzy"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffWindWalkAnyCasterBOwk">
        <WhichUnit Value="Caster"/>
        <Find value="0"/>
        <StackAlias value="BOwk"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffDarkMinionAnyBNdm">
        <Find value="0"/>
        <StackAlias value="BNdm"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffPossessionAnyBpos">
        <Find value="0"/>
        <StackAlias value="Bpos"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffDoomAnyBNdo">
        <Find value="0"/>
        <StackAlias value="BNdo"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Alreadydoomed"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoFreezingBreathAny">
        <ResultFailed value="CantTargetStunnedUnits,Errors/Notfrozenbldg"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoUnsummonAny">
        <ResultFailed value="CantTargetThatUnit,Errors/Notunsummoned"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorLocationPathable id="OnDeepWater"/>
    <CValidatorUnitFilters id="Raiseable">
        <Filters value="Raisable;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitAbil id="TargetHasAblilitySacrificeLambAbilityAlam">
        <ResultFailed value="CantTargetThatUnit,Errors/Targetacolyte"/>
        <Find value="1"/>
        <AbilLink value="Alam"/>
    </CValidatorUnitAbil>
    <CValidatorUnitAbil id="TargetHasNoAblilityCreepDevourACdv">
        <AbilLink value="ACdv"/>
    </CValidatorUnitAbil>
    <CValidatorUnitAbil id="TargetHasNoAblilityMeatLoadAmel">
        <AbilLink value="Amel"/>
    </CValidatorUnitAbil>
    <CValidatorUnitAbil id="TargetHasNoAblilityDevourAdev">
        <AbilLink value="Adev"/>
    </CValidatorUnitAbil>
    <CValidatorUnitAbil id="TargetHasAblilitySacrificeAsac">
        <ResultFailed value="Error,Errors/Targetpit"/>
        <Find value="1"/>
        <AbilLink value="Asac"/>
    </CValidatorUnitAbil>
    <CValidatorCombine id="TargetHasPositiveOrNegativeMagicBuff">
        <CombineArray value="TargetHasPositiveMagicBuff"/>
        <CombineArray value="TargetHasNegativeMagicBuff"/>
    </CValidatorCombine>
    <CValidatorUnitState id="TargetIsIdle">
        <Enabled value="1"/>
        <State value="Idle"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="TargetIsNotPaused">
        <State value="Paused"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="TargetIsNotTransport">
        <State value="Transport"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitState>
    <CValidatorUnitCompareResourceContents id="HasResource">
        <ResultFailed value="CantBuildOnThat"/>
        <ResultNoUnit value="Error"/>
        <Compare value="GT"/>
    </CValidatorUnitCompareResourceContents>
    <CValidatorUnitFilters id="CasterIsNotHallucination">
        <WhichUnit Value="Caster"/>
        <Filters value="-;Hallucination"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="TargetHasPositiveOrNegativeMagicBuffOrIsSummonedOrIsHallucination">
        <CombineArray value="TargetHasPositiveMagicBuff"/>
        <CombineArray value="TargetHasNegativeMagicBuff"/>
        <CombineArray value="IsSummonedOrHallucination"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="CasterNotDeadAndNotHidden">
        <WhichUnit Value="Caster"/>
        <Filters value="-;Dead,Hidden"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="CasterIsDeadOrHidden">
        <CombineArray value="CasterNotDeadAndNotHidden"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorUnitBehaviorStackAlias id="NoBuffCurseAnyBcrs">
        <Find value="0"/>
        <StackAlias value="Bcrs"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorLocationPathable id="Pathable"/>
    <CValidatorUnitCompareBehaviorCount id="TargetHasGraveYardCorpseBehavior">
        <Compare value="GT"/>
        <Behavior value="Agyc"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitTestWeaponType id="TargetHasMeleeWeapon2">
        <WeaponType value="Melee"/>
    </CValidatorUnitTestWeaponType>
    <CValidatorUnitFilters id="TargetIsNotDecaying">
        <Filters value="-;Decaying"/>
    </CValidatorUnitFilters>
    <CValidatorUnitState id="TargetIsNotMovementImpossible">
        <State value="MovingImpossible"/>
    </CValidatorUnitState>
    <CValidatorCombine id="NotUnitAbilEffectStageApproaching">
        <CombineArray value="UnitAbilEffectStageApproaching"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="TargetIsNotNeutral">
        <Filters value="-;Neutral"/>
    </CValidatorUnitFilters>
    <CValidatorLocationCreep id="TargetOnBlight">
        <ResultFailed value="CantBuildTooFarFromCreepSource"/>
    </CValidatorLocationCreep>
    <CValidatorLocationCreep id="TargetNotOnBlight">
        <ResultFailed value="CantBuildTooFarFromCreepSource"/>
        <Find value="0"/>
    </CValidatorLocationCreep>
    <CValidatorLocationPathable id="TargetPointIsNotWalkable"/>
    <CValidatorUnitCompareAbilStage id="UnitAbilEffectStageApproaching">
        <AbilityStage value="Approach"/>
    </CValidatorUnitCompareAbilStage>
    <CValidatorCombine id="NotUnitAbilEffectStageChanneling">
        <CombineArray value="UnitIsChanneling"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorUnitState id="UnitStateHero">
        <Enabled value="1"/>
        <State value="Hero"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="UnitStateNonHero">
        <State value="Hero"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="CasterIsMovementSuppressed">
        <WhichUnit Value="Caster"/>
        <Enabled value="1"/>
        <State value="MovingSuppressed"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="CasterIsMovementImpossible">
        <WhichUnit Value="Caster"/>
        <Enabled value="1"/>
        <State value="MovingImpossible"/>
    </CValidatorUnitState>
    <CValidatorLocationPathable id="Walkable"/>
    <CValidatorUnitCompareBehaviorCount id="War3_ABILITY_ManaFlare_ManaToken">
        <Behavior value="War3_ABILITY_ManaFlare_ManaToken"/>
        <Compare value="GT"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCondition id="War3_AutoDispelMagicBuffValidator">
        <IfArray Test="TargetIsEnemy" Return="TargetHasPositiveMagicBuff"/>
        <Else value="TargetHasNegativeMagicBuff"/>
    </CValidatorCondition>
    <CValidatorUnitCompareOrderCount id="CasterHasNoQueuedOrder">
        <Compare value="LE"/>
        <Value value="1"/>
    </CValidatorUnitCompareOrderCount>
    <CValidatorUnitState id="CasterIsMorphing">
        <WhichUnit Value="Caster"/>
        <Enabled value="1"/>
        <State value="Morphing"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="IsNotInsideTransport">
        <State value="InsideTransport"/>
    </CValidatorUnitState>
    <CValidatorUnitCompareBehaviorCount id="TargetHasNegativeMagicBuff">
        <Compare value="GT"/>
        <Categories index="Magic" value="1"/>
        <BehaviorAlignment value="Negative"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Neednegativebuff"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="TargetHasPositiveMagicBuff">
        <Compare value="GT"/>
        <Categories index="Magic" value="1"/>
        <BehaviorAlignment value="Positive"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Needpositivebuff"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitFilters id="TargetIsEnemyBenign">
        <Filters value="Benign;Player,Ally,Neutral"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="TargetIsNotEnemyBenign">
        <CombineArray value="TargetIsEnemyBenign"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorUnitAlliance id="TargetOuterIsControllableByCasterPlayer">
        <WhichUnit Value="TargetOuter"/>
        <Value value="Control"/>
    </CValidatorUnitAlliance>
    <CValidatorLocationCompareRange id="War3CreepGuard@NotAlreadyReturned">
        <WhichLocation Value="CasterUnit"/>
        <Compare value="GT"/>
        <Range value="0.5"/>
        <Value Value="OriginPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="War3_CreepScanValidators">
        <CombineArray value="CasterIsNotIdle"/>
        <CombineArray value="TargetIsScanning"/>
        <CombineArray value="TargetIsNotFlyerWar3"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="War3_CreepsNeverAcquire">
        <Compare value="GT"/>
        <Behavior value="War3_CreepsNeverAcquire"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="War3_CreepsAlwaysAcquire">
        <Compare value="GT"/>
        <Behavior value="War3_CreepsAlwaysAcquire"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="War3_GenericTeleportablePassengerValidators">
        <Type value="And"/>
        <CombineArray value="NotUsingChannelAbility"/>
        <CombineArray value="NoTeleportRevealBuffAnyBtrv"/>
        <CombineArray value="TargetIsNotNavalWar3"/>
        <CombineArray value="NotUsingRepairAhrp"/>
        <CombineArray value="NotUsingRepairArep"/>
        <CombineArray value="TargetIsNotMovementImpossible"/>
        <CombineArray value="NotHarvesting"/>
        <CombineArray value="TargethasNoActiveBuildingTask"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="War3_NotCreepsNeverAcquire">
        <Behavior value="War3_CreepsNeverAcquire"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="War3_GenericCargoLoadValidator">
        <ResultFailed value="CantLoadThatUnit,Errors/Canttransport"/>
        <Type value="And"/>
        <CombineArray value="TargetIsNotFlyerWar3"/>
        <CombineArray value="TargetIsNotPaused"/>
        <CombineArray value="TargetCanMoveWar3"/>
        <CombineArray value="NoBuffDoomAnyBNdo"/>
    </CValidatorCombine>
    <CValidatorCombine id="War3_InsideNotHiddenControllableTransport">
        <Type value="And"/>
        <CombineArray value="IsInsideTransport"/>
        <CombineArray value="TargetOutIsNotHidden"/>
        <CombineArray value="TargetOuterIsControllableByCasterPlayer"/>
    </CValidatorCombine>
    <CValidatorUnitState id="IsInsideTransport">
        <Enabled value="1"/>
        <State value="InsideTransport"/>
    </CValidatorUnitState>
    <CValidatorUnitState id="IsMissile">
        <State value="Missile"/>
    </CValidatorUnitState>
    <CValidatorCombine id="IsNonBuildingUnitOrHasOwl">
        <ResultFailed value="CantTargetThatUnit"/>
        <CombineArray value="TestHasOwl"/>
        <CombineArray value="War3_NonBuildingUnit"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="War3_IsNotEnsnared">
        <Categories index="User1" value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="War3_CreepNotCamping">
        <Behavior value="War3_CreepCamp"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="War3_NotHiddenOrInsideNotHiddenControlableTransport">
        <CombineArray value="NotHidden"/>
        <CombineArray value="War3_InsideNotHiddenControllableTransport"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="TargetIsBurrowed">
        <Filters value="Buried;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="TargetIsNotBurrowed">
        <Filters value="-;Buried"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareField id="TargetIsNotDemonRace">
        <ResultFailed value="CantTargetThatUnit"/>
        <Compare value="NE"/>
        <Field value="Race"/>
        <Value value="Demon"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitBehaviorStackAlias id="NoBuffBloodlustAny">
        <Find value="0"/>
        <StackAlias value="Bblo"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitState id="IsTargetable">
        <State value="Untargetable"/>
    </CValidatorUnitState>
    <CValidatorUnitFilters id="TargetOutIsNotHidden">
        <WhichUnit Value="TargetOuter"/>
        <Filters value="-;Hidden"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="War3AttackingBuffAutoCastValidatorSet">
        <Type value="And"/>
        <CombineArray value="TargetIsAttackingAUnitWar3"/>
        <CombineArray value="TargetLifeGT10Percent"/>
        <CombineArray value="CasterEnergyFullOrTargetLifeGT30Percent"/>
    </CValidatorCombine>
    <CValidatorCombine id="War3DefendingBuffAutoCastValidatorSet">
        <Type value="And"/>
        <CombineArray value="TargetInCombatLong"/>
        <CombineArray value="TargetLifeGT10Percent"/>
        <CombineArray value="CasterEnergyFullOrTargetLifeGT30Percent"/>
    </CValidatorCombine>
    <CValidatorUnitArmor id="ArmorTypeNoArmor">
        <ResultFailed value="CantTargetThatUnit"/>
        <Find value="1"/>
        <ArmorType value="None"/>
    </CValidatorUnitArmor>
    <CValidatorUnitArmor id="ArmorTypeMedium">
        <ResultFailed value="CantTargetThatUnit"/>
        <Find value="1"/>
        <ArmorType value="Medium"/>
    </CValidatorUnitArmor>
    <CValidatorUnitCompareVital id="CasterEnergyFull">
        <ResultFailed value="Error,Error/EnergyNotFullCaster"/>
        <WhichUnit Value="Caster"/>
        <Type value="Fraction"/>
        <Value value="1"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="CasterEnergyFullOrTargetLifeGT30Percent">
        <CombineArray value="CasterEnergyFull"/>
        <CombineArray value="TargetLifeGT30Percent"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="EnemyOrNeutral">
        <Filters value="-;Player,Ally"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareBehaviorCount id="HasBuffNonHeroicCanStealNegative">
        <Compare value="GT"/>
        <Categories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Negative"/>
        <Heroic value="NonHeroic"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="HasBuffNonHeroicCanStealPositive">
        <Compare value="GT"/>
        <Categories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Positive"/>
        <Heroic value="NonHeroic"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="HasEnergyOrIsSummonedUnit">
        <CombineArray value="hasEnergy"/>
        <CombineArray value="IsSummonedUnit"/>
    </CValidatorCombine>
    <CValidatorUnitAbil id="HaveMoveAbilityWar3">
        <Find value="1"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Targetmoveable"/>
        <AbilClass value="CAbilAttack"/>
    </CValidatorUnitAbil>
    <CValidatorUnitMover id="IsMoverFloatWar3">
        <Value value="float"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitMover id="IsMoverAmphibiousWar3">
        <Value value="amph"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitMover id="IsMoverFlyWar3">
        <Value value="Fly"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitMover id="IsMoverFootWar3">
        <Value value="foot"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitMover id="IsMoverHorseWar3">
        <Value value="horse"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitMover id="IsMoverGroundSC2">
        <Value value="Ground"/>
        <Find value="1"/>
    </CValidatorUnitMover>
    <CValidatorUnitCompareDeath id="NotTimeoutDeath">
        <Compare value="NE"/>
        <Value value="Timeout"/>
    </CValidatorUnitCompareDeath>
    <CValidatorUnitFilters id="War3_NonBuildingUnit">
        <Filters value="NonBuildingUnit;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="TargetIsBenign">
        <Filters value="Benign;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="TargetIsNotBenign">
        <Filters value="-;Benign"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="TargetIsNotEnemy">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="NotEnemy">
        <Filters value="-;Player,Ally"/>
    </CValidatorUnitFilters>
    <CValidatorUnitBehaviorStackAlias id="NoTeleportRevealBuffAnyBtrv">
        <Find value="0"/>
        <StackAlias value="Btrv"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitFilters id="NotSummonedUnit">
        <ResultFailed value="CantTargetThatUnit,Errors/Notsummoned"/>
    </CValidatorUnitFilters>
    <CValidatorUnitOrderQueue id="NotUsingChannelAbility">
        <WhichUnit Value="Target"/>
        <AbilLink value="ANcl"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="NotUsingRepairAhrp">
        <WhichUnit Value="Target"/>
        <AbilLink value="Ahrp"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="NotUsingRenewAren">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aren"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="NotUsingArst">
        <WhichUnit Value="Target"/>
        <AbilLink value="Arst"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="NotUsingRepairArep">
        <WhichUnit Value="Target"/>
        <AbilLink value="Arep"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitAbil id="TargetHasDevourAbilityAdev">
        <WhichUnit Value="Caster"/>
        <AbilLink value="Adev"/>
    </CValidatorUnitAbil>
    <CValidatorUnitOrder id="TargetHaveNotDisabledMoveWar3">
        <ResultFailed value="CantTargetThatUnit,Errors/Targetmoveable"/>
        <WhichUnit Value="Target"/>
        <AbilLink value="Amov"/>
        <CheckStateOnly value="1"/>
    </CValidatorUnitOrder>
    <CValidatorUnitAbil id="TargetDoesNotHaveLocustAbilityAloc">
        <ResultFailed value="CantTargetThatUnit,Errors/Targetmoveable"/>
        <AbilLink value="Aloc"/>
    </CValidatorUnitAbil>
    <CValidatorUnitState id="TargetIsNotMorphing">
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitState>
    <CValidatorUnitMover id="TargetIsNotNavalWar3">
        <ResultFailed value="CantTargetThatUnit,Errors/Nonaval"/>
        <Value value="float"/>
    </CValidatorUnitMover>
    <CValidatorUnitCompareField id="UnitIsNotRaceCreep">
        <Compare value="NE"/>
        <Field value="Race"/>
        <Value value="Creeps"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitFilters id="War3_NotNonBuildingUnit">
        <Filters value="-;NonBuildingUnit"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareField id="War3_SmartCreepLevel">
        <WhichUnit Value="Source"/>
        <Compare value="GE"/>
        <Field value="Level"/>
        <Value value="7"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitBehaviorStackAlias id="War3_TargetNotHaveGhostAbility">
        <ResultFailed value="CantTargetThatUnit,Errors/Cantpolymorphunit"/>
        <Find value="0"/>
        <StackAlias value="Agho"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitOrderQueue id="War3_TargetIsAttacking">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aatk"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitCompareVital id="TargetLifeGT30Percent" parent="CasterLifePercent">
        <WhichUnit Value="Target"/>
        <Compare value="GT"/>
        <Value value="0.3"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="TargetLifeGT10Percent" parent="CasterLifePercent">
        <WhichUnit Value="Target"/>
        <Compare value="GT"/>
        <Value value="0.1"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="CasterEnergyNotFull">
        <ResultFailed value="Error,Error/EnergyNotFullCaster"/>
        <WhichUnit Value="Caster"/>
        <ResultNoUnit value="Error,Error/EnergyNotFullCaster"/>
        <Compare value="LT"/>
        <Type value="Fraction"/>
        <Value value="1"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitBehaviorStackAlias id="HasNoBuffAntiMagicShellAlias">
        <Find value="0"/>
        <StackAlias value="Bams"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorCombine id="NotHeroAndNotPowerfulMob">
        <CombineArray value="HeroOrPowerfulMob"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="IsDebrisWar3">
        <Filters value="Destructible;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitBehaviorState id="IsHallucinationAny">
        <Enabled value="1"/>
        <BehaviorState value="Hallucination"/>
    </CValidatorUnitBehaviorState>
    <CValidatorCombine id="IsTreeOrDebrisWar3">
        <CombineArray value="IsDebrisWar3"/>
        <CombineArray value="IsTreeWar3"/>
    </CValidatorCombine>
    <CValidatorUnitBehaviorStackAlias id="NoPolymorphAlias">
        <Find value="0"/>
        <StackAlias value="Bply"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorCombine id="NotWar3NormalTransport">
        <ResultFailed value="CantTargetThatUnit,Errors/Nottransport"/>
        <CombineArray value="TargetIsNotTransport"/>
        <CombineArray value="TargetHasNoAblilityMeatLoadAmel"/>
        <CombineArray value="TargetHasNoAblilityDevourAdev"/>
        <CombineArray value="TargetHasNoAblilityCreepDevourACdv"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="Structure">
        <Filters value="Structure;-"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="IsSummonedOrHallucination">
        <CombineArray value="IsSummonedUnit"/>
        <CombineArray value="IsHallucinationAny"/>
    </CValidatorCombine>
    <CValidatorUnitType id="Militia">
        <Value value="hmil"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareCooldown id="SourceWeaponNotInCooldownWar3">
        <WhichUnit Value="Source"/>
        <Compare value="LT"/>
        <CooldownLink value="War3_Weapon"/>
        <Location value="Unit"/>
        <Ability value="Aatk"/>
        <Value value="0.0625"/>
    </CValidatorUnitCompareCooldown>
    <CValidatorUnitFilters id="ShareVisTargetIsNotVisible">
        <WhichUnit Effect="ShareVisibilitywithTarget"/>
        <Filters value="-;Visible"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AILightningShieldTarget">
        <Type value="And"/>
        <CombineArray value="noMarkers"/>
        <CombineArray value="LightningShieldEnemeyGE2"/>
        <CombineArray value="LightningShieldNoFriend"/>
        <CombineArray value="LightningShieldTestBuff"/>
    </CValidatorCombine>
    <CValidatorPlayerCompareType id="ComputerPlayer">
        <WhichPlayer Value="Target"/>
        <Value value="Computer"/>
    </CValidatorPlayerCompareType>
    <CValidatorLocationEnumArea id="EnemiesNearby6" parent="EnemiesNearby">
        <AreaArray index="0" Compare="GE" Count="1" Radius="12"/>
    </CValidatorLocationEnumArea>
    <CValidatorUnitType id="IsPeasant">
        <Value value="hpea"/>
    </CValidatorUnitType>
    <CValidatorCombine id="IsPeonOrPeasant">
        <CombineArray value="IsPeon"/>
        <CombineArray value="IsPeasant"/>
    </CValidatorCombine>
    <CValidatorLocationEnumArea id="LightningShieldEnemeyGE2">
        <AreaArray Radius="2.5"/>
        <WhichLocation Value="TargetUnit"/>
        <Count value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <SearchFilters value="-;Player,Ally,Neutral,Air,Robotic,Structure,Hover,HarvestableResource,Missile,Destructible,Item,Dead,Hidden,Invulnerable,Passive"/>
        <ExcludeArray Value="Target"/>
    </CValidatorLocationEnumArea>
    <CValidatorCombine id="NoMarkerAndTrollBatraiderCannotAttackAnyOrLE40PercentLife">
        <Type value="And"/>
        <CombineArray value="TrollBatraiderCannotAttackAnyOrLE40PercentLife"/>
        <CombineArray value="noMarkers"/>
    </CValidatorCombine>
    <CValidatorCombine id="TargetCanMoveWar3">
        <ResultFailed value="CantTargetThatUnit,Errors/Targetmoveable"/>
        <Type value="And"/>
        <CombineArray value="TargetNotStunned"/>
        <CombineArray value="TargetCanIssueMoveOrderWar3"/>
    </CValidatorCombine>
    <CValidatorUnitOrder id="TargetCanIssueMoveOrderWar3">
        <ResultFailed value="CantTargetThatUnit,Errors/Targetmoveable"/>
        <WhichUnit Value="Target"/>
        <AbilLink value="Amov"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrderQueue id="TargetIsDirectlyMovingToCasterWar3">
        <ResultFailed value="CantTargetThatUnit"/>
        <WhichUnit Value="Target"/>
        <AbilLink value="Amov"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitFilters id="TargetIsImmuneToDispels">
        <Filters value="User1;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="TargetIsNotImmuneToDispels">
        <ResultFailed value="CantTargetThatUnit,Errors/Immunetomagic"/>
        <Filters value="-;User1"/>
    </CValidatorUnitFilters>
    <CValidatorUnitOrderQueue id="TargetIsNotDirectlyMovingToCasterWar3">
        <ResultFailed value="CantTargetThatUnit"/>
        <WhichUnit Value="Target"/>
        <AbilLink value="Amov"/>
        <Find value="0"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="TargetIsNotAttackingWar3">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aatk"/>
        <Find value="0"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitCompareVital id="TargetLifeLT250">
        <Compare value="LT"/>
        <Value value="250"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="TargetLifeLT250AndNoMarker">
        <Type value="And"/>
        <CombineArray value="TargetLifeLT100"/>
        <CombineArray value="noMarkers"/>
    </CValidatorCombine>
    <CValidatorUnitBehaviorState id="TargetNotStunned">
        <ResultFailed value="CantTargetStunnedUnits"/>
        <BehaviorState value="Stun"/>
    </CValidatorUnitBehaviorState>
    <CValidatorIsUnitTracked id="TestHasOwl">
        <ResultFailed value="CantTargetThatUnit,Errors/Needowltree"/>
        <Find value="1"/>
        <BehaviorLink value="TackerHasOwl"/>
        <TrackedUnit Value="Target"/>
    </CValidatorIsUnitTracked>
    <CValidatorCombine id="TestHasNoOwl">
        <ResultFailed value="CantTargetThatUnit,Errors/Needemptytree"/>
        <CombineArray value="TestHasOwl"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorLocationEnumArea id="TrollBatraiderCannotAttackAny" parent="HostileSearchEmpty">
        <AreaArray Radius="14" Validator="CasterCanAttackTarget_War3"/>
    </CValidatorLocationEnumArea>
    <CValidatorCombine id="TrollBatraiderCannotAttackAnyOrLE40PercentLife">
        <CombineArray value="CasterLifeLT40Percent"/>
        <CombineArray value="TrollBatraiderCannotAttackAny"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="TargetItemisDroppable">
        <Behavior value="Undroppable"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationEnumArea id="UnstableConcoctionEnemeyGT2">
        <WhichLocation Value="TargetUnit"/>
        <AreaArray Radius="3.125"/>
        <Count value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <SearchFilters value="-;Player,Ally,Neutral,Ground,Robotic,Structure,Hover,HarvestableResource,Destructible,Item,Stasis,Dead,Invulnerable"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="LightningShieldNoFriend">
        <AreaArray Radius="2.5"/>
        <WhichLocation Value="TargetUnit"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <SearchFilters value="-;Neutral,Enemy,Air,Robotic,Structure,Hover,HarvestableResource,Missile,Destructible,Item,Dead,Hidden,Invulnerable,Passive"/>
        <ExcludeArray Value="Target"/>
        <Compare value="Eq"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="NoEnemiesNearby">
        <Compare value="Eq"/>
        <SearchFilters value="-;Self,Player,Ally,Neutral,Missile,Dead,Hidden,Invulnerable"/>
    </CValidatorLocationEnumArea>
    <CValidatorCombine id="NoSpiritLinkandHave3Unlinked">
        <Type value="And"/>
        <CombineArray value="noMarkers"/>
        <CombineArray value="HasSpiritLinkAnyAspl"/>
        <CombineArray value="UnSpiritLinkedFriendsGE3"/>
        <CombineArray value="TargetInCombat"/>
    </CValidatorCombine>
    <CValidatorUnitBehaviorStackAlias id="HasSpiritLinkAnyAspl">
        <StackAlias value="Aspl"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorCombine id="SummonedEnemyOrEnemyHasPurgableBuffOrFriendHasPurgableDebuff">
        <CombineArray value="SummonedEnemy"/>
        <CombineArray value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
    </CValidatorCombine>
    <CValidatorCombine id="TacticalEtherealForm">
        <CombineArray value="TacticalEtherealFormThreatSearchEmpty"/>
        <CombineArray value="CasterLifeLT50Percent"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorLocationEnumArea id="TacticalEtherealFormThreatSearch" parent="TacticalCloakThreatSearch" unitLink="ospm">
        <AreaArray index="0" Radius="20" Validator="UnitThreatensospm"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="TacticalDisenchant" unitLink="ospm">
        <WhichLocation Value="CasterUnit"/>
        <AreaArray Radius="16" Validator="SummonedEnemyOrEnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <Compare value="GE"/>
        <Count value="1"/>
        <SearchFilters value="Visible;Missile,Stasis,Dead,Hidden,Invulnerable"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="TacticalEtherealFormThreatSearchEmpty" parent="TacticalCloakThreatSearchEmpty" unitLink="ospm">
        <AreaArray index="0" Radius="20" Validator="UnitThreatensospm"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="UnSpiritLinkedFriendsGE3">
        <AreaArray Radius="20" Validator="HasSpiritLinkAnyAspl"/>
        <Compare value="GE"/>
        <Count value="3"/>
        <SearchFilters value="-;Neutral,Enemy,Robotic,Mechanical,Structure,Hover,HarvestableResource,Missile,Destructible,Item,Dead,Hidden,Invulnerable,Unstoppable"/>
    </CValidatorLocationEnumArea>
    <CValidatorUnitCompareAttackPriority id="UnitThreatensospm" parent="ThreatensUnit" unitLink="ospm"/>
    <CValidatorUnitAbil id="TargetCantAttack">
        <AbilClass value="CAbilAttack"/>
    </CValidatorUnitAbil>
    <CValidatorLocationPathable id="CasterIsStandingOnUnwalkableLoc">
        <WhichLocation Value="CasterUnit"/>
        <Find value="0"/>
        <Types index="Building" value="0"/>
    </CValidatorLocationPathable>
    <CValidatorUnitAbil id="HasnoCargoAbility">
        <ResultFailed value="CantTargetThatUnit"/>
        <AbilClass value="CAbilTransport"/>
    </CValidatorUnitAbil>
    <CValidatorCombine id="AttackingOrInCombatWar3">
        <CombineArray value="CasterIsAttackingWar3"/>
        <CombineArray value="CasterInCombat"/>
    </CValidatorCombine>
    <CValidatorUnitCompareVital id="CasterHasEnergy">
        <ResultFailed value="NotEnoughEnergy,Errors/Nomana"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareCargo id="IsCasterTransportNotFull">
        <WhichUnit Value="Caster"/>
        <Compare value="GT"/>
        <ResultFailed value="NoCargoToUnload"/>
    </CValidatorUnitCompareCargo>
    <CValidatorUnitWeaponFiring id="CasterIsFiringWeapon_War3">
        <WhichUnit Value="Caster"/>
    </CValidatorUnitWeaponFiring>
    <CValidatorUnitFilters id="CasterIsDeadAndNotHidden">
        <WhichUnit Value="Caster"/>
        <Filters value="Dead;Hidden"/>
    </CValidatorUnitFilters>
    <CValidatorUnitBehaviorStackAlias id="NoFrostArmorAlias">
        <StackAlias value="BUfa"/>
        <Find value="0"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitCompareBehaviorCount id="IsUndead">
        <ResultFailed value="Error,Errors/Targetundead"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="NotFireLord">
        <Value value="Nfir"/>
        <Find value="0"/>
    </CValidatorUnitType>
    <CValidatorCombine id="HealingAutoCastTargetFilter">
        <CombineArray value="NotFullLife"/>
        <CombineArray value="NotNegativeLifeRegen"/>
        <CombineArray value="NotHidden"/>
        <CombineArray value="NotHallucinationTarget"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorCombine id="LifeNotFullOrEnergyNotFull">
        <ResultFailed value="TooMuchLife,Errors/HPmanamaxed"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="NotNegativeLifeRegen">
        <Compare value="GE"/>
        <Field value="LifeRegenRate"/>
        <Value value="0"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareField id="NotNegativeEnergyRegen">
        <Compare value="GE"/>
        <Field value="EnergyRegenRate"/>
        <Value value="0"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitFilters id="NotPlayerUnit">
        <Filters value="-;Player"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareBehaviorCount id="War3_NotRecentlyDropedCorpse">
        <Behavior value="War3_RecentlyDroppedCorpse"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareDeath id="NotRemoved">
        <Compare value="NE"/>
        <Value value="Remove"/>
    </CValidatorUnitCompareDeath>
    <CValidatorUnitCompareVeterancyLevel id="NotInMaxLevel">
        <ResultMaxLevel value="Error,Errors/Heromaxed"/>
        <Compare value="GE"/>
    </CValidatorUnitCompareVeterancyLevel>
    <CValidatorCombine id="RequirePurgeAndNoMarker">
        <Type value="And"/>
        <CombineArray value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <CombineArray value="noMarkers"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="SourceNotDead"/>
    <CValidatorUnitFilters id="NotSelf">
        <Filters value="-;Self"/>
    </CValidatorUnitFilters>
    <CValidatorLocationEnumArea id="AnimateDeadTargetGE3" parent="TacticalCloakThreatSearch" unitLink="Banshee">
        <AreaArray index="0">
            <Compare value="GE"/>
            <Count value="3"/>
            <Radius value="14.0625"/>
            <Validator value=""/>
        </AreaArray>
        <Count value="3"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <SearchFilters value="Dead,Decaying,Raisable;Robotic,Structure,Hover,HarvestableResource,Missile,Destructible,Item,Hidden,Invulnerable,Resistant"/>
    </CValidatorLocationEnumArea>
    <CValidatorUnitCompareOrderCount id="TargetHasOrder">
        <Compare value="GT"/>
        <WhichUnit Value="Target"/>
    </CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareDamageTakenTime id="TargetInCombatLong">
        <Compare value="LT"/>
        <Value value="3"/>
    </CValidatorUnitCompareDamageTakenTime>
    <CValidatorUnitMover id="TargetIsNotFlyerWar3">
        <Value value="Fly"/>
        <ResultFailed value="MustTargetGroundUnits"/>
    </CValidatorUnitMover>
    <CValidatorUnitFilters id="AirUnit">
        <Filters value="Air;-"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareVital id="TargetLifeLT100">
        <Compare value="LT"/>
        <Value value="100"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="TargetLifeGT1">
        <Compare value="GT"/>
        <Value value="1"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="TargetLifeLE1">
        <Compare value="LE"/>
        <Value value="1"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="TargetLifeLT100AndNoMarker">
        <Type value="And"/>
        <CombineArray value="TargetLifeLT100"/>
        <CombineArray value="noMarkers"/>
    </CValidatorCombine>
    <CValidatorCombine id="ThreatensAndNoMarkers">
        <Type value="And"/>
        <CombineArray value="Threatens"/>
        <CombineArray value="noMarkers"/>
    </CValidatorCombine>
    <CValidatorUnitCompareSpeed id="Moving">
        <Compare value="GT"/>
    </CValidatorUnitCompareSpeed>
    <CValidatorUnitWeaponFiring id="TargetIsFiringWeapon"/>
    <CValidatorUnitWeaponFiring id="TargetIsNotFiringWeapon">
        <Find value="0"/>
    </CValidatorUnitWeaponFiring>
    <CValidatorUnitOrder id="TargetCanAttackCaster_War3">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aatk"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrder id="CasterCanAttackTarget_War3">
        <AbilLink value="Aatk"/>
        <Target Value="TargetUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitCompareVital id="CasterLifeNotFull">
        <ResultFailed value="TooMuchLife,Errors/UnitHPmaxed"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareField id="IsTreeWar3">
        <Field value="UserFlagArray[Tree]"/>
        <ResultFailed value="MustTargetResources,Errors/Targettree"/>
        <Value value="1"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitType id="IsPeon">
        <Value value="opeo"/>
    </CValidatorUnitType>
    <CValidatorUnitFilters id="Mechanical">
        <Filters value="Mechanical;-"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="MechanicalOrStructure">
        <CombineArray value="Mechanical"/>
        <CombineArray value="Structure"/>
    </CValidatorCombine>
    <CValidatorUnitCompareDamageTakenTime id="CasterDamagedInCombat">
        <WhichUnit Value="Caster"/>
        <Compare value="LT"/>
        <Value value="1"/>
    </CValidatorUnitCompareDamageTakenTime>
    <CValidatorUnitCompareDamageTakenTime id="NotInCombat">
        <Compare value="GE"/>
        <Value value="1"/>
    </CValidatorUnitCompareDamageTakenTime>
    <CValidatorUnitCompareVital id="TargetEnergyNotFull">
        <ResultFailed value="Error,Errors/Manamaxed"/>
        <Compare value="LT"/>
        <Type value="Fraction"/>
        <Value value="1"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitFilters id="IsNotEnemy">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="IsEnemy">
        <Filters value="-;Player,Ally,Neutral"/>
    </CValidatorUnitFilters>
    <CValidatorUnitBehaviorState id="IsSummoned">
        <BehaviorState value="Summoned"/>
    </CValidatorUnitBehaviorState>
    <CValidatorUnitFilters id="NotBuilding_War3">
        <Filters value="-;Structure"/>
    </CValidatorUnitFilters>
    <CValidatorUnitBehaviorStackAlias id="TargetHasBmlt">
        <StackAlias value="Bmlt"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffInnerFireAny">
        <Find value="0"/>
        <StackAlias value="Binf"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitBehaviorStackAlias id="NoBuffFaerieFireAny">
        <Find value="0"/>
        <StackAlias value="Bfae"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorUnitOrderQueue id="TargetIsAttacking">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aatk"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitCompareVital id="TargetLifeNotFull">
        <ResultFailed value="RequiresHealTarget"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="TargetNotFullVital">
        <CombineArray value="TargetEnergyNotFull"/>
        <CombineArray value="TargetLifeNotFull"/>
        <ResultFailed value="TooMuchLife,Errors/HPmanamaxed"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="SummonedEnemy">
        <Filters value="Summoned;Player,Ally,Neutral"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="War3_MindControlTargetBaseFilter">
        <ResultFailed value="CantTargetThatUnit"/>
        <Type value="And"/>
        <CombineArray value="NotWar3NormalTransport"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="War3_IsSleeping">
        <Compare value="GT"/>
        <Categories index="User5" value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="War3_IsNotSleeping">
        <Categories index="User5" value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="IsNotUndead">
        <Behavior value="undead"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitFilters id="NotDestructible">
        <Filters value="-;Destructible"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareVital id="TargetHasMana">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GE"/>
        <Value value="1"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="MaxEnergyGT0">
        <ResultFailed value="MustTargetUnitWithEnergy"/>
        <Compare value="GT"/>
        <Type value="Maximum"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitType id="Acoh@PartnerUnitType">
        <Value value="earc"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="Acoa@PartnerUnitType">
        <Value value="ehip"/>
    </CValidatorUnitType>
    <CValidatorUnitOrder id="Acoa@TargetCanPickUpCaster">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrderQueue id="Acoa@TargetIsPickingUpCaster">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorCombine id="Amin@ValidTarget">
        <CombineArray value="IsMoverFootWar3"/>
        <CombineArray value="IsMoverHorseWar3"/>
        <CombineArray value="IsMoverAmphibiousWar3"/>
        <CombineArray value="IsMoverGroundSC2"/>
    </CValidatorCombine>
    <CValidatorCombine id="Apos@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="Apos@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorPlayerRequirement id="AIgu">
        <ResultFailed value="Error,Error/AlreadyReachedMaxTech"/>
        <WhichPlayer Value="Caster"/>
        <Find value="1"/>
        <Value value="AIgu"/>
    </CValidatorPlayerRequirement>
    <CValidatorPlayerRequirement id="AIgf">
        <ResultFailed value="Error,Error/AlreadyReachedMaxTech"/>
        <WhichPlayer Value="Caster"/>
        <Find value="1"/>
        <Value value="AIgf"/>
    </CValidatorPlayerRequirement>
    <CValidatorUnitCompareBehaviorCount id="ACsp@NotSnoozing">
        <Behavior value="ACsp@Snooze"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Asla@NotSnoozing">
        <Behavior value="Asla@Snooze"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareField id="ANdc@TargetRace">
        <Field value="Race"/>
        <Value value="Commoner"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitCompareField>
    <CValidatorLocationCompareRange id="War3_CreepGuard@AwayFromGuardPosition">
        <WhichLocation Value="CasterUnit"/>
        <Compare value="GT"/>
        <Range value="9.375"/>
        <Value Value="OriginPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="War3_CreepGuard@CanPathToTarget">
        <WhichLocation Value="SourceUnit"/>
        <Compare value="LE"/>
        <Range value="1000"/>
        <Pathing value="1"/>
        <Value Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorEffectTreeUserData id="War3_CreepGuard@IsAttackingAlwaysAcquireTarget">
        <Compare value="GT"/>
        <Key value="IsAttackingAlwaysAcquire"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="War3_CreepGuard@IsFleeingFromTarget">
        <Type value="And"/>
        <CombineArray value="War3_CreepsNeverAcquire"/>
        <CombineArray value="SourceIsOrderedToMoveWar_3"/>
    </CValidatorCombine>
    <CValidatorUnitCompareVitality id="War3_CreepGuard@NotInLowLife">
        <WhichUnit Value="Source"/>
        <Compare value="GT"/>
        <Value value="0.6"/>
    </CValidatorUnitCompareVitality>
    <CValidatorCombine id="War3_CreepGuard@ReturnTimerRefreshValidators">
        <CombineArray value="War3_CreepGuard@NotInLowLife"/>
        <CombineArray value="War3_CreepsAlwaysAcquire"/>
        <CombineArray value="War3_CreepGuard@IsFleeingFromTarget"/>
        <CombineArray value="NotStructure"/>
        <CombineArray value="IsUnderConstruction"/>
        <CombineArray value="War3_CreepGuard@IsAttackingAlwaysAcquireTarget"/>
    </CValidatorCombine>
    <CValidatorLocationCompareRange id="War3_CreepGuard@WithinMaxReturnDistance">
        <WhichLocation Value="CasterUnit"/>
        <Compare value="LE"/>
        <Range value="15.625"/>
        <Value Value="OriginPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="War3_CreepGuard@BuildAcquirePathingLimit">
        <WhichLocation Value="SourceUnit"/>
        <Compare value="LE"/>
        <Range value="92"/>
        <Pathing value="1"/>
        <Value Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitType id="ANsl@UnitType">
        <Value value="nzom"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitType>
    <CValidatorCombine id="War3_CreepGuard@BuildingAcquireValidators">
        <CombineArray value="NotHidden"/>
        <CombineArray value="TargetIsIdle"/>
        <CombineArray value="War3_SmartCreepLevel"/>
        <CombineArray value="War3_CreepNotCamping"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="War3_CreepGuard@HasReturnDelay">
        <WhichUnit Value="Source"/>
        <Compare value="GT"/>
        <Behavior value="War3_CreepGuard@ReturnDelay"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="War3_CreepGuard@HasNoReturnDelay">
        <WhichUnit Value="Source"/>
        <Behavior value="War3_CreepGuard@ReturnDelay"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCompareTrackedUnitsCount id="Awrp@HasDestination">
        <ResultFailed value="CantTargetThatUnit,Errors/Teleportfail"/>
        <Value value="1"/>
        <BehaviorLink value="Awrp@DestinationTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorUnitCompareField id="AChx@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="99"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="AChx@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="AChx@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCombine id="AChx@TargetChecks">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <Type value="And"/>
        <CombineArray value="AChx@NotCreepOrNotMaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCondition id="ACde@SearchValidator">
        <IfArray Test="TargetIsEnemy" Return="TargetHasPositiveOrNegativeMagicBuffOrIsSummonedOrIsHallucination"/>
        <Else value="TargetHasPositiveOrNegativeMagicBuff"/>
    </CValidatorCondition>
    <CValidatorUnitCompareField id="ACdv@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ACdv@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ACdv@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="ANlm@Generation2">
        <Value value="2"/>
        <Behavior value="ANlm@Generation"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="ANlm@Generation3">
        <Value value="3"/>
        <Behavior value="ANlm@Generation"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="ANlm@SplitAttackCount">
        <WhichUnit Value="Source"/>
        <Compare value="GE"/>
        <Value value="15"/>
        <Behavior value="ANlm@AttackCount"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="ANlm@MaxGenerationCount">
        <WhichUnit Value="Source"/>
        <Compare value="LT"/>
        <Value value="3"/>
        <Behavior value="ANlm@Generation"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="ANvc@NotHaveBuffVolcanoAoe">
        <Behavior value="ANvc@BuffVolcanoAoe"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitOrder id="ANic@DamageSourceHasAbility">
        <WhichUnit Value="Target"/>
        <AbilLink value="ANic"/>
        <CheckStateOnly value="1"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrder id="ANia@DamageSourceHasAbility">
        <WhichUnit Value="Target"/>
        <AbilLink value="ANia"/>
        <CheckStateOnly value="1"/>
    </CValidatorUnitOrder>
    <CValidatorCombine id="ANdo@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ANdo@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="ANdo@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ANtm@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ANtm@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="ANtm@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorLocationCompareRange id="ANfy@Leash">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="17.1875"/>
        <Value Effect="ANfy@CreateClockworkGoblin" Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="ANsy@Leash">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="17.1875"/>
        <Value Effect="ANsy@CreateClockworkGoblin" Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="ANs1@Leash">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="17.1875"/>
        <Value Effect="ANs1@CreateClockworkGoblin" Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="ANs2@Leash">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="17.1875"/>
        <Value Effect="ANs2@CreateClockworkGoblin" Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="ANs3@Leash">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="17.1875"/>
        <Value Effect="ANs3@CreateClockworkGoblin" Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorCompareTrackedUnitsCount id="ANef@AllDead">
        <BehaviorLink value="ANef@SummonedUnitTracker"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorLocationCompareRange id="Atwa@LeashTooFar">
        <WhichLocation Value="OriginPoint"/>
        <Compare value="GT"/>
        <Range value="23.4375"/>
        <Value Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="AHdr@NotCastingOrWithInMaxRange">
        <CombineArray value="AHdr@NotCasting"/>
        <CombineArray value="AHdr@MaxRange"/>
    </CValidatorCombine>
    <CValidatorCombine id="Acmg@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="Acmg@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitOrderQueue id="Amil@CasterHaveMorphingBackOrder">
        <AbilLink value="Amil"/>
        <AbilCmdIndex value="2"/>
    </CValidatorUnitOrderQueue>
    <CValidatorCombine id="Amil@CasterIsNotMorphingBack">
        <CombineArray value="CasterIsMorphing"/>
        <CombineArray value="Amil@CasterHaveMorphingBackOrder"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorCombine id="AHmt@TeleportTargetValidators">
        <Type value="And"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetNotDead"/>
        <CombineArray value="NotHidden"/>
        <CombineArray value="TargetIsVisible"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="Acmg@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitOrder id="Alam@TargetCanTrain">
        <ResultFailed value="TechRequirementsNotMet,Errors/Pitalreadysacrificing"/>
        <WhichUnit Value="Target"/>
        <AbilLink value="usap@Train"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrder id="Alam@TargetIsTraining">
        <WhichUnit Effect="Alam" Value="Target"/>
        <AbilLink value="ASnP"/>
    </CValidatorUnitOrder>
    <CValidatorUnitAbil id="Aaha@HasBlightedGoldMine">
        <Find value="1"/>
        <AbilLink value="Abgm"/>
    </CValidatorUnitAbil>
    <CValidatorUnitCompareField id="Aaha@IsUndeadGoldMine">
        <ResultFailed value="Error,Errors/Targetblightedmine"/>
        <Field value="Race"/>
        <Value value="Undead"/>
    </CValidatorUnitCompareField>
    <CValidatorCompareTrackedUnitsCount id="Aaha@BlightMineHasHarvester">
        <Compare value="GT"/>
        <BehaviorLink value="Aaha@Tracker"/>
        <TrackerUnit Value="Target"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCombine id="Aaha@ChannelValidators">
        <Type value="And"/>
        <CombineArray value="TargetNotDead"/>
        <CombineArray value="NoUnsummonAny"/>
    </CValidatorCombine>
    <CValidatorCombine id="Aps2@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="Aps2@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCombine id="ANch@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ANch@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCompareTrackedUnitsCount id="Aaha@BlightMineNotFull">
        <Compare value="LT"/>
        <Value value="5"/>
        <BehaviorLink value="Aaha@Tracker"/>
        <ResultFailed value="NotEnoughRoomToLoadUnit,Errors/Blightringfull"/>
        <TrackerUnit Value="Target"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorUnitCompareBehaviorCount id="Arpl@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Arpl@BuffReplenishLife"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Arpm@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Arpm@BuffReplenishMana"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareField id="Aaha@IsResourceTypeGold">
        <ResultFailed value="Error,Errors/Targetblightedmine"/>
        <Field value="ResourceType"/>
        <Value value="Terrazine"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitFilters id="Aaha@NotHavrestableGoldMine">
        <ResultFailed value="Error,Errors/Blightminefirst"/>
        <Filters value="-;HarvestableResource"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="AUfn@MainTargetIsNeutral">
        <WhichUnit Effect="AUfn"/>
        <Filters value="-;Player,Ally,Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AUfn@NeutralCheck">
        <CombineArray value="TargetIsNotNeutral"/>
        <CombineArray value="AUfn@MainTargetIsNeutral"/>
    </CValidatorCombine>
    <CValidatorEffectTreeUserData id="AUls@DamageReturnThreshold">
        <Compare value="GE"/>
        <Key value="DamageLeeched"/>
        <Value value="0">
            <AccumulatorArray value="AUls@DamageReturnThreshold"/>
        </Value>
    </CValidatorEffectTreeUserData>
    <CValidatorUnitOrder id="AUls@LocustCanAttackThisTarget">
        <WhichUnit Value="Source"/>
        <AbilLink value="Aatk"/>
        <CmdFlags index="AttackOnce" value="1"/>
        <Target Value="TargetUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrderQueue id="AUls@LocustIsAttackingThisTarget">
        <WhichUnit Effect="AUls@LocustScan" Value="Target"/>
        <AbilLink value="Aatk"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="AUls@LocustIsReturning">
        <WhichUnit Value="Source"/>
        <AbilLink value="Amov"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorCombine id="AUls@LocustRecallValidators">
        <CombineArray value="AUls@DamageReturnThreshold"/>
        <CombineArray value="AUls@SwarmFinished"/>
    </CValidatorCombine>
    <CValidatorCombine id="AUls@LocustReturned">
        <Type value="And"/>
        <CombineArray value="AUls@LocustIsReturning"/>
        <CombineArray value="AUls@LocustReturnedRange"/>
    </CValidatorCombine>
    <CValidatorCombine id="AUls@LocustSuicideValidators">
        <CombineArray value="CasterIsDeadOrHidden"/>
        <CombineArray value="AUls@TooFarAway"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="AUls@MaxLocustPerTarget">
        <Compare value="LT"/>
        <Value value="0">
            <AccumulatorArray value="AUls@MaxSwarmUnitsPerTarget"/>
        </Value>
        <Behavior value="AUls@AttackTargetMarker"/>
        <RequireOriginPlayer Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationCompareRange id="AUls@LocustReturnedRange">
        <WhichLocation Value="SourceUnit"/>
        <Compare value="LT"/>
        <Range value="0.7812"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitCompareBehaviorCount id="AUls@SwarmFinished">
        <WhichUnit Value="Caster"/>
        <Behavior value="AUls@Duration"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationCompareRange id="AUls@TooFarAway">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="GT"/>
        <Range value="37.5"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitType id="Aco2@PartnerUnitType">
        <Value value="ehip"/>
    </CValidatorUnitType>
    <CValidatorUnitOrder id="Aco2@TargetCanPickUpCaster">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrderQueue id="Aco2@TargetIsPickingUpCaster">
        <WhichUnit Value="Target"/>
        <AbilLink value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitType id="Aco3@PartnerUnitType">
        <Value value="earc"/>
    </CValidatorUnitType>
    <CValidatorCompareTrackedUnitsCount id="Agyd@CorpseLimit">
        <Compare value="LT"/>
        <Value value="5"/>
        <BehaviorLink value="Agyd@CorpseTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorUnitCompareVital id="Ambt@AutocastManaRequirement">
        <WhichUnit Value="Caster"/>
        <Compare value="GE"/>
        <Value value="10"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitAbil id="Ambt@TargetNotHaveSameAbility">
        <AbilLink value="Ambt"/>
    </CValidatorUnitAbil>
    <CValidatorCombine id="Ashm@DecloackActions">
        <CombineArray value="Night"/>
        <CombineArray value="NotUnitAbilEffectStageChanneling"/>
        <CombineArray value="TargetIsNotAttackingWar3"/>
        <CombineArray value="NotMoving"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorLocationCompareRange id="AUls@InLocustAcquireRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="14.0625"/>
        <Value Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="Sshm@DecloackActions">
        <Type value="And"/>
        <CombineArray value="Night"/>
        <CombineArray value="NotUnitAbilEffectStageChanneling"/>
        <CombineArray value="TargetIsNotAttackingWar3"/>
        <CombineArray value="NotMoving"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="Amfl@HaveCastersBuffManaFlareAoe">
        <Compare value="GT"/>
        <Behavior value="Amfl@BuffManaFlareAoe"/>
        <RequireCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitFilters id="Aent@GoldMineNotDead">
        <ResultFailed value="CantTargetDeadUnits"/>
        <WhichUnit Effect="Aent"/>
        <Filters value="-;Dead"/>
    </CValidatorUnitFilters>
    <CValidatorCondition id="Advm@SearchValidator">
        <IfArray Test="TargetIsEnemy" Return="TargetHasPositiveOrNegativeMagicBuffOrIsSummonedOrIsHallucination"/>
        <Else value="TargetHasNegativeMagicBuff"/>
    </CValidatorCondition>
    <CValidatorUnitCompareBehaviorCount id="Aspl@HasBuffSpiritLink">
        <Compare value="GT"/>
        <Behavior value="Aspl@BuffSpiritLink"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Asta@HasBuffStasisTrapTrigger">
        <Compare value="GT"/>
        <Behavior value="Asta@BuffStasisTrapTrigger"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitFilters id="Auco@TargetImpactFilters">
        <Filters value="-;Stasis,Dead,Invulnerable"/>
    </CValidatorUnitFilters>
    <CValidatorEffectTreeUserData id="AOcl@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="AOcl@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="AOcl@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorEffectTreeUserData id="AOhw@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="AOhw@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="AOhw@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="AOhx@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="99"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="AOhx@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="AOhx@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCombine id="AOhx@TargetChecks">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <Type value="And"/>
        <CombineArray value="AOhx@NotCreepOrNotMaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorPlayerFood id="Aast@FoodCheck">
        <WhichPlayer Value="Target"/>
        <TypeFallbackUnit Value="Target"/>
    </CValidatorPlayerFood>
    <CValidatorCombine id="Aesn@EffectSentinelPersistValidators">
        <Type value="And"/>
        <CombineArray value="TargetNotDead"/>
        <CombineArray value="TestHasOwl"/>
    </CValidatorCombine>
    <CValidatorCombine id="Aesr@EffectSentinelPersistValidators">
        <Type value="And"/>
        <CombineArray value="TargetNotDead"/>
        <CombineArray value="TestHasOwl"/>
    </CValidatorCombine>
    <CValidatorCombine id="Afsh@ArmorFilters">
        <CombineArray value="ArmorTypeNoArmor"/>
        <CombineArray value="ArmorTypeMedium"/>
    </CValidatorCombine>
    <CValidatorCombine id="Aply@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="Aply@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="Aply@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="Aply@TargetChecks">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <Type value="And"/>
        <CombineArray value="Aply@NotCreepOrNotMaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="Asps@NotBeingStolenByThePlayer">
        <Behavior value="Asps@StealingMark"/>
        <RequireOriginPlayer Value="Caster"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Needstealbuff"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="Abtl@UnitType">
        <Value value="opeo"/>
    </CValidatorUnitType>
    <CValidatorCombine id="Asps@IsStealableNonHeroicBuffTarget">
        <Type value="And"/>
        <CombineArray value="EnemyOrNeutral"/>
        <CombineArray value="HasBuffNonHeroicCanStealPositive"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Needstealbuff"/>
    </CValidatorCombine>
    <CValidatorCombine id="Asps@IsStealableNonHeroicDebuffTarget">
        <Type value="And"/>
        <CombineArray value="IsNotEnemy"/>
        <CombineArray value="HasBuffNonHeroicCanStealNegative"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Needstealbuff"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="Apos@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareField id="Aps2@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareField id="ANch@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareField id="Adev@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="AIco@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="AIco@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="AIco@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="Adev@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="Adev@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCompareTrackedUnitsCount id="Arai@TechLimit">
        <Compare value="LT"/>
        <Value value="25"/>
        <BehaviorLink value="Arai@UniqueSummonTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="AIrd@TechLimit">
        <Compare value="LT"/>
        <Value value="25"/>
        <BehaviorLink value="AIrd@UniqueSummonTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="AUcb@UnitNotCapped">
        <Compare value="LT"/>
        <Value value="5"/>
        <BehaviorLink value="AUcb@UniqueSummonTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorUnitType id="Aenc@HarvesterType">
        <Value value="ewsp"/>
        <ResultFailed value="MustTargetUnit,Errors/Targetwisp"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="Ahea@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Ahea@BuffHeal"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Apxf@BuffPhoenix">
        <Behavior value="Apxf@BuffPhoenix"/>
    </CValidatorUnitCompareBehaviorCount>
    <!--Phoenix Dur=.5 HeroDur=10 cast=.7-->
    <CValidatorUnitCompareBehaviorCount id="Aphx@EggTimedLife">
        <Behavior value="Aphx@EggTimedLife"/>
    </CValidatorUnitCompareBehaviorCount>
    <!--Death Knight - Death Coil-->
    <CValidatorCombine id="AUdc@HealTarget">
        <CombineArray value="AUdc@FriendFilter"/>
        <CombineArray value="TargetIsUndeadOrDemonRace"/>
        <CombineArray value="TargetLifeNotFull"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorCombine id="AUdc@DamageTarget">
        <Type value="And"/>
        <CombineArray value="AUdc@EnemyFilter"/>
        <CombineArray value="TargetIsNotUndeadNorDemonRace"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="AUdc@EnemyFilter">
        <Filters value="-;Player,Ally,Invulnerable,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="AUdc@FriendFilter">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AUdc@TargetFilter">
        <ResultFailed value="Error,Errors/Deathcoiltarget"/>
        <CombineArray value="AUdc@DamageTarget"/>
        <CombineArray value="AUdc@HealTarget"/>
    </CValidatorCombine>
    <CValidatorCompareTrackedUnitsCount id="Avng@UnitNotCapped">
        <Compare value="LT"/>
        <Value value="6"/>
        <BehaviorLink value="Avng@UniqueSummonTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCombine id="Amil@BackToWorkTownHallTest">
        <Type value="And"/>
        <CombineArray value="Amil@TownHallHasBackToWork"/>
        <CombineArray value="TargetIsPathable"/>
    </CValidatorCombine>
    <CValidatorUnitOrder id="Amil@TownHallHasCallToArm">
        <CheckStateOnly value="1"/>
        <AbilLink value="Amic"/>
        <WhichUnit Value="Target"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrder id="Amil@TownHallHasBackToWork">
        <CheckStateOnly value="1"/>
        <AbilCmdIndex value="2"/>
        <AbilLink value="Amic"/>
        <WhichUnit Value="Target"/>
    </CValidatorUnitOrder>
    <CValidatorUnitCompareBehaviorCount id="Amls@NoBuffMagicLeashTarget">
        <Behavior value="Amls@BuffMagicLeashTarget"/>
        <ResultFailed value="CantTargetThatUnit,Errors/Magicleashed"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="AHdr@BuffDrainBonusManaValidator">
        <CombineArray value="AHdr@Channeling"/>
        <CombineArray value="AHdr@ManaGreaterThanHalf"/>
    </CValidatorCombine>
    <CValidatorCombine id="Amil@CallToArmTownHallTest">
        <Type value="And"/>
        <CombineArray value="Amil@TownHallHasCallToArm"/>
        <CombineArray value="TargetIsPathable"/>
    </CValidatorCombine>
    <CValidatorUnitCompareVital id="AHdr@ManaGreaterThanHalf">
        <Compare value="GT"/>
        <Type value="Fraction"/>
        <Value value="0.5"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <!--Blood Mage - Siphon Mana Buff=Bdcb,Bdcl,Bdcm,Bdtb,Bdtl,Bdtm,Bdbb,Bdbl,Bdbm-->
    <CValidatorUnitCompareAbilStage id="AHdr@Channeling">
        <WhichUnit Value="Caster"/>
        <ResultNoUnit value="MustTargetUnit"/>
        <Ability value="AHdr"/>
    </CValidatorUnitCompareAbilStage>
    <CValidatorCombine id="AHdr@NotCasting">
        <CombineArray value="AHdr@Channeling"/>
        <Negate value="1"/>
    </CValidatorCombine>
    <CValidatorCombine id="AHdr@TransferFilterSet">
        <Type value="And"/>
        <CombineArray value="AHdr@TransferTarget"/>
        <CombineArray value="TargetEnergyNotFull"/>
        <CombineArray value="AHdr@NotCastingOrWithInMaxRange"/>
        <CombineArray value="TargetNotDead"/>
    </CValidatorCombine>
    <CValidatorCombine id="AHdr@DrainFilterSet">
        <Type value="And"/>
        <CombineArray value="AHdr@DrainTarget"/>
        <CombineArray value="AHdr@NotCastingOrWithInMaxRange"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetHasMana"/>
        <CombineArray value="TargetNotDead"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="AHdr@TransferTarget">
        <Filters value="-;Neutral,Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="AHdr@DrainTarget">
        <Filters value="-;Player,Ally,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AHdr@TargetFilterSet">
        <ResultFailed value="Error,Errors/Manamaxed"/>
        <CombineArray value="AHdr@DrainFilterSet"/>
        <CombineArray value="AHdr@TransferFilterSet"/>
    </CValidatorCombine>
    <CValidatorLocationCompareRange id="AHdr@MaxRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="12.5"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="AHhb@HealTarget">
        <Type value="And"/>
        <CombineArray value="AHhb@FriendFilter"/>
        <CombineArray value="TargetIsNotUndeadNorDemonRace"/>
        <CombineArray value="TargetLifeNotFull"/>
    </CValidatorCombine>
    <!--Paladin - Holy Light-->
    <CValidatorCombine id="AHhb@DamageTarget">
        <Type value="And"/>
        <CombineArray value="AHhb@EnemyFilter"/>
        <CombineArray value="TargetIsUndeadOrDemonRace"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="AHhb@EnemyFilter">
        <Filters value="-;Player,Ally,Invulnerable,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="AHhb@FriendFilter">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AHhb@TargetFilter">
        <ResultFailed value="Error,Errors/Holybolttarget"/>
        <CombineArray value="AHhb@DamageTarget"/>
        <CombineArray value="AHhb@HealTarget"/>
    </CValidatorCombine>
    <CValidatorCombine id="ACdr@DrainFilterSet">
        <Type value="And"/>
        <CombineArray value="ACdr@DrainTarget"/>
        <CombineArray value="ACdr@MaxRange"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetNotDead"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ACdr@DrainTarget">
        <Filters value="-;Player,Ally,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorLocationCompareRange id="ACdr@MaxRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="14.8437"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="ACsm@DrainFilterSet">
        <Type value="And"/>
        <CombineArray value="ACsm@DrainTarget"/>
        <CombineArray value="ACsm@MaxRange"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetHasMana"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ACsm@DrainTarget">
        <Filters value="HasEnergy;Player,Ally,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorLocationCompareRange id="ACsm@MaxRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="13.2812"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitCompareBehaviorCount id="Anhe@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Anhe@BuffHeal"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Anh1@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Anh1@BuffHeal"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="Anh2@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Anh2@BuffHeal"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCompareTrackedUnitsCount id="Acef@AllDead">
        <BehaviorLink value="Acef@SummonedUnitTracker"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCombine id="ACch@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ACch@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="ACch@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="6"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ANdr@DrainFilterSet">
        <Type value="And"/>
        <CombineArray value="ANdr@DrainTarget"/>
        <CombineArray value="ANdr@MaxRange"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetNotDead"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ANdr@DrainTarget">
        <Filters value="-;Player,Ally,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorLocationCompareRange id="ANdr@MaxRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="12.5"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="AIcm@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="AIcm@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="AIcm@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareField id="ACps@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ACps@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ACps@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="Arpb@NotBeingHealedByOthers">
        <ResultFailed value="Error,Errors/Alreadybeinghealed"/>
        <Behavior value="Arpb@BuffReplenish"/>
        <ExcludeCasterUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareVital id="Amb2@AutocastManaRequirement">
        <WhichUnit Value="Caster"/>
        <Compare value="GE"/>
        <Value value="10"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitAbil id="Amb2@TargetNotHaveSameAbility">
        <AbilLink value="Amb2"/>
    </CValidatorUnitAbil>
    <CValidatorEffectTreeUserData id="ANhw@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="ANhw@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="ANhw@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="ANhx@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="99"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ANhx@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ANhx@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCombine id="ANhx@TargetChecks">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <Type value="And"/>
        <CombineArray value="ANhx@NotCreepOrNotMaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorEffectTreeUserData id="AOls@DamageReturnThreshold">
        <Compare value="GE"/>
        <Key value="DamageLeeched"/>
        <Value value="0">
            <AccumulatorArray value="AOls@DamageReturnThreshold"/>
        </Value>
    </CValidatorEffectTreeUserData>
    <CValidatorUnitOrder id="AOls@LocustCanAttackThisTarget">
        <WhichUnit Value="Source"/>
        <AbilLink value="Aatk"/>
        <CmdFlags index="AttackOnce" value="1"/>
        <Target Value="TargetUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitOrderQueue id="AOls@LocustIsAttackingThisTarget">
        <WhichUnit Effect="AOls@LocustScan" Value="Target"/>
        <AbilLink value="Aatk"/>
    </CValidatorUnitOrderQueue>
    <CValidatorUnitOrderQueue id="AOls@LocustIsReturning">
        <WhichUnit Value="Source"/>
        <AbilLink value="Amov"/>
        <Target Value="CasterUnit"/>
    </CValidatorUnitOrderQueue>
    <CValidatorCombine id="AOls@LocustRecallValidators">
        <CombineArray value="AOls@DamageReturnThreshold"/>
        <CombineArray value="AOls@SwarmFinished"/>
    </CValidatorCombine>
    <CValidatorCombine id="AOls@LocustReturned">
        <Type value="And"/>
        <CombineArray value="AOls@LocustIsReturning"/>
        <CombineArray value="AOls@LocustReturnedRange"/>
    </CValidatorCombine>
    <CValidatorCombine id="AOls@LocustSuicideValidators">
        <CombineArray value="CasterIsDeadOrHidden"/>
        <CombineArray value="AOls@TooFarAway"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="AOls@MaxLocustPerTarget">
        <Compare value="LT"/>
        <Value value="0">
            <AccumulatorArray value="AOls@MaxSwarmUnitsPerTarget"/>
        </Value>
        <Behavior value="AOls@AttackTargetMarker"/>
        <RequireOriginPlayer Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationCompareRange id="AOls@LocustReturnedRange">
        <WhichLocation Value="SourceUnit"/>
        <Compare value="LT"/>
        <Range value="0.7812"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitCompareBehaviorCount id="AOls@SwarmFinished">
        <WhichUnit Value="Caster"/>
        <Behavior value="AOls@Duration"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationCompareRange id="AOls@TooFarAway">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="GT"/>
        <Range value="37.5"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="AOls@InLocustAcquireRange">
        <WhichLocation Value="TargetUnit"/>
        <Compare value="LE"/>
        <Range value="14.0625"/>
        <Value Value="SourceUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitType id="Sbtl@UnitType">
        <Value value="ncpn"/>
    </CValidatorUnitType>
    <CValidatorEffectTreeUserData id="ACcl@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="ACcl@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="ACcl@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorCombine id="ACdc@HealTarget">
        <CombineArray value="ACdc@FriendFilter"/>
        <CombineArray value="TargetIsUndeadOrDemonRace"/>
        <CombineArray value="TargetLifeNotFull"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorCombine id="ACdc@DamageTarget">
        <Type value="And"/>
        <CombineArray value="ACdc@EnemyFilter"/>
        <CombineArray value="TargetIsNotUndeadNorDemonRace"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ACdc@EnemyFilter">
        <Filters value="-;Player,Ally,Invulnerable,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="ACdc@FriendFilter">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="ACdc@TargetFilter">
        <ResultFailed value="Error,Errors/Deathcoiltarget"/>
        <CombineArray value="ACdc@DamageTarget"/>
        <CombineArray value="ACdc@HealTarget"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ACfn@MainTargetIsNeutral">
        <WhichUnit Effect="ACfn"/>
        <Filters value="-;Player,Ally,Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="ACfn@NeutralCheck">
        <CombineArray value="TargetIsNotNeutral"/>
        <CombineArray value="ACfn@MainTargetIsNeutral"/>
    </CValidatorCombine>
    <CValidatorEffectTreeUserData id="AChv@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="AChv@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="AChv@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorCombine id="ACpy@NotCreepOrNotMaxCreepLevel">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <CombineArray value="UnitIsNotRaceCreep"/>
        <CombineArray value="ACpy@MaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="ACpy@MaxCreepLevel">
        <Compare value="LE"/>
        <Field value="Level"/>
        <Value value="5"/>
    </CValidatorUnitCompareField>
    <CValidatorCombine id="ACpy@TargetChecks">
        <ResultFailed value="CantTargetThatUnit,Errors/Creeptoopowerful"/>
        <Type value="And"/>
        <CombineArray value="ACpy@NotCreepOrNotMaxCreepLevel"/>
    </CValidatorCombine>
    <CValidatorCompareTrackedUnitsCount id="ACrd@TechLimit">
        <Compare value="LT"/>
        <Value value="25"/>
        <BehaviorLink value="ACrd@UniqueSummonTracker"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCombine id="AImt@TeleportTargetValidators">
        <Type value="And"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="TargetNotDead"/>
        <CombineArray value="NotHidden"/>
        <CombineArray value="TargetIsVisible"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="Aspp@HasBuffSpiritLink">
        <Compare value="GT"/>
        <Behavior value="Aspp@BuffSpiritLink"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="AIhl@HealTarget">
        <Type value="And"/>
        <CombineArray value="AIhl@FriendFilter"/>
        <CombineArray value="TargetIsNotUndeadNorDemonRace"/>
        <CombineArray value="TargetLifeNotFull"/>
    </CValidatorCombine>
    <CValidatorCombine id="AIhl@DamageTarget">
        <Type value="And"/>
        <CombineArray value="AIhl@EnemyFilter"/>
        <CombineArray value="TargetIsUndeadOrDemonRace"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="AIhl@EnemyFilter">
        <Filters value="-;Player,Ally,Invulnerable,Unstoppable"/>
    </CValidatorUnitFilters>
    <CValidatorUnitFilters id="AIhl@FriendFilter">
        <Filters value="-;Enemy"/>
    </CValidatorUnitFilters>
    <CValidatorCombine id="AIhl@TargetFilter">
        <ResultFailed value="Error,Errors/Holybolttarget"/>
        <CombineArray value="AIhl@DamageTarget"/>
        <CombineArray value="AIhl@HealTarget"/>
    </CValidatorCombine>
    <CValidatorEffectTreeUserData id="AIcl@CanJumpToBenign">
        <Compare value="GT"/>
        <Key value="HitBenign"/>
    </CValidatorEffectTreeUserData>
    <CValidatorCombine id="AIcl@JumpTargetFilters">
        <CombineArray value="TargetIsNotBenign"/>
        <CombineArray value="AIcl@CanJumpToBenign"/>
    </CValidatorCombine>
    <CValidatorUnitCompareField id="SNdc@TargetRace">
        <Field value="Race"/>
        <Value value="Commoner"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitOrder id="SourceCanAttackTarget_War3">
        <WhichUnit Value="Source"/>
        <AbilLink value="Aatk"/>
        <Target Value="TargetUnit"/>
    </CValidatorUnitOrder>
    <CValidatorUnitBehaviorStackAlias id="NoBuffTornadoSpinAnyBtsa">
        <Find value="0"/>
        <StackAlias value="Btsa"/>
    </CValidatorUnitBehaviorStackAlias>
    <CValidatorCombine id="War3_SummonedUnitDamageValidators">
        <Type value="And"/>
        <CombineArray value="IsSummonedOrHallucination"/>
        <CombineArray value="IsEnemy"/>
        <CombineArray value="NotInvulnerable"/>
        <!--This is the Old Anti Magic Shell, it prevent summoned damage, but itself can be dispeled-->
        <CombineArray value="HasNoBuffAntiMagicShellAlias"/>
    </CValidatorCombine>
</Catalog>
