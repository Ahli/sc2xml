<?xml version="1.0" encoding="utf-8"?>
<Catalog>
    <CEffectCreateHealer default="1" id="War3_InstantHeal">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <Flags index="Channeled" value="0"/>
        <PeriodCount value="0"/>
        <PeriodicPeriod value="1"/>
    </CEffectCreateHealer>
    <CEffectModifyUnit default="1" id="War3_Heal">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ModifyFlags index="IsHeal" value="1"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectModifyUnit>
    <CEffectEnumArea default="1" id="War3_AuraSearch">
        <?token id="aura" type="CEffectLink"?>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="14.0625" Effect="##aura##"/>
    </CEffectEnumArea>
    <!--Arch Mage - Water Elemental Buff=BHwe-->
    <CEffectEnumArea default="1" id="War3_AbilSearch">
        <SearchFilters value="-;air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,ground,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea default="1" id="War3_AbilSearchRadiusExt" parent="War3_AbilSearch">
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectDamage default="1" id="War3_Poision" parent="War3_PhysicSpellDamage">
        <Flags index="Live" value="1"/>
        <Amount value="1"/>
        <ResponseFlags index="Flee" value="0"/>
        <Type value="Poison"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectDamage default="1" id="War3_AttackEnchantDamage" parent="War3_AttackDamage">
        <Flags index="Impact" value="0"/>
    </CEffectDamage>
    <CEffectEnumArea default="1" id="War3_MultishotSearch">
        <ImpactLocation Value="CasterUnit"/>
        <ExcludeArray Value="Target"/>
        <SearchFilters value="Visible;player,allies,neutral,ward,structure,wall,tree,Missile,debris,ethereal,Dead,Hidden,invulnerable,Decaying,ground,item"/>
        <TargetSorts>
            <SortArray value="TSAngle"/>
        </TargetSorts>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <SearchFlags index="Multishot" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AIri">
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <CEffectSet id="War3_HeroLevelIncrease"/>
    <CEffectModifyUnit id="ForceRemoveSource">
        <ImpactUnit Value="Source"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectDamage id="KillIfLifeLE1">
        <ValidatorArray value="TargetLifeLE1"/>
        <LaunchLocation Value="CasterUnit"/>
        <ImpactLocation Value="TargetUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDamageTimerReset" value="1"/>
    </CEffectDamage>
    <CEffectDamage id="War3_BuildingPlacementWakeUp">
        <EditorCategories value="Race:Creeps"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Flags index="Notification" value="1"/>
        <AreaArray Radius="9.375"/>
        <SearchFilters value="NonBuildingUnit,neutralHostile;player,allies,neutral,Dead"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="War3_CreepsAlwaysAcquire">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectCancelOrder id="War3_ForceStopAllOrders">
        <Flags index="Queued" value="1"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectCancelOrder id="War3_ForceAbortCasterChannel">
        <ValidatorArray value="CasterIsChanneling"/>
        <WhichUnit Value="Caster"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectSet id="War3_InventoryChargeAddEffectItemType">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <CEffectSet id="War3_LinkedAgro">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="War3_RemoveSourceTemporaryHealing">
        <WhichUnit Value="Source"/>
        <BehaviorCategories index="Temporary" value="1"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="War3_SubMenuSet"/>
    <CEffectDamage id="War3_SuicideTimeout">
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectModifyUnit id="War3_ChangeOwner">
        <ModifyFlags index="Owner" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="War3_MindControlTargetSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_RemoveBuffsAuraMagicPhysical"/>
        <EffectArray value="ClearOrderQueue"/>
        <EffectArray value="War3_ChangeOwner"/>
        <EffectArray value="War3_ResetScanRange"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="War3_Reincarnating">
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectSet id="War3_RemoveBuffsAuraMagicPhysical">
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemoveAuraBuffs"/>
    </CEffectSet>
    <CEffectApplyBehavior id="War3_ABILITY_ManaFlare_Monitor" parent="War3_ApplyBuff"/>
    <CEffectRemoveBehavior id="War3_ABILITY_ManaFlare_ManaToken_Remove">
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorLink value="War3_ABILITY_ManaFlare_ManaToken"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="War3_CorpseUsageSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_InstantUnloadFromNotHiddenTransport"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
        <EffectArray value="War3_MarkTargetCorpseAsUnraisable"/>
    </CEffectSet>
    <CEffectSet id="War3_DamageResponseDummy"/>
    <CEffectModifyUnit id="War3_InstantUnloadFromNotHiddenTransport">
        <ValidatorArray value="TargetOutIsNotHidden"/>
        <ModifyFlags index="DropFromContainerPassenger" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="War3_MarkTargetCorpseAsUnraisable">
        <ModifyFlags index="Unraisable" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="War3_RemoveCasterInvulnerableBuffs">
        <EffectArray value="RemoveCasterBuffDivineShieldAll"/>
        <EffectArray value="RemoveCasterBuffInvulnerableAll"/>
        <EffectArray value="RemoveCasterBuffVoodooAll"/>
    </CEffectSet>
    <CEffectCancelOrder id="CancelCasterAttackOrdersActiveWar3">
        <WhichUnit Value="Caster"/>
        <AbilCmd value="Aatk,Execute"/>
    </CEffectCancelOrder>
    <CEffectEnumTransport id="DevourInstantKillCargoAdev">
        <ValidatorArray value="TargetHasDevourAbilityAdev"/>
        <Effect value="DevourInstantKillCargoKill"/>
    </CEffectEnumTransport>
    <CEffectDamage id="DevourInstantKillCargoKill">
        <LaunchLocation Effect="DevourInstantKillCargoAdev" Value="TargetUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="Notification" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Flags index="NoLeech" value="1"/>
        <Flags index="NoGain" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoFractionTakenBonus" value="1"/>
        <Flags index="NoBehaviorResponse" value="1"/>
    </CEffectDamage>
    <CEffectRemoveBehavior id="RemoveCasterBuffVoodooAll">
        <WhichUnit Value="Caster"/>
        <StackAlias value="AOvd"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveCasterBuffInvulnerableAll">
        <WhichUnit Value="Caster"/>
        <StackAlias value="Bvul"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveCasterBuffDivineShieldAll">
        <WhichUnit Value="Caster"/>
        <StackAlias value="BHds"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveBuffMilitiaAll">
        <StackAlias value="Bmil"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveBuffPolymorphAll">
        <ValidatorArray index="0" value="RemoveBuffMilitiaAllTargetFilters"/>
        <BehaviorLink value="RemoveBuffMilitiaAll"/>
        <StackAlias value="Bply"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveBuffHexAll">
        <ValidatorArray index="0" value="RemoveBuffMilitiaAllTargetFilters"/>
        <BehaviorLink value="RemoveBuffMilitiaAll"/>
        <StackAlias value="BOhx"/>
    </CEffectRemoveBehavior>
    <CEffectAddTrackedUnit id="SetHasOwl">
        <BehaviorLink value="TackerHasOwl"/>
    </CEffectAddTrackedUnit>
    <CEffectRemoveTrackedUnit id="ClearHasOwl">
        <BehaviorLink value="TackerHasOwl"/>
        <TrackedUnit Value="Target"/>
    </CEffectRemoveTrackedUnit>
    <CEffectRemoveBehavior id="War3RemoveNegativeMagicBuffs">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorCategories index="Magic" value="1"/>
        <BehaviorAlignment value="Negative"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="War3RemovePositiveMagicBuffs">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorCategories index="Magic" value="1"/>
        <BehaviorAlignment value="Positive"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="War3_InventoryChargeRemoveEffectItemType">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <CEffectSwitch id="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs">
        <CaseArray Validator="TargetIsEnemy" Effect="War3RemovePositiveMagicBuffs"/>
        <CaseDefault value="War3RemoveNegativeMagicBuffs"/>
    </CEffectSwitch>
    <CEffectRemoveBehavior id="War3_RemoveAuraBuffs">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorCategories index="Aura" value="1"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="War3_ResetScanRange">
        <BehaviorLink value="War3_CreepCamp"/>
    </CEffectRemoveBehavior>
    <CEffectTeleport id="War3_SnapTargetToPlacablePoint">
        <ClearQueuedOrders value="0"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="War3_SplitUnit"/>
    <CEffectSwitch id="War3_TargetResumeHarvest">
        <CaseArray Effect="War3_IssueDropResourceOrderToTarget"/>
        <CaseDefault value="War3_TargetHarvestLastGatherTarget"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="War3_ChannelBreaker" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="War3_InstantMorph"/>
    <CEffectSet id="War3_InstantUnburrow">
        <EffectArray value="War3_InstantMorph"/>
        <EffectArray value="War3_OrderUnburrow"/>
        <EffectArray value="War3OrderUnburrowOld"/>
    </CEffectSet>
    <CEffectIssueOrder id="War3_IssueDropResourceOrderToCaster">
        <AbilTechAlias value="_ABILITY_Harvest"/>
        <AbilCmdIndex value="1"/>
        <WhichUnit Value="Caster"/>
        <Player Value="Caster"/>
    </CEffectIssueOrder>
    <CEffectLastTarget id="War3_CasterHarvestLastGatherTarget">
        <LastTargetType value="Gather"/>
        <Effect value="War3_IssueHarvestTargetOrderToCaster"/>
    </CEffectLastTarget>
    <CEffectIssueOrder id="War3_IssueHarvestTargetOrderToCaster">
        <AbilTechAlias value="_ABILITY_Harvest"/>
        <WhichUnit Value="Caster"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
        <CmdFlags index="SmartRally" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="War3_IssueDropResourceOrderToTarget">
        <AbilTechAlias value="_ABILITY_Harvest"/>
        <AbilCmdIndex value="1"/>
    </CEffectIssueOrder>
    <CEffectLastTarget id="War3_TargetHarvestLastGatherTarget">
        <LastTargetType value="Gather"/>
        <Effect value="War3_IssueHarvestTargetOrderToTarget"/>
        <WhichUnit Value="Target"/>
    </CEffectLastTarget>
    <CEffectIssueOrder id="War3_IssueHarvestTargetOrderToTarget">
        <AbilTechAlias value="_ABILITY_Harvest"/>
        <WhichUnit Effect="War3_TargetHarvestLastGatherTarget"/>
        <Player Effect="War3_TargetHarvestLastGatherTarget"/>
        <Target Value="TargetUnit"/>
        <CmdFlags index="SmartRally" value="1"/>
    </CEffectIssueOrder>
    <CEffectCreatePersistent id="HearthstoneCoop">
        <ValidatorArray value="TargetNotDead"/>
        <ValidatorArray value="TownPortalCliffLevelEqual"/>
        <EditorCategories value="Race:Other"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="HearthstoneCoop@ChannelStartSet"/>
        <ExpireDelay value="5"/>
        <ExpireEffect value="HearthstoneCoop@EndEffect"/>
        <PeriodicValidator value="CasterAndTargetNotDead"/>
    </CEffectCreatePersistent>
    <CEffectSet id="HearthstoneCoop@ChannelStartSet">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="HearthstoneCoop@MassTeleportTeleportRevealDuration"/>
        <EffectArray value="HearthstoneCoop@Invulnerable"/>
    </CEffectSet>
    <CEffectCreatePersistent id="HearthstoneCoop@EndEffect">
        <EditorCategories value="Race:Other"/>
        <WhichLocation Value="CasterPoint"/>
        <OffsetVectorStartLocation Value="CasterPoint"/>
        <OffsetVectorEndLocation Value="CasterPoint"/>
        <InitialEffect value="HearthstoneCoop@Search"/>
        <ExpireDelay value="2"/>
        <RevealRadius value="12.5"/>
        <RevealFlags index="Unfog" value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="HearthstoneCoop@Invulnerable">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="HearthstoneCoop@MassTeleportTeleportRevealDuration">
        <EditorCategories value="Race:Other"/>
        <Behavior value="Btrv"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="HearthstoneCoop@Search">
        <EditorCategories value="Race:Other"/>
        <LaunchLocation Value="CasterPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <ExcludeArray Effect="HearthstoneCoop" Value="Target"/>
        <SearchFilters value="-;allies,neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="17.1875" Effect="HearthstoneCoop@Teleport"/>
        <MaxCount value="90"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="HearthstoneCoop@Target">
        <EditorCategories value="Race:Other"/>
        <ImpactLocation Value="TargetPoint"/>
        <ExcludeArray/>
        <SearchFilters value="PreventReveal;neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="16" Effect="HearthstoneCoop"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Notownportalhalls"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectTeleport id="HearthstoneCoop@Teleport">
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="HearthstoneCoop" Value="TargetUnit"/>
        <PlacementRange value="14"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Effect="HearthstoneCoop@Target" Value="TargetUnitOrPoint"/>
    </CEffectTeleport>
    <CEffectCancelOrder id="CancelAttackOrdersWar3Active">
        <AbilCmd value="Aatk,Execute"/>
    </CEffectCancelOrder>
    <CEffectEnumInventory id="DropInventory">
        <SearchFilters value="Item;-"/>
        <MaxCount value="255"/>
        <Effect value="DropItem"/>
    </CEffectEnumInventory>
    <CEffectTeleport id="DropItem">
        <TargetLocation Value="OuterPoint"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="ShareVisibilitywithTarget">
        <WhichUnit Value="Caster"/>
        <Behavior value="ShareVisibility"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AutoEntangleSearch">
        <AreaArray Radius="10" Effect="AutoEntangle"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="AutoEntangle">
        <WhichUnit Value="Caster"/>
        <Abil value="Aent"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnitOrPoint"/>
    </CEffectIssueOrder>
    <CEffectSet id="HexTactSet">
        <EffectArray value="HexTactSet"/>
    </CEffectSet>
    <CEffectEnumArea id="SerpentWardTactSearch">
        <SearchFilters value="Visible;player,allies,neutral,wall,tree,Missile,ethereal,Dead,Hallucination,invulnerable,Decaying"/>
        <AreaArray Radius="9.2"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="War3_OrderUnburrow">
        <Abil value="Abur"/>
        <AbilCmdIndex value="2"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="War3OrderUnburrowOld">
        <Abil value="Abur@Un"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectRemoveBehavior id="War3_RemoveEnsnareGroundAll">
        <ValidatorArray index="0" value="War3_RemoveEnsnareAirAllTargetFilters"/>
        <BehaviorLink value="War3_RemoveEnsnareAirAll"/>
        <StackAlias value="Beng"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="War3_RemoveEnsnareAndEntangling">
        <EffectArray value="War3_RemoveEnsnareAirAll"/>
        <EffectArray value="War3_RemoveEnsnareGroundAll"/>
        <EffectArray value="War3_RemoveEntangleAll"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="War3_RemoveEnsnareAirAll">
        <StackAlias value="Bena"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="War3_RemoveEntangleAll">
        <ValidatorArray index="0" value="War3_RemoveEnsnareAirAllTargetFilters"/>
        <BehaviorLink value="War3_RemoveEnsnareAirAll"/>
        <StackAlias value="Aent"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="War3_RemovePolymorphBuffs">
        <EffectArray value="RemoveBuffMilitiaAll"/>
        <EffectArray value="RemoveBuffPolymorphAll"/>
        <EffectArray value="RemoveBuffHexAll"/>
    </CEffectSet>
    <CEffectSet id="War3_CasterResumeHarvest">
        <EffectArray value="War3_IssueDropResourceOrderToCaster"/>
        <EffectArray value="War3_CasterHarvestLastGatherTarget"/>
    </CEffectSet>
    <CEffectTeleport id="War3_TeleportTargetToCaster">
        <MinDistance value="0"/>
        <PlacementAround Value="CasterUnit"/>
        <PlacementRange value="10"/>
        <SourceLocation Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="War3_TemporaryHealingDamageListenerA"/>
    <CEffectApplyBehavior id="War3_TemporaryHealingDamageListenerB"/>
    <CEffectSet id="War3_TemporaryHealingDamageListenerSet">
        <EffectArray value="War3_TemporaryHealingDamageListenerA"/>
        <EffectArray value="War3_TemporaryHealingDamageListenerB"/>
    </CEffectSet>
    <CEffectSet id="War3_TimeOfDayOverride"/>
    <CEffectSet id="War3_TimeOfDayRestore"/>
    <CEffectRemoveBehavior id="War3_UseGraveyardCorpse">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Agyc"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="War3_WorkerBuildHide">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="War3_WorkerBuildUnhide">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="War3_WorkerBuildHide"/>
    </CEffectRemoveBehavior>
    <CEffectModifyUnit id="ClearMana">
        <VitalArray index="Energy">
            <ChangeFraction value="-1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="War3_IllusionCopyUnitTrigger">
        <EditorCategories value="Race:Orc"/>
    </CEffectSet>
    <CEffectDamage id="KillXPGrant">
        <Flags index="Kill" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDamageTimerReset" value="1"/>
        <ImpactLocation Value="TargetUnit"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectDamage>
    <CEffectCancelOrder id="CancelAttackOrdersWar3">
        <AbilCmd value="Aatk,Execute"/>
        <Flags index="Queued" value="1"/>
    </CEffectCancelOrder>
    <CEffectDamage id="SuicideImpact">
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Death value="Impact"/>
    </CEffectDamage>
    <!--ItemTownPortal cast=5-->
    <CEffectEnumArea id="Hearthstone">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventReveal,Visible;neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="1000" Effect="AItp@Target"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
    </CEffectEnumArea>
    <!--Rune of the Watcher Buff=Beye-->
    <CEffectDamage id="War3_SpiritLinkDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Flags index="Live" value="1"/>
        <Type value="SpiritLink"/>
    </CEffectDamage>
    <CEffectLaunchMissile id="ucry@1@LM">
        <Flags index="Return" value="1"/>
        <ReturnDelay value="1"/>
    </CEffectLaunchMissile>
    <!--CEffectApplyBehavior id="AEpa@BuffPoisonAttackStackInfo" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="ANbr@BuffBattleRoar" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIrb@BuffRebirth" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="AHre@Revive">
        <EditorCategories value="Race:Human"/>
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="StartingVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AHre@ReviveSet">
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AHre@Revive"/>
    </CEffectSet>
    <CEffectEnumArea id="AHre@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="dead;self,neutral,enemies,ward,structure,wall,tree,Missile,debris,invulnerable,hero,item"/>
        <TargetSorts>
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
        </TargetSorts>
        <AreaArray Radius="14.0625" Effect="AHre@ReviveSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="EntanglingRootsSpellBook">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EditorCategories value="Race:NightElf"/>
        <CanBeBlocked value="1"/>
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="EntanglingRootsSpellBook@BuffEntanglingRoots"/>
    </CEffectSet>
    <CEffectApplyBehavior id="EntanglingRootsSpellBook@BuffEntanglingRoots" parent="War3_ApplyBuff"/>
    <CEffectDamage id="EntanglingRootsSpellBook@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Type value="Plant"/>
        <Amount value="0">
            <AccumulatorArray value="EntanglingRootsSpellBook@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="Arpb@BuffReplenish" parent="War3_ApplyBuff"/>
    <CEffectDamage id="Adch@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="300"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectEnumArea id="Adch@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="-;player,allies,neutral,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="Adch@SearchImpactSet"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Adch@SearchImpactSet">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Adch@EnemySummonedDamage"/>
    </CEffectSet>
    <CEffectSet id="Acoh">
        <ValidatorArray value="Acoh@PartnerUnitType"/>
        <ValidatorArray value="noMarkers"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Acoh@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="Acoh@CreateUnit" parent="War3_SummonUnitPermanent">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="CasterUnit"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SpawnEffect value="Acoh@FinalSet"/>
        <SpawnUnit index="0" value="ehpr"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectSet id="Acoh@FinalSet">
        <EditorCategories value="Race:NightElf"/>
        <Alert value="Aco3"/>
        <EffectArray value="Acoh@SelectionVitalAndCooldown"/>
        <EffectArray value="Acoh@ForceRemoveParterner"/>
        <EffectArray value="ForceRemoveCaster"/>
    </CEffectSet>
    <CEffectModifyUnit id="Acoh@ForceRemoveParterner">
        <ImpactUnit Effect="Aco3"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Acoh@SelectionVitalAndCooldown">
        <EditorCategories value="Race:NightElf"/>
        <Cost Abil="Adec,Train1">
            <Fraction Cooldown="1"/>
        </Cost>
        <VitalArray index="Life">
            <ChangeFraction value="0">
                <AccumulatorArray value="Aco3@LifeFactorA"/>
                <AccumulatorArray value="Aco3@LifeFactorB"/>
            </ChangeFraction>
        </VitalArray>
        <ModifyFlags index="SetVitals" value="1"/>
        <SelectTransferUnit Effect="Aco3" Value="Target"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="Acoa">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="Acoa@TargetCanPickUpCaster"/>
        <ValidatorArray value="Acoa@PartnerUnitType"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Acoa@IssuePickUpOrder"/>
        <EffectArray value="Acoa@TargetMarker"/>
    </CEffectSet>
    <CEffectCancelOrder id="Acoa@CancelPickUpOrder">
        <ValidatorArray value="Acoa@TargetIsPickingUpCaster"/>
        <EditorCategories value="Race:NightElf"/>
        <AbilCmd value="Aco3,Execute"/>
    </CEffectCancelOrder>
    <CEffectIssueOrder id="Acoa@IssuePickUpOrder">
        <EditorCategories value="Race:NightElf"/>
        <Abil value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <CEffectApplyBehavior id="Acoa@TargetMarker">
        <ValidatorArray value="TargetIsNotMovementImpossible"/>
        <EditorCategories value="Race:NightElf"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="Amnb@Delay">
        <ExpireDelay value="0.25"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Amnb@ImpactSet">
        <EffectArray value="Amnb@Damage"/>
        <EffectArray value="Amnb@ManaDrain"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Amnb@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Amnb@Damage"/>
        </Amount>
        <Type value="Magic"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Amnb@ManaDrain">
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="Amnb@ManaDrained"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Ambd@Delay">
        <ExpireDelay value="0.25"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Ambd@ImpactSet">
        <EffectArray value="Ambd@Damage"/>
        <EffectArray value="Ambd@ManaDrain"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Ambd@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Ambd@Damage"/>
        </Amount>
        <Type value="Magic"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Ambd@ManaDrain">
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="Ambd@ManaDrained"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Ambb@Delay">
        <ExpireDelay value="0.25"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Ambb@ImpactSet">
        <EffectArray value="Ambb@Damage"/>
        <EffectArray value="Ambb@ManaDrain"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Ambb@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Ambb@Damage"/>
        </Amount>
        <Type value="Magic"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Ambb@ManaDrain">
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="Ambb@ManaDrained"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="ACpv@Damage" parent="War3_PhysicSpellDamage">
        <Amount value="40"/>
        <AreaArray Radius="2.3437" Fraction="1"/>
        <AreaArray Radius="3.9062" Fraction="0.5"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,debris,Dead,invulnerable,Decaying,item"/>
    </CEffectDamage>
    <CEffectSet id="AIso">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Asou"/>
        <EffectArray value="Asou@BuffSoulTrapVision"/>
    </CEffectSet>
    <CEffectModifyUnit id="Apos@HideCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Hide" value="1"/>
    </CEffectModifyUnit>
    <CEffectDamage id="Auns@BuffUnsummon@DPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
        <Type value="Demolition"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectCreateUnit id="ANdo@CreateUnit" parent="War3_SummonUnit">
        <ValidatorArray value="Pathable"/>
        <EditorCategories value="Race:Creeps"/>
        <CreateFlags index="TechComplete" value="0"/>
        <SpawnEffect value="ANdo@BuffDoomMinion"/>
        <SpawnUnit index="0" value="nba2"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="War3_CreepGuard@AlwaysAcquireCloseDamageSource">
        <ValidatorArray index="0" value="IsStructure"/>
        <ValidatorArray value="War3CreepGuard@TargetIsVeryCloseToGuardPoint"/>
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="War3_CreepsAlwaysAcquire"/>
    </CEffectApplyBehavior>
    <CEffectSet id="War3_CreepGuard@ReturnTimerRefreshSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_CreepGuard@RefreshReturnTimer"/>
        <EffectArray value="War3_CreepGuard@AlwaysAcquireCloseDamageSource"/>
    </CEffectSet>
    <CEffectDamage id="Auhf@BuffUnholyFrenzy@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="4"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectDamage id="Suhf@BuffUnholyFrenzy@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="4"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectDamage id="AIuf@BuffUnholyFrenzy@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="4"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectDamage id="ACuf@BuffUnholyFrenzy@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="4"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Acyc@BuffCyclone" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AHtb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIlp@BuffPurge" parent="War3_ApplyBuff"/>
    <CEffectIssueOrder id="AIfc">
        <EditorCategories value="Race:Other"/>
        <Abil value="Amou"/>
    </CEffectIssueOrder>
    <!--CEffectApplyBehavior id="Alsh@BuffLightningShieldAoe" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="ANmr@BuffMindRot" parent="War3_ApplyBuff">
        <ValidatorArray value="MaxEnergyGT0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANfy@BuffClockworkGoblin" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANfy@CreateClockworkGoblin" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ncgb"/>
        <SpawnEffect value="ANfy@BuffClockworkGoblin"/>
        <RallyUnit Value="Source"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="ANrc@CursorRadius" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="14.0625"/>
    </CEffectEnumArea>
    <CEffectRandomPointInCircle id="ANrc@RandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANin"/>
        <Radius value="14.0625"/>
    </CEffectRandomPointInCircle>
    <CEffectUserData id="ANrc@SummonChain">
        <ValidatorArray value="Walkable"/>
        <EditorCategories value="Race:Creeps"/>
        <ValidateMax value="0">
            <AccumulatorArray value="ANrc@NumberOfUnits"/>
        </ValidateMax>
        <EffectSuccess value="ANrc@SummonDelay"/>
        <TargetLocationType value="Point"/>
    </CEffectUserData>
    <CEffectCreatePersistent id="ANrc@SummonDelay">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="0">
            <AccumulatorArray value="ANrc@SpawnDelay"/>
        </ExpireDelay>
        <ExpireEffect value="ANrc@SummonSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANrc@SummonSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANrc@SummonChain"/>
        <EffectArray value="ANrc@RandomPoint"/>
    </CEffectSet>
    <!--Alchemist - Healing Spray Buff=BNhs effect=XNhs-->
    <CEffectSet id="ACtb@MissileImpactSet">
        <EffectArray value="ACtb@Damage"/>
        <EffectArray value="ACtb@BuffPause"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANfb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACfb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACtb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Awfb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectRemoveBehavior id="Asla@SnoozeRB">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="Asla@Snooze"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Asla@Snooze">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Asla@ThinkSet">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="TargetIsIdle"/>
        <ValidatorArray value="Asla@NotSnoozing"/>
        <EffectArray value="Asla@Snooze"/>
    </CEffectSet>
    <!--Neutral Regen (mana only)-->
    <CEffectEnumArea id="ANre@Search" parent="War3_AuraSearch" aura="ANre@NeutralRegenMana">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray index="0" Radius="7.8125" Effect="ANre@NeutralRegenMana"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="APmr@Search" parent="War3_AbilSearch">
        <AreaArray Radius="18.75" Effect="APmr@Mana"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APmr@Mana">
        <VitalArray index="Energy">
            <Change value="125"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APmg@Search" parent="War3_AbilSearch">
        <AreaArray Radius="18.75" Effect="APmg@Mana"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APmg@Mana">
        <VitalArray index="Energy">
            <Change value="300"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APh1@Search" parent="War3_AbilSearch">
        <AreaArray Radius="9.375" Effect="APh1@Heal"/>
        <AreaArray Radius="12.5"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh1@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="125"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APh2@Search" parent="War3_AbilSearch">
        <AreaArray Radius="9.375" Effect="APh2@Heal"/>
        <AreaArray Radius="12.5"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh2@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="250"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APh3@Search" parent="War3_AbilSearch">
        <AreaArray Radius="9.375" Effect="APh3@Heal"/>
        <AreaArray Radius="12.5"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh3@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="400"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AIp5@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,debris,dead,item"/>
        <AreaArray Radius="9.375" Effect="AIp5@BuffRegeneration"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIp5@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp5@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="5.5556"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="2.2224"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Amnx@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <ExpireDelay value="0.3"/>
        <ExpireEffect value="Amnx@Damage"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="Amnx@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AttributeFactor index="fortified" value="2"/>
        <AreaArray Radius="2.3437" Bonus="700" Fraction="1"/>
        <AreaArray Radius="6.25" Bonus="300" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="Amnz@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <ExpireDelay value="0.3"/>
        <ExpireEffect value="Amnz@Damage"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="Amnz@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AttributeFactor index="fortified" value="2"/>
        <AreaArray Radius="3.125" Bonus="700" Fraction="1"/>
        <AreaArray Radius="6.25" Bonus="300" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Ashs@BuffShadowSight" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIsh@BuffSpiritTroll" parent="War3_ApplyBuff"/>
    <!--ManaSteal, Trigger Notice-->
    <CEffectCreateHealer id="Aste">
        <EditorCategories value="Race:Other"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <Flags index="ContinueWhenFull" value="1"/>
        <PeriodCount value="1"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="50"/>
    </CEffectCreateHealer>
    <CEffectEnumArea id="ANpr@Target">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventDefeat;allies,neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="1000" Effect="ANpr@Teleport"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
        <ValidatorArray value="TargetIsNotNavalWar3"/>
        <ValidatorArray value="TargetIsNotMovementImpossible"/>
    </CEffectEnumArea>
    <CEffectTeleport id="ANpr@Teleport">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Effect="ANpr@Target"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Effect="ANpr@Target" Value="TargetUnit"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>
    <CEffectEnumArea id="ANsa@Target">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventDefeat;allies,neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="1000" Effect="ANsa@TeleportSet"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
        <ValidatorArray value="TargetIsNotNavalWar3"/>
        <ValidatorArray value="TargetIsNotMovementImpossible"/>
        <ValidatorArray value="NotNegativeLifeRegen"/>
    </CEffectEnumArea>
    <CEffectTeleport id="ANsa@Teleport">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Effect="ANsa@Target"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Effect="ANsa@Target" Value="TargetUnit"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="ANsa@RegenDelay"/>
    </CEffectTeleport>
    <CEffectSet id="ANsa@TeleportSet">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="ANsa@Teleport"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANsa@BuffSanctuary" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANsa@RegenDelay" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="ANse@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,immunity,Decaying,item"/>
        <AreaArray Radius="21.875" Effect="ANse@BuffSpellShield"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANss@BuffSpellShield" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANse@BuffSpellShield" parent="War3_ApplyBuff"/>
    <!--Sleep (creep) Dur=10 HeroDur=5 Buff=BUsl,BUsp,Bust-->
    <!--Raise Dead (Item) Dur=65 HeroDur=65 Buff=Brai-->
    <CEffectSet id="AIrd">
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_InstantUnloadFromNotHiddenTransport"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
        <EffectArray value="AIrd@UniqueSummonTracker"/>
        <EffectArray value="AIrd@CreateUnitA"/>
        <EffectArray value="ForceRemoveTarget"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIrd@CreateUnitA" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="AIrd@SpawnSet"/>
        <SpawnUnit index="0" value="uske"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectSet id="AIrd@SpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AIrd@AddTracked"/>
        <EffectArray value="AIrd@BuffRaiseDead"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIrd@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectAddTrackedUnit id="AIrd@AddTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="AIrd@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="AIrd@BuffRaiseDead" parent="War3_ApplyBuff"/>
    <CEffectIssueOrder id="AImo@AttackOrder">
        <ValidatorArray value="TargetIsIdle"/>
        <EditorCategories value="Race:Other"/>
        <Abil value="Aatk"/>
        <Target Value="SourcePoint"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="AImo@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="neutralHostile;ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="27.3437" Effect="AImo@AttackOrder"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AImo@BuffItemMonsterLure" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AImo@ActivationDelay" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIwb@BuffWebAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIwb@BuffWeb" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIvu@BuffInvulnerable" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIvl@BuffInvulnerable" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIv1@BuffInvisibility" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIv2@BuffInvisibility" parent="War3_ApplyBuff"/>
    <!--ItemDefenseAoe Dur=30 HeroDur=30 Buff=Bdef-->
    <CEffectEnumArea id="AIda@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="9.375" Effect="AIda@BuffDefense"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIdb@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,Missile,debris,dead,item"/>
        <AreaArray Radius="9.375" Effect="AIdb"/>
    </CEffectEnumArea>
    <CEffectSet id="AIdb">
        <EffectArray value="AIdb@Heal"/>
        <EffectArray value="AIdb@BuffDefense"/>
    </CEffectSet>
    <CEffectModifyUnit id="AIdb@Heal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="150"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="100"/>
        </VitalArray>
    </CEffectModifyUnit>
    <!--CEffectApplyBehavior id="AIcf@BuffItemCloakOfFlames" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AIda@BuffDefense" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIdb@BuffDefense" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="AIsa@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="9.375" Effect="AIsa@BuffSpeedBonus"/>
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,debris,Dead,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIsp@BuffSpeedBonus" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIsa@BuffSpeedBonus" parent="War3_ApplyBuff"/>
    <CEffectSet id="Asou@DeathDropSet">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="War3_TeleportTargetToCaster"/>
        <EffectArray value="Asou@KillIfNotOnWalkableLocation"/>
    </CEffectSet>
    <CEffectDamage id="Asou@KillIfNotOnWalkableLocation">
        <ValidatorArray value="CasterIsStandingOnUnwalkableLoc"/>
        <EditorCategories value="Race:Other"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Asou@BuffSoulTrapVision" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Asou" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetIsNotTransport"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AIpm@CreateItem" parent="War3_SummonUnitPermanent">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnUnit index="0" value="nglm"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="UseFood" value="0"/>
    </CEffectCreateUnit>
    <CEffectModifyUnit id="AIm1">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy">
            <Change value="150"/>
        </VitalArray>
        <ValidatorArray value="CasterEnergyNotFull"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIm2">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy">
            <Change value="300"/>
        </VitalArray>
        <ValidatorArray value="CasterEnergyNotFull"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectSet id="AIxm">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="AIxm@Int"/>
        <EffectArray value="AIxm@Agi"/>
        <EffectArray value="AIxm@Str"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIxm@Str">
        <EditorCategories value="Race:Other"/>
        <Behavior value="AttStr"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIxm@Int">
        <EditorCategories value="Race:Other"/>
        <Behavior value="AttInt"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIxm@Agi">
        <EditorCategories value="Race:Other"/>
        <Behavior value="AttAgi"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <!--Dark Ranger - Black Arrow Buff=BNba,BNdm-->
    <CEffectSet id="AIil">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="AIil@Create"/>
        <SetSource value="1"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIil@Create" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <Origin Value="TargetUnit"/>
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <CreateFlags index="TechComplete" value="0"/>
        <SpawnEffect value="AIil@SpawnEffect"/>
        <SpawnUnit index="0" removed="1"/>
        <SpawnOffset value="0,-3.125"/>
        <TypeFallbackUnit Value="Target"/>
    </CEffectCreateUnit>
    <CEffectSet id="AIil@SpawnEffect">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <EffectArray value="AIil@BuffItemIllusion"/>
        <EffectArray value="War3_IllusionCopyUnitTrigger"/>
    </CEffectSet>
    <!--CEffectApplyBehavior id="AIta@BuffDetected" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AIil@BuffItemIllusion" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIaa">
        <EditorCategories value="Race:Other"/>
        <Behavior value="War3_ABILITYAttackMod"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AIfs">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="AIfs@CreateUnitA"/>
        <EffectArray value="AIfs@CreateUnitB"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIfs@CreateUnitA" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnUnit index="0" value="nsce"/>
        <SpawnCount value="4"/>
        <SpawnOffset value="0,-3.25"/>
        <SpawnEffect value="AIfs@BuffFigurine"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="AIfs@CreateUnitB" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnUnit index="0" value="nsca"/>
        <SpawnCount value="4"/>
        <SpawnOffset value="0,-3.25"/>
        <SpawnEffect value="AIfs@BuffFigurine"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIfs@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectLaunchMissile id="AIdc@Missile">
        <ValidatorArray value="War3_AutoDispelMagicBuffValidator"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectLaunchMissile>
    <CEffectApplyBehavior id="AIcb@BuffCorruption" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Apoi@BuffPoisonAttack" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Apoi@BuffPoisonAttackStackDoT" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Apo2@BuffPoisonDamage" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Apo2@BuffPoisonDamageStackDoT" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIzb@BuffFreeze" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIob@BuffFrost" parent="War3_ApplyBuff"/>
    <!--Build Tiny Scout Tower-->
    <!--Build Tiny Great Hall Dur=20 HeroDur=-->
    <!--Orb of Fire-->
    <CEffectDamage id="AIfb@ImpactEffect" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Other"/>
        <!--No Double damage, Because main unit damage is already added to the unit's weapon-->
        <ImpactLocation Value="TargetPoint"/>
        <AreaArray Radius="2.1875" Bonus="5" Fraction="1"/>
        <SearchFilters value="-;player,allies,neutral,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANbs" parent="War3_ApplyBuff">
        <ValidatorArray value="DeathTimeGT0"/>
        <ValidatorArray value="NoBuffDarkMinionAnyBNdm"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <Behavior value="ANbs@BuffBlackArrow"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AIdm" parent="War3_SpellDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Type value="Magic"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Aret">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
        <LearnAbilReset value="War3_LearnHero"/>
        <ValidatorArray value="CasterHasSpentSkillPoints"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIpv@BuffItemVampirePotion" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AIva@HandledDummy">
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <!--LevelMod, Trigger Notice-->
    <CEffectSet id="AIlm">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="NotInMaxLevel"/>
        <EffectArray value="War3_HeroLevelIncrease"/>
        <RecycleCount value="1"/>
        <MinCount value="1"/>
    </CEffectSet>
    <!--Permanent Hit point Bonus-->
    <CEffectApplyBehavior id="AImh" parent="War3_ApplyBuff"/>
    <!--PowerUpStat End-->
    <!--ExperienceMod-->
    <CEffectModifyUnit id="AIem">
        <EditorCategories value="Race:Other"/>
        <XP value="100"/>
        <ValidatorArray value="NotInMaxLevel"/>
    </CEffectModifyUnit>
    <!--ExperienceMod greater-->
    <CEffectModifyUnit id="AIe2">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="NotInMaxLevel"/>
        <XP value="500"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="APra@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <EditorCategories value="Race:Other"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="300"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="150"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APra@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
        <AreaArray Radius="18.75" Effect="APra@Heal"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AItm">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttInt"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
        <Count value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AInm">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttStr"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
        <Count value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIim">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttInt"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIsm">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttStr"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIh2">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="500"/>
        </VitalArray>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--ItemHealAoe-->
    <CEffectEnumArea id="AIha@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="9.375" Effect="AIha@Heal"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIha@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="150"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AImr@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="9.375" Effect="AImr@Mana"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AImr@Mana">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy">
            <Change value="100"/>
        </VitalArray>
    </CEffectModifyUnit>
    <!--ItemRestoreAoe-->
    <CEffectEnumArea id="AIra@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="9.375" Effect="AIra@Heal"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIra@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <EditorCategories value="Race:Other"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="300"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="150"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIxs@BuffAntiMagicShell" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="AIre">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <ValidatorArray value="CasterLifeNotFullOrEnergyNotFull"/>
        <EditorCategories value="Race:Other"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="500"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="200"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AIan@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="14.0625" Effect="AIan@AnimateSet"/>
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;ward,structure,wall,tree,Missile,debris,invulnerable,hero,HeroUnit,item"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIan@Revive">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="Revive" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="AIan@AnimateSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AIan@Revive"/>
        <EffectArray value="AIan@BuffAnimateDead"/>
        <EffectArray value="War3_SnapTargetToPlacablePoint"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIan@BuffAnimateDead" parent="War3_ApplyBuff"/>
    <!--Shockwave (Creep) Buff=BOsh-->
    <!--PowerUpStat-->
    <CEffectApplyBehavior id="AIam">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttAgi"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIgm">
        <EditorCategories value="Race:Other"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Behavior value="AttAgi"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributeBasePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
        <Count value="2"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIh1">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="250"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyPlayer id="AIgf">
        <EditorCategories value="Race:Other"/>
        <WhichPlayer Value="Caster"/>
        <Upgrades Upgrade="Rgfo" Count="1"/>
        <ValidatorArray value="AIgf"/>
    </CEffectModifyPlayer>
    <CEffectModifyPlayer id="AIgu">
        <EditorCategories value="Race:Other"/>
        <WhichPlayer Value="Caster"/>
        <Upgrades Upgrade="Rguv" Count="1"/>
        <Upgrades Upgrade="Reuv" Count="1"/>
        <ValidatorArray value="AIgu"/>
    </CEffectModifyPlayer>
    <!--Dust of Appearance Dur=20 HeroDur=20 Buff=Bdet-->
    <CEffectEnumArea id="AItb@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;player,allies,structure,wall,tree,Missile,debris,Dead,Hidden,immunity,Decaying,item"/>
        <AreaArray Radius="15.625" Effect="AItb@BuffDetected"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AItb@BuffDetected" parent="War3_ApplyBuff">
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectApplyBehavior>
    <!--Howl of Terror Dur=10 HeroDur=10 Buff=BNht-->
    <!--Forked Lightning(creep) Dur=.7 HeroDur=-->
    <!--Wind Walk Buff=BOwk-->
    <!--Brewmaster - Storm, Earth and Fire Buff=BNef-->
    <!--ItemRevealMap Dur=5 HeroDur=5 effect=Xbdt-->
    <CEffectCreatePersistent id="AIrv">
        <EditorCategories value="Race:Other"/>
        <ExpireDelay value="5"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
        <RevealArc value="0"/>
        <RevealRectangleWidth value="1024"/>
        <RevealRectangleHeight value="1024"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AIta">
        <ExpireDelay value="10"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AItp@FindBestTownHall">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventReveal;neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="1000" Effect="AItp@Target"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectSwitch id="AItp@Switch">
        <EditorCategories value="Race:Other"/>
        <CaseArray Validator="IsItem" Effect="AItp@FindBestTownHall"/>
        <CaseDefault value="AItp@Target"/>
        <TargetLocationType value="UnitOrPoint"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="AItp@Invulnerable">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AItp@SuppressMoving">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AItp@ChannelStartSet">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="AItp@SuppressMoving"/>
        <EffectArray value="AItp@Invulnerable"/>
    </CEffectSet>
    <CEffectEnumArea id="AItp@Target">
        <EditorCategories value="Race:Other"/>
        <ImpactLocation Value="TargetPoint"/>
        <ExcludeArray/>
        <SearchFilters value="PreventReveal;neutral,enemies,UnderConstruction,Dead,Hidden,Decaying"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="TSPriority"/>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="15.625" Effect="AItp"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Notownportalhalls"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AItp">
        <EditorCategories value="Race:Other"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AItp@ChannelStartSet"/>
        <ExpireDelay value="5"/>
        <ExpireEffect value="AItp@EndEffect"/>
        <PeriodicValidator value="TargetNotDead"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AItp@EndEffect">
        <WhichLocation Value="CasterPoint"/>
        <OffsetVectorStartLocation Value="CasterPoint"/>
        <OffsetVectorEndLocation Value="CasterPoint"/>
        <InitialEffect value="AItp@Search"/>
        <ExpireDelay value="2"/>
        <RevealRadius value="12.5"/>
        <RevealFlags index="Unfog" value="1"/>
        <EditorCategories value="Race:Other"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AItp@Search">
        <EditorCategories value="Race:Other"/>
        <LaunchLocation Value="CasterPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <ExcludeArray Effect="AItp" Value="Target"/>
        <SearchFilters value="-;allies,neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="17.1875" Effect="AItp@Teleport"/>
        <MaxCount value="90"/>
    </CEffectEnumArea>
    <CEffectTeleport id="AItp@Teleport">
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="AItp" Value="TargetUnit"/>
        <PlacementRange value="14"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Effect="AItp@Target" Value="TargetUnitOrPoint"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="War3_RemoveAntiTeleportBuffs"/>
        <ValidatorArray value="War3_GenericTeleportablePassengerValidators"/>
    </CEffectTeleport>
    <CEffectSet id="AUds@MissileImpactSet">
        <EffectArray value="AUds@BuffTeleportRevealFlyingRB"/>
    </CEffectSet>
    <CEffectLaunchMissile id="AUds@Missile">
        <LaunchLocation Value="SourcePoint"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="AUds@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="10.9375" Effect="AUds@SummonStartSet"/>
        <SearchFilters value="-;self,allies,neutral,enemies,ward,structure,wall,tree,debris,dead,item"/>
        <MinCount value="1"/>
        <MaxCount value="12"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="HeroFirst"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <LaunchLocation Value="SourcePoint"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIrt@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="10.9375" Effect="AIrt@Teleport"/>
        <SearchFilters value="-;self,allies,neutral,enemies,ward,ancient,structure,wall,tree,debris,dead,item"/>
        <MinCount value="1"/>
        <MaxCount value="12"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="HeroFirst"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <LaunchLocation Value="SourcePoint"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectSet id="AUds@SummonStartSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_ForceStopAllOrders"/>
        <EffectArray value="AUds@BuffTeleportReveal"/>
        <EffectArray value="War3_RemoveAntiTeleportBuffs"/>
        <ValidatorArray value="War3_GenericTeleportablePassengerValidators"/>
    </CEffectSet>
    <CEffectSet id="AUds@PostTeleportSet">
        <EffectArray value="War3_RemoveAntiTeleportBuffs"/>
        <EffectArray value="AUds@BuffTeleportRevealFlying"/>
        <EffectArray value="AUds@Missile"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUds@BuffTeleportReveal"/>
    <CEffectApplyBehavior id="AUds@BuffTeleportRevealFlying"/>
    <CEffectRemoveBehavior id="AUds@BuffTeleportRevealFlyingRB">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="AUds@BuffTeleportRevealFlying"/>
    </CEffectRemoveBehavior>
    <CEffectTeleport id="AUds@Teleport">
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementAround Value="CasterUnitOrPoint"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Value="CasterUnitOrPoint"/>
        <TeleportEffect value="AUds@PostTeleportSet"/>
        <PlacementRange value="15"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>
    <CEffectTeleport id="AIrt@Teleport">
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementAround Value="CasterUnitOrPoint"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Value="CasterUnitOrPoint"/>
        <PlacementRange value="15"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="War3_RemoveAntiTeleportBuffs"/>
        <ValidatorArray value="War3_GenericTeleportablePassengerValidators"/>
    </CEffectTeleport>
    <CEffectModifyPlayer id="AIlu">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <WhichPlayer Value="Caster"/>
        <Cost>
            <Resource index="Custom" value="-250"/>
            <Display index="Terrazine" value="1"/>
            <Display index="Custom" value="1"/>
        </Cost>
    </CEffectModifyPlayer>
    <CEffectApplyBehavior id="ACtn@BuffWard" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ACtn@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="ACtn@BuffWard"/>
        <SpawnUnit index="0" value="nfgt"/>
    </CEffectCreateUnit>
    <!--Finger of Pain-->
    <CEffectApplyBehavior id="AEpa@BuffPoisonAttack" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEpa@BuffPoisonAttackStackDoT" parent="War3_ApplyBuff"/>
    <CEffectModifyPlayer id="AIgo">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <WhichPlayer Value="Caster"/>
        <Cost>
            <Resource index="Terrazine" value="-250"/>
            <Display index="Terrazine" value="1"/>
            <Display index="Custom" value="1"/>
        </Cost>
    </CEffectModifyPlayer>
    <!--ItemChangeTOD Dur=30 effect=XIct-->
    <CEffectCreatePersistent id="AIct">
        <EditorCategories value="Race:Other"/>
        <ExpireDelay value="30"/>
        <InitialEffect value="War3_TimeOfDayOverride"/>
        <FinalEffect value="War3_TimeOfDayRestore"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="AIpr@BuffRegenMana" parent="War3_ApplyBuff">
        <ValidatorArray value="EnergyNotFull"/>
    </CEffectApplyBehavior>
    <!--BlightPlacement Dur=.08 HeroDur=.08-->
    <CEffectCreep id="Ablp">
        <ValidatorArray value="Walkable"/>
        <EditorCategories value="Race:Other"/>
        <Radius value="5.4687"/>
    </CEffectCreep>
    <CEffectRemoveBehavior id="ACsp@SnoozeRB">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ACsp@Snooze"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="ACsp@Snooze">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACsp@ThinkSet">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="TargetIsIdle"/>
        <ValidatorArray value="ACsp@NotSnoozing"/>
        <EffectArray value="ACsp@Snooze"/>
    </CEffectSet>
    <CEffectDamage id="Arng">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <CEffectMorph id="ANdc@ConvertUnitType">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Target"/>
        <MorphUnit value="nzom"/>
        <TypeFallbackUnit Value="Unknown"/>
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="RallyReset" value="1"/>
        <AbilKeyFallback value="ANdc"/>
    </CEffectMorph>
    <CEffectSet id="ANdc@StateEffectDummy">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <CEffectSet id="ANdc">
        <ValidatorArray value="ANdc@TargetRace"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANdc@StateEffectPersistent"/>
        <EffectArray value="ANdc@BuffDarkConversion"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANdc@StateEffectPersistent">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetUnit"/>
        <OffsetVectorEndLocation Value="TargetUnit"/>
        <Flags index="RandomPeriod" value="1"/>
        <PeriodCount value="2"/>
        <PeriodicEffectArray value="ANdc@StateEffectDummy"/>
        <PeriodicPeriodArray value="2"/>
        <PeriodicPeriodArray value="3"/>
        <PeriodicPeriodArray value="4"/>
        <PeriodicPeriodArray value="5"/>
        <PeriodicValidator value="ANdc@TargetRace"/>
    </CEffectCreatePersistent>
    <CEffectSet id="War3_CreepGuard@BuildingAcquireIssueOrdersAndMarker">
        <ValidatorArray value="SourceCanAttackTarget_War3"/>
        <ValidatorArray value="TargetIsNotAttackingSource_War3"/>
        <ValidatorArray value="War3_CreepGuard@BuildAcquirePathingLimit"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_CreepsAlwaysAcquire"/>
        <EffectArray value="War3_LinkedAgro"/>
        <EffectArray value="War3_CreepGuard@BuildingAcquireOrderA"/>
        <EffectArray value="War3_CreepGuard@BuildingAcquireOrderB"/>
    </CEffectSet>
    <CEffectIssueOrder id="War3_CreepGuard@BuildingAcquireOrderA">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <Abil value="Aatk"/>
        <CmdFlags index="AI" value="1"/>
        <Player Value="Source"/>
        <Target Value="TargetPoint"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="War3_CreepGuard@BuildingAcquireOrderB">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <CmdFlags index="Queued" value="1"/>
        <CmdFlags index="AI" value="1"/>
        <CmdFlags index="AIIgnoreOnFinish" value="1"/>
        <Player Value="Source"/>
        <Target Value="OriginPoint"/>
    </CEffectIssueOrder>
    <CEffectLastTarget id="War3_CreepGuard@CheckCurrentAttackTarget">
        <EditorCategories value="Race:Creeps"/>
        <LastTargetType value="Attack"/>
        <WhichUnit Value="Source"/>
        <Effect value="War3_CreepGuard@SetIsAttackingAlwaysAcquireTarget"/>
    </CEffectLastTarget>
    <CEffectLastTarget id="War3_CreepGuard@ClearCurrentAttackTarget">
        <EditorCategories value="Race:Creeps"/>
        <LastTargetType value="Attack"/>
        <WhichUnit Value="Source"/>
        <Effect value="War3_CreepGuard@NeverAcquireAttackTarget"/>
    </CEffectLastTarget>
    <CEffectSet id="War3_CreepGuard@DamageResponseSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_CreepGuard@ClearIsAttackingAlwaysAcquireTarget"/>
        <EffectArray value="War3_CreepGuard@CheckCurrentAttackTarget"/>
        <EffectArray value="War3_CreepGuard@DamageResponseSwitch"/>
    </CEffectSet>
    <CEffectSwitch id="War3_CreepGuard@DamageResponseSwitch">
        <EditorCategories value="Race:Creeps"/>
        <CaseArray Validator="War3_CreepGuard@ReturnTimerRefreshValidators" Effect="War3_CreepGuard@ReturnTimerRefreshSet"/>
        <CaseDefault value="War3_CreepGuard@ImmediatelyReturnSet"/>
    </CEffectSwitch>
    <CEffectSet id="War3_CreepGuard@ImmediatelyReturnSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_CreepGuard@ClearCurrentAttackTarget"/>
        <EffectArray value="War3_CreepGuard@ReturnOrder"/>
    </CEffectSet>
    <CEffectIssueOrder id="War3_CreepGuard@ReturnOrder">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <CmdFlags index="AI" value="1"/>
        <CmdFlags index="AIIgnoreOnFinish" value="1"/>
        <Player Value="Source"/>
        <Target Value="OriginPoint"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="War3_CreepGuard@BuildingAcquireSearch">
        <ValidatorArray value="War3_CreepGuard@BuildingAcquireValidators"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="OriginPoint"/>
        <SearchFilters value="structure;player,allies,neutral,Dead"/>
        <AreaArray Radius="23.4326" Effect="War3_CreepGuard@BuildingAcquireIssueOrdersAndMarker"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectUserData id="War3_CreepGuard@SetIsAttackingAlwaysAcquireTarget">
        <ValidatorArray value="SourceIsAttackingTarget"/>
        <EditorCategories value="Race:Creeps"/>
        <Key value="IsAttackingAlwaysAcquire"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectUserData id="War3_CreepGuard@ClearIsAttackingAlwaysAcquireTarget">
        <EditorCategories value="Race:Creeps"/>
        <Key value="IsAttackingAlwaysAcquire"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="War3_CreepGuard@StartReturnTimer">
        <ValidatorArray index="0" value="War3_CreepGuard@HasNoReturnDelay"/>
        <ValidatorArray value="War3_CreepGuard@AwayFromGuardPosition"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <Behavior value="War3_CreepGuard@ReturnDelay"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="War3_CreepGuard@RefreshReturnTimer">
        <ValidatorArray index="0" value="War3_CreepGuard@HasReturnDelay"/>
        <ValidatorArray value="War3_CreepGuard@WithinMaxReturnDistance"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <Behavior value="War3_CreepGuard@ReturnDelay"/>
    </CEffectApplyBehavior>
    <CEffectSet id="War3_CreepGuard@ThinkSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="War3_CreepGuard@StartReturnTimer"/>
        <EffectArray value="War3_CreepGuard@BuildingAcquireSearch"/>
    </CEffectSet>
    <CEffectApplyBehavior id="War3_CreepGuard@NeverAcquireAttackTarget">
        <ValidatorArray index="0" value="SourceIsAttackingTarget"/>
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="War3_CreepsNeverAcquire"/>
    </CEffectApplyBehavior>
    <!--CEffectApplyBehavior id="ANst@BuffStampede" parent="War3_ApplyBuff"/-->
    <!--CEffectApplyBehavior id="AEim@BuffImmolationAoe" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="ANdc@BuffDarkConversion" parent="War3_ApplyBuff">
        <ValidatorArray value="ANdc@TargetRace"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANsl@BuffSoulPreservation" parent="War3_ApplyBuff">
        <ValidatorArray value="ANsl@UnitType"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="ANdp@CreateUnitA" parent="War3_SummonUnitPermanent">
        <EditorCategories value="Race:Creeps"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="UseFood" value="0"/>
        <SpawnUnit index="0" value="nbal"/>
        <SpawnUnit value="nbal"/>
        <SpawnUnit value="nbal"/>
        <WhichLocation Value="TargetPoint"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANdp@CreateUnitB" parent="War3_SummonUnitPermanent">
        <EditorCategories value="Race:Creeps"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="UseFood" value="0"/>
        <SpawnUnit index="0" value="nfel"/>
        <SpawnUnit value="nfel"/>
        <SpawnUnit value="nfel"/>
        <WhichLocation Value="TargetPoint"/>
    </CEffectCreateUnit>
    <CEffectCreatePersistent id="ANdp@SummonDelay">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="1"/>
        <ValidatorArray value="Walkable"/>
        <ExpireEffect value="ANdp@SummonSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANdp@SummonSet">
        <EditorCategories value="Race:Creeps"/>
        <RecycleCount value="1"/>
        <TargetLocationType value="Point"/>
        <MinCount value="0">
            <AccumulatorArray value="ANdp@MinSummonedCount"/>
        </MinCount>
        <MaxCount value="0">
            <AccumulatorArray value="ANdp@MaxSummonedCount"/>
        </MaxCount>
        <EffectArray value="ANdp@SummonSetSingle"/>
    </CEffectSet>
    <CEffectSet id="ANdp@SummonSetSingle">
        <EditorCategories value="Race:Creeps"/>
        <Random value="1"/>
        <TargetLocationType value="Point"/>
        <EffectArray value="ANdp@CreateUnitA"/>
        <EffectArray value="ANdp@CreateUnitB"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectSet>
    <CEffectEnumTrackedUnits id="Awrp@FindDestination">
        <ValidatorArray value="Awrp@HasDestination"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <ValidatorArray value="TargetNotStunned"/>
        <EditorCategories value="Race:Other"/>
        <BehaviorLink value="Awrp@DestinationTracker"/>
        <Effect value="Awrp@Teleport"/>
    </CEffectEnumTrackedUnits>
    <CEffectCancelOrder id="Awrp@TeleportCancelMoveToCaster">
        <ValidatorArray value="TargetIsDirectlyMovingToCasterWar3"/>
        <EditorCategories value="Race:Other"/>
        <AbilCmd value="Amov,Move"/>
    </CEffectCancelOrder>
    <CEffectSet id="Awrp@TeleportEffectSet">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="Awrp@TeleportStun"/>
        <EffectArray value="Awrp@TeleportCancelMoveToCaster"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Awrp@TeleportStun">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectTeleport id="Awrp@Teleport">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Effect="Awrp@FindDestination"/>
        <ClearQueuedOrders value="0"/>
        <PlacementRange value="15"/>
        <SourceLocation Effect="Awrp@FindDestination" Value="TargetUnit"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="Awrp@TeleportEffectSet"/>
    </CEffectTeleport>
    <CEffectAddTrackedUnit id="Awrp@AssignDestination">
        <EditorCategories value="Race:Other"/>
        <BehaviorLink value="Awrp@DestinationTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectCreatePersistent id="Andt">
        <ExpireDelay value="6"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="ANmo@BuffMonsoonDrain" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ANmo@Channel">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="CasterUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="ANmo@Search"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANmo@PeriodCount"/>
        </PeriodCount>
        <PeriodicEffectArray value="ANmo@Search"/>
        <PeriodicPeriodArray value="1.5"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANmo@Damage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <AttributeFactor index="Structure" value="-0.65"/>
        <Amount value="20"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANmo@DamageDelay">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANmo@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANmo@Initialize">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="ANmo@Channel"/>
    </CEffectSet>
    <CEffectEnumArea id="ANmo@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Effect="ANmo@BuffMonsoonDrain"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="ANmo@Radius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIwm@BuffWateryMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="AIwm@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="AIwm@BuffWateryMinion"/>
        <SpawnUnit index="0" value="nmrr"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="ANwm@BuffWateryMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANwm@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="ANwm@BuffWateryMinion"/>
        <SpawnUnit index="0" value="ncfs"/>
        <SpawnUnit value="ntws"/>
        <SpawnUnit value="nsns"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Amec@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="Amec@BuffMechanicalCritter"/>
        <SpawnUnit index="0" value="nshe"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Amec@BuffMechanicalCritter" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Amin@ActivationDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Amin@Invisibility">
        <ValidatorArray index="0" value="Amin@ActivationDelay2TargetFilters"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Amin@InitialSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Amin@ActivationDelay"/>
        <EffectArray value="Amin@InvisibilityDelay"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Amin@InvisibilityDelay">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="2"/>
        <ExpireEffect value="Amin@Invisibility"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="Amin@SuicideBlast">
        <ValidatorArray value="Anim@ValidTarget"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <CEffectEnumArea id="Amin@Searcher" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,ethereal,Dead,invulnerable,Decaying,Raisable,item"/>
        <AreaArray Radius="3.125" Effect="Amin@SuicideBlast"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="Asds@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <InitialEffect value="Asds@InitialSet"/>
        <ExpireDelay value="0.1"/>
        <ExpireEffect value="Asds@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Asds@InitialSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Asds@RemoveBehavior"/>
        <EffectArray value="War3_SuicideTimeout"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="Asds@RemoveBehavior">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="Asds"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="Asds@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AttributeFactor index="fortified" value="2"/>
        <AreaArray Radius="1.5625" Bonus="250" Fraction="1"/>
        <AreaArray Radius="3.9062" Bonus="100" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;air,wall,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="Asd3@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <InitialEffect value="Asd3@InitialSet"/>
        <ExpireDelay value="0.1"/>
        <ExpireEffect value="Asd3@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Asd3@InitialSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Asd3@RemoveBehavior"/>
        <EffectArray value="War3_SuicideTimeout"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="Asd3@RemoveBehavior">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="Asd3"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="Asd3@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="1.5625" Bonus="80" Fraction="1"/>
        <AreaArray Radius="3.9062" Bonus="30" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="Asd2@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <InitialEffect value="Asd2@InitialSet"/>
        <ExpireDelay value="0.1"/>
        <ExpireEffect value="Asd2@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Asd2@InitialSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Asd2@RemoveBehavior"/>
        <EffectArray value="War3_SuicideTimeout"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="Asd2@RemoveBehavior">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="Asd2"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="Asd2@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="1.5625" Bonus="60" Fraction="1"/>
        <AreaArray Radius="3.9062" Bonus="22" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="Asdg@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <InitialEffect value="Asdg@InitialSet"/>
        <ExpireDelay value="0.1"/>
        <ExpireEffect value="Asdg@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Asdg@InitialSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Asdg@RemoveBehavior"/>
        <EffectArray value="War3_SuicideTimeout"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="Asdg@RemoveBehavior">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="Asdg"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="Asdg@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="1.5625" Bonus="30" Fraction="1"/>
        <AreaArray Radius="3.9062" Bonus="12" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANcl@Channeling">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ANfd@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Lightning"/>
        <Amount value="500"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectCreateUnit id="ANpa@DeathSpawn" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnEffect value="ANpa@BuffParasiteMinion"/>
        <SpawnUnit index="0" value="ncfs"/>
    </CEffectCreateUnit>
    <CEffectSet id="ANpa@MissileImpactSet">
        <EffectArray value="ANpa@BuffParasite"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ANpa@BuffParasite@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="Live" value="0"/>
        <Amount value="5"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANpa@BuffParasite" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANpa@BuffParasiteMinion" parent="War3_ApplyBuff"/>
    <!--Purge (Creep) Dur=5 HeroDur=5 Buff=Bprg-->
    <!--Slow (Creep) Dur=20 HeroDur=10 Buff=Bslo-->
    <!--Thunder Clap (Creep) Dur=4 HeroDur=2 Buff=BCtc-->
    <CEffectEnumArea id="ACtc@Search">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="3.9062" Effect="ACtc@ImpactSet"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="ACtc@ImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="ACtc@Damage"/>
        <EffectArray value="ACtc@BuffCreepThunderClap"/>
    </CEffectSet>
    <CEffectDamage id="ACtc@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACtc@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACtc@BuffCreepThunderClap" parent="War3_ApplyBuff"/>
    <!--Divine Shield (Item) Dur=25 HeroDur=25 Buff=BHds-->
    <!--Animate Dead Dur=40 HeroDur=40 Buff=BUan-->
    <CEffectEnumArea id="ACad@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="14.0625" Effect="ACad@AnimateSet"/>
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;ward,structure,wall,tree,Missile,debris,invulnerable,hero,HeroUnit,item"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="ACad@Revive">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="Revive" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="ACad@AnimateSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="ACad@Revive"/>
        <EffectArray value="ACad@BuffAnimateDead"/>
        <EffectArray value="War3_SnapTargetToPlacablePoint"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACad@BuffAnimateDead" parent="War3_ApplyBuff"/>
    <!--Alchemist - Healing Spray Buff=BNhs effect=XNhs-->
    <CEffectCreateUnit id="Asod@DeathSpawn" parent="War3_SummonUnitPermanent">
        <ValidatorArray value="CasterIsNotHallucination"/>
        <ValidatorArray value="CasterHasNoAnimatedDeadAnyBUan"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="nsce"/>
        <SpawnEffect value="War3_SplitUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Assp@DeathSpawn" parent="War3_SummonUnitPermanent">
        <ValidatorArray value="CasterIsNotHallucination"/>
        <ValidatorArray value="CasterHasNoAnimatedDeadAnyBUan"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="nspd"/>
        <SpawnCount value="2"/>
        <SpawnEffect value="War3_SplitUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Aspd@DeathSpawn" parent="War3_SummonUnitPermanent">
        <ValidatorArray value="CasterIsNotHallucination"/>
        <ValidatorArray value="CasterHasNoAnimatedDeadAnyBUan"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="nspr"/>
        <SpawnCount value="2"/>
        <SpawnEffect value="War3_SplitUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Aspy@DeathSpawn" parent="War3_SummonUnitPermanent">
        <ValidatorArray value="CasterIsNotHallucination"/>
        <ValidatorArray value="CasterHasNoAnimatedDeadAnyBUan"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="nhyd"/>
        <SpawnCount value="2"/>
        <SpawnEffect value="War3_SplitUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Aspt@DeathSpawn" parent="War3_SummonUnitPermanent">
        <ValidatorArray value="CasterIsNotHallucination"/>
        <ValidatorArray value="CasterHasNoAnimatedDeadAnyBUan"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="nhyh"/>
        <SpawnCount value="2"/>
        <SpawnEffect value="War3_SplitUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Arsw@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="Arsw@BuffWard"/>
        <SpawnUnit index="0" value="osp1"/>
        <SpawnUnit value="osp2"/>
        <SpawnUnit value="osp3"/>
        <SpawnUnit value="osp4"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Arsw@BuffWard" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIpg@BuffPurge" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AIpg@EnemyBuffSet">
        <ValidatorArray value="IsEnemy"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AIpg@Pause"/>
        <EffectArray value="AIpg@BuffPurge"/>
    </CEffectSet>
    <CEffectDamage id="AIpg@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="150"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="AIpg@Initialize">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AIpg@EnemySummonedDamage"/>
        <EffectArray value="AIpg@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectUserData id="AIpg@MovementSpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.25"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="AIpg@Pause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="Awrs@Search">
        <SearchFilters value="-;player,allies,neutral,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="Awrs@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="Awrs@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Awrs@Damage"/>
        </Amount>
        <Type value="Sonic"/>
    </CEffectDamage>
    <CEffectSet id="Awrs@ImpactSet">
        <EffectArray value="Awrs@BuffPause"/>
        <EffectArray value="Awrs@Damage"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Awrs@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="Awrg@Search">
        <SearchFilters value="-;player,allies,neutral,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="Awrg@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="Awrg@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Awrg@Damage"/>
        </Amount>
        <Type value="Sonic"/>
    </CEffectDamage>
    <CEffectSet id="Awrg@ImpactSet">
        <EffectArray value="Awrg@BuffPause"/>
        <EffectArray value="Awrg@Damage"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Awrg@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="Awrh@Search">
        <SearchFilters value="-;player,allies,neutral,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="Awrh@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="Awrh@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Awrh@Damage"/>
        </Amount>
        <Type value="Sonic"/>
    </CEffectDamage>
    <CEffectSet id="Awrh@ImpactSet">
        <EffectArray value="Awrh@BuffPause"/>
        <EffectArray value="Awrh@Damage"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Awrh@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="Awh2@InstantDropResource">
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="ResourceDrop" value="1"/>
    </CEffectModifyUnit>
    <CEffectDamage id="ANak@InheritedAoeDamage" parent="War3_AttackEnchantDamage">
        <AreaArray Radius="2.3437" Fraction="1"/>
        <AreaArray Radius="4.6875" Fraction="0.5"/>
        <AreaArray Radius="2.7343" Fraction="0.25"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AChx@BuffHex" parent="War3_ApplyBuff"/>
    <CEffectSet id="AChx">
        <ValidatorArray value="AChx@TargetChecks"/>
        <ValidatorArray value="War3_TargetNotHaveGhostAbility"/>
        <EffectArray value="War3_RemovePolymorphBuffs"/>
        <EffectArray value="War3_InstantUnburrow"/>
        <EffectArray value="DevourInstantKillCargoAdev"/>
        <EffectArray value="AChx@BuffHex"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="ACde@SearchImpactSet">
        <ValidatorArray value="ACde@SearchValidator"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="ACde@EnemySummonedDamage"/>
        <EffectArray value="ACde@Missile"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ACde@Missile">
        <ValidatorArray index="0" value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ACde@MissileImpactSet">
        <EffectArray value="ACde@Heal"/>
    </CEffectSet>
    <CEffectEnumArea id="ACde@Search" parent="War3_AbilSearch">
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="-;structure,wall,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="ACde@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ACfl@Search" parent="War3_AbilSearchRadiusExt">
        <ImpactLocation Value="CasterUnit"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Arc="39.9792" Radius="18.75" Effect="ACfl@Damage"/>
        <MaxCount value="3"/>
        <LaunchLocation Value="CasterUnit"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectDamage id="ACfl@Damage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="ACfl@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ACde@Heal">
        <VitalArray index="Life">
            <Change value="50"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="75"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="AOre@ResponseDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <InitialEffect value="War3_Reincarnating"/>
        <ExpireEffect value="AOre"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AIcd@Search" parent="War3_AuraSearch" aura="AIcd@BuffAuraCommand">
        <EditorCategories value="Race:Other"/>
    </CEffectEnumArea>
    <!--Aura - Command (Creep) Buff=BOac-->
    <CEffectEnumArea id="ACac@Search" parent="War3_AuraSearch" aura="ACac@BuffAuraCommand">
        <EditorCategories value="Race:Creeps"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACac@BuffAuraCommand" parent="War3_AuraBuff"/>
    <CEffectApplyBehavior id="AIcd@BuffAuraCommand" parent="War3_AuraBuff"/>
    <CEffectSet id="AOsf@SpawnSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOsf@AddTracked"/>
        <EffectArray value="AOsf@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="AIsh@SpawnSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AIsh@AddTracked"/>
        <EffectArray value="AIsh@BuffSpiritTroll"/>
    </CEffectSet>
    <CEffectSet id="ACbf@MissileImpactSet">
        <TargetLocationType value="UnitOrPoint"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACbf@BuffBreathOfFrost" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ACbf@TargetStart">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACbf@TargetEnd"/>
        <ExpireOffset value="0,-2.3437,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACbf@TargetEnd">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACbf@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACbf@Missile">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACbf@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <LaunchLocation Effect="ACbf@TargetEnd" Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACbf@Search" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray RectangleWidth="4.6875" Effect="ACbf@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACbf@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="noMarkers"/>
        <Amount value="0">
            <AccumulatorArray value="ACbf@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ACbf@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="0">
            <AccumulatorArray value="ACbf@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ACbf@SearchImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ACbf@Damage"/>
        <EffectArray value="ACbf@BuffBreathOfFrost"/>
    </CEffectSet>
    <!--Devour Buff=Bdig,Bdvv-->
    <CEffectDamage id="ACdv@BuffDigesting@DPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="5"/>
        <Type value="Acid"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Afzy@BuffFrenzy" parent="War3_ApplyBuff"/>
    <!--Pulverize (Sea Giant)-->
    <CEffectEnumArea id="ANpi@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <AreaArray Radius="3.4375" Effect="ANpi@DamagePerSecond"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANpi@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <Amount value="0">
            <AccumulatorArray value="ANpi@DamagePerSecond"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectEnumArea id="AIcf@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <AreaArray Radius="2.5" Effect="AIcf@DamagePerSecond"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="AIcf@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <Amount value="0">
            <AccumulatorArray value="AIcf@DamagePerSecond"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <!--Permanent Immolation (graphic) Dur=1 HeroDur=1 Buff=Bpig-->
    <CEffectEnumArea id="Apig@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <AreaArray Radius="3.4375" Effect="Apig@DamagePerSecond"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="Apig@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <Amount value="0">
            <AccumulatorArray value="Apig@DamagePerSecond"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectSet id="ANlm@AttackHandleSet">
        <ValidatorArray value="ANlm@MaxGenerationCount"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@AttackCount"/>
        <EffectArray value="ANlm@SplitSet"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANlm@BuffLavaMonsterBonusTime" parent="War3_ApplyBuff">
        <WhichUnit Value="Source"/>
        <Behavior value="ANlm@BuffLavaMonster"/>
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANlm@SplitSet">
        <ValidatorArray value="ANlm@SplitAttackCount"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@IncreaseGeneration"/>
        <EffectArray value="ANlm@Morphing"/>
    </CEffectSet>
    <CEffectSet id="ANlm@CreateSpawnSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@InitialGeneration"/>
        <EffectArray value="ANlm@BuffLavaMonsterInitialTime"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANlm@Precursor">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANlm@RemovePrecursor">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANlm@Precursor"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="ANlm@AttackCount">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANlm@IncreaseGeneration">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="SetAttributePoints" value="1"/>
        <Flags index="SetAttributePointsDelta" value="1"/>
        <WhichUnit Value="Source"/>
        <Behavior value="ANlm@Generation"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANlm@AttackCountReset">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANlm@AttackCount"/>
    </CEffectRemoveBehavior>
    <CEffectTransferBehavior id="ANlm@CopyDuration">
        <EditorCategories value="Race:Creeps"/>
        <LaunchUnit Effect="ANlm@CreateCopy" Value="Source"/>
        <ImpactUnit Value="Target"/>
        <Copy value="1"/>
        <Preserve value="1"/>
        <Behavior value="ANlm@BuffLavaMonster"/>
    </CEffectTransferBehavior>
    <CEffectTransferBehavior id="ANlm@CopyGeneration">
        <EditorCategories value="Race:Creeps"/>
        <LaunchUnit Effect="ANlm@CreateCopy" Value="Source"/>
        <ImpactUnit Value="Target"/>
        <Behavior value="ANlm@Generation"/>
        <Copy value="1"/>
    </CEffectTransferBehavior>
    <CEffectSet id="ANlm@CopySet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@CopyLife"/>
        <EffectArray value="ANlm@CopyDuration"/>
        <EffectArray value="ANlm@CopyGeneration"/>
        <EffectArray value="ANlm@Precursor"/>
        <EffectArray value="ANlm@LavaMissile"/>
    </CEffectSet>
    <CEffectCreateUnit id="ANlm@CreateCopy" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <TypeFallbackUnit Value="Source"/>
        <SpawnEffect value="ANlm@CopySet"/>
        <SelectUnit Value="Source"/>
        <SpawnOffset value="0,-3.125"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="ANlm@InitialGeneration">
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="ANlm@Generation"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANlm@Morphing" parent="War3_ApplyBuff">
        <WhichUnit Value="Source"/>
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="ANlm@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnEffect value="ANlm@CreateSpawnSet"/>
        <SpawnUnit index="0" value="nlv1"/>
        <SpawnUnit value="nlv2"/>
        <SpawnUnit value="nlv3"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectSet id="ANlm@MorphingFinishSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@AttackCountReset"/>
        <EffectArray value="ANlm@NewLife"/>
        <EffectArray value="ANlm@BuffLavaMonsterBonusTime"/>
        <EffectArray value="ANlm@CreateCopy"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANlm@NewLife">
        <EditorCategories value="Race:Creeps"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ANlm@NewLifeA"/>
                <AccumulatorArray value="ANlm@NewLifeB"/>
            </Change>
        </VitalArray>
        <ModifyFlags index="SetVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANlm@CopyLife">
        <EditorCategories value="Race:Creeps"/>
        <ModifyFlags index="Copy" value="1"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Effect="ANlm@CreateCopy" Value="Source"/>
    </CEffectModifyUnit>
    <CEffectDamage id="ANso@BuffSoulBurn@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
        <Amount value="0">
            <AccumulatorArray value="ANso@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANvc@Channel">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="Channeled" value="1"/>
        <InitialDelay value="1"/>
        <ExpireDelay value="3.5"/>
        <PeriodCount value="8">
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <InitialEffect value="ANvc@DropRockCP"/>
        <PeriodicEffectArray value="ANvc@DropRockCP"/>
        <WhichLocation Value="TargetUnit"/>
        <OffsetVectorStartLocation Value="TargetUnit"/>
        <OffsetVectorEndLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="5"/>
        <FinalEffect value="War3_TimedLifeFate"/>
    </CEffectCreatePersistent>
    <CEffectCreateUnit id="ANvc@CreateVolcano" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnEffect value="ANvc@VolcanoSpawnSet"/>
        <SpawnUnit index="0" value="Volc"/>
        <WhichLocation Value="TargetPoint"/>
    </CEffectCreateUnit>
    <CEffectCreatePersistent id="ANvc@DropRockCP">
        <EditorCategories value="Race:Creeps"/>
        <PeriodicPeriodArray value="0.0625"/>
        <PeriodicPeriodArray value="0.125"/>
        <Flags index="RandomPeriod" value="1"/>
        <InitialEffect value="ANvc@DropRockTarget"/>
        <PeriodCount value="20"/>
        <PeriodicEffectArray value="ANvc@DropRockTarget"/>
        <WhichLocation Value="TargetUnit"/>
        <OffsetVectorStartLocation Value="TargetUnit"/>
        <OffsetVectorEndLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectRandomPointInCircle id="ANvc@DropRockTarget">
        <EditorCategories value="Race:Creeps"/>
        <Effect value="ANvc@EffectMissile"/>
        <Radius value="7.8125"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectRandomPointInCircle>
    <CEffectSet id="ANvc@VolcanoSpawnSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANvc@VolcanoTimedLife"/>
        <EffectArray value="ANvc@Channel"/>
    </CEffectSet>
    <CEffectSet id="ANvc@AoeBuffSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANvc@BuffVolcano"/>
        <EffectArray value="ANvc@BuffVolcanoAoe"/>
    </CEffectSet>
    <CEffectCreateUnit id="Aap3@CreatePlagueWardUnit" parent="War3_SummonUnit">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Aap3@BuffPlagueWard"/>
        <SpawnUnit index="0" value="uplg"/>
    </CEffectCreateUnit>
    <CEffectLaunchMissile id="ANlm@LavaMissile" parent="War3_AbilMissile">
        <EditorCategories value="Race:Creeps"/>
        <LaunchLocation Effect="ANlm@CreateCopy"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANlm@LavaMissileImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANlm@RemovePrecursor"/>
    </CEffectSet>
    <CEffectDamage id="Aap3@BuffAuraPlague@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Undead"/>
        <Type value="Disease"/>
    </CEffectDamage>
    <CEffectEnumArea id="Aap3@Search" parent="War3_AuraSearch" aura="Aap3@BuffAuraPlague">
        <EditorCategories value="Race:Undead"/>
        <AreaArray index="0" Radius="3.9062" Effect="Aap3@BuffAuraPlague"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Aap4@Search" parent="War3_AuraSearch" aura="Aap4@BuffAuraPlague">
        <EditorCategories value="Race:Undead"/>
        <AreaArray index="0" Radius="3.9062" Effect="Aap4@BuffAuraPlague"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <!--Firelord - Volcano Buff=BNvc,BNva effect=XNvc-->
    <CEffectSet id="ANvc@Initialize">
        <EditorCategories value="Race:Creeps"/>
        <TargetLocationType value="Point"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="ANvc@CreateVolcano"/>
    </CEffectSet>
    <!--CursorDummy-->
    <CEffectEnumArea id="ANvc@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;self,air,ward,wall,Missile,Dead,Hidden,invulnerable,Decaying,item"/>
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AreaArray Radius="7.8125"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANvc@AoeBuffSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;self,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="2.232" Effect="ANvc@AoeBuffSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANvc@AoeDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AttributeFactor index="Structure" value="1"/>
        <Amount value="100"/>
        <AreaArray Radius="1.116" Fraction="1" Validator="ANvc@NotHaveBuffVolcanoAoe"/>
        <AreaArray Radius="2.232" Fraction="0.5" Validator="ANvc@NotHaveBuffVolcanoAoe"/>
        <SearchFilters value="-;self,air,ward,wall,Missile,Dead,Hidden,invulnerable,Decaying,item"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectDamage>
    <CEffectLaunchMissile id="ANvc@EffectMissile" parent="War3_AbilMissile">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="TargetPoint"/>
        <LaunchLocation Effect="ANvc@DropRockTarget" Value="TargetUnit"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANvc@EffectMissileImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <TargetLocationType value="Point"/>
        <EffectArray value="ANvc@AoeDamage"/>
        <EffectArray value="ANvc@AoeBuffSearch"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANso@BuffSoulBurn" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANlm@BuffLavaMonsterInitialTime" parent="War3_ApplyBuff">
        <Behavior value="ANlm@BuffLavaMonster"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="70"/>
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANvc@BuffVolcano" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="War3_NonBuildingUnit"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANvc@BuffVolcanoAoe" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--CEffectApplyBehavior id="Aap2@BuffPlagueWard" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="Aap3@BuffAuraPlague" parent="War3_AuraBuff">
        <ValidatorArray value="IsNotUndead"/>
        <ValidatorArray value="War3_IsNotSleeping"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aap3@BuffPlagueWard" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aap4@BuffAuraPlague" parent="War3_AuraBuff">
        <ValidatorArray value="IsNotUndead"/>
        <ValidatorArray value="War3_IsNotSleeping"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ANic@DeathExplodeDamageAir" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
        <Visibility value="Snapshot"/>
        <Flags index="Notification" value="0"/>
        <Type value="Unknown"/>
        <Amount value="0">
            <AccumulatorArray value="ANic@DeathExplodeDamage"/>
        </Amount>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <AreaArray Radius="2.8125" Fraction="0.5"/>
        <SearchFilters value="air;player,allies,ward,mechanical,ancient,structure,wall,tree,Missile,debris,Dead,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectDamage id="ANic@DeathExplodeDamageGround" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <AreaArray Radius="2.8125" Fraction="0.5"/>
        <SearchFilters value="ground;player,allies,ward,mechanical,ancient,structure,wall,tree,Missile,debris,Dead,invulnerable,Decaying,Raisable,item"/>
        <Amount value="0">
            <AccumulatorArray value="ANic@DeathExplodeDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ANia@DeathExplodeDamageAir" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <AreaArray Radius="2.8125" Fraction="0.5"/>
        <SearchFilters value="air;player,allies,ward,mechanical,ancient,structure,wall,tree,Missile,debris,Dead,invulnerable,Decaying,Raisable,item"/>
        <Amount value="0">
            <AccumulatorArray value="ANia@DeathExplodeDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ANia@DeathExplodeDamageGround" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <AreaArray Radius="2.8125" Fraction="0.5"/>
        <SearchFilters value="ground;player,allies,ward,mechanical,ancient,structure,wall,tree,Missile,debris,Dead,invulnerable,Decaying,Raisable,item"/>
        <Amount value="0">
            <AccumulatorArray value="ANia@DeathExplodeDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANic@DeathExplodeDelayAir">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="0.2"/>
        <ExpireEffect value="ANic@DeathExplodeDamageAir"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANia@DeathExplodeDelayAir">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="0.2"/>
        <ExpireEffect value="ANic@DeathExplodeDamageAir"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANic@DeathExplodeDelayGround">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="0.2"/>
        <ExpireEffect value="ANic@DeathExplodeDamageGround"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANia@DeathExplodeDelayGround">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="0.2"/>
        <ExpireEffect value="ANia@DeathExplodeDamageGround"/>
    </CEffectCreatePersistent>
    <CEffectSwitch id="ANic@DeathExplodeSwitch">
        <EditorCategories value="Race:Creeps"/>
        <CaseArray Validator="AirUnit" Effect="ANic@DeathExplodeDelayAir"/>
        <CaseDefault value="ANic@DeathExplodeDelayGround"/>
    </CEffectSwitch>
    <CEffectSwitch id="ANia@DeathExplodeSwitch">
        <EditorCategories value="Race:Creeps"/>
        <CaseArray Validator="AirUnit" Effect="ANia@DeathExplodeDelayAir"/>
        <CaseDefault value="ANia@DeathExplodeDelayGround"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="ANic@BuffIncinerate" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANia@BuffIncinerate" parent="War3_ApplyBuff"/>
    <CEffectDamage id="ANdo@BuffDoom@DPS" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="40"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectDamage id="ANca@InheritedAoeDamage" parent="War3_AttackEnchantDamage">
        <ImpactLocation Value="SourcePoint"/>
        <Kind value="Melee"/>
        <KindSplash value="Melee"/>
        <Type value="Enhanced"/>
        <Fraction value="0">
            <AccumulatorArray value="ANca@SplashDamageFactor"/>
        </Fraction>
        <AreaArray Radius="3.125" Fraction="1"/>
        <AreaRelativeOffset value="0,-3.125"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <!--Pit Lord - Howl of Terror Buff=BNht-->
    <CEffectEnumArea id="ANht@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.8125" Effect="ANht@BuffHowlOfTerror"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANdo@BuffDoom" parent="War3_ApplyBuff">
        <ValidatorArray value="ANdo@NotCreepOrNotMaxCreepLevel"/>
        <ValidatorArray value="NoBuffDoomAnyBNdo"/>
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANdo@BuffDoomMinion" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANht@BuffHowlOfTerror" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANrf@BuffRainOfFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANrf@BuffRainOfFireAoe" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ANrf@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANrf@Search"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANrf@Waves">
        <EditorCategories value="Race:Creeps"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANrf@NumberofWaves"/>
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <PeriodicEffectArray value="ANrf@DamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <ExpireDelay value="1"/>
        <InitialEffect value="ANrf@DamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANrf@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ANrf@Damage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="ANrf@BuffRainOfFire@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ANrf@DamagePerSecond"/>
        </Amount>
        <Death value="Fire"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectSet id="ANrf@ImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANrf@Damage"/>
        <EffectArray value="ANrf@BuffRainOfFire"/>
    </CEffectSet>
    <CEffectEnumArea id="ANrf@Search">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ANrf@ImpactSet"/>
        <MaxCount value="5"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANab@BuffAcidBomb@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ResponseFlags index="Flee" value="0"/>
        <Type value="ShadowStrike"/>
        <Amount value="0">
            <AccumulatorArray value="ANab@PrimaryDamage"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
        <Death value="Disintegrate"/>
    </CEffectDamage>
    <CEffectDamage id="ANab@BuffAcidBombSecondary@DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="ShadowStrike"/>
        <ResponseFlags index="Flee" value="0"/>
        <Amount value="0">
            <AccumulatorArray value="ANab@SecondaryDamage"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
        <Death value="Disintegrate"/>
    </CEffectDamage>
    <CEffectSwitch id="ANab@SearchSwitch">
        <EditorCategories value="Race:Creeps"/>
        <CaseArray Validator="AirUnit" Effect="ANab@SearchAir"/>
        <CaseDefault value="ANab@SearchGround"/>
    </CEffectSwitch>
    <CEffectModifyUnit id="ANhs@Heal" parent="War3_Heal">
        <EditorCategories value="Race:Creeps"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ANhs@Heal"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="ANhs@HealSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="ANhs@HealImpactSet"/>
        <MaxCount value="7"/>
        <TargetSorts>
            <SortArray value="TSLifeFraction"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="ANhs@HealImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANhs@BuffHealingSpray"/>
        <EffectArray value="ANhs@Heal"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ANhs@Missile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <!--Alchemist - Acid Bomb Buff=BNab-->
    <CEffectSet id="ANab@MissileImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANab@BuffAcidBomb"/>
        <EffectArray value="ANab@SearchSwitch"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectEnumArea id="ANab@SearchAir" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="air;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ANab@BuffAcidBombSecondary"/>
        <ExcludeArray Value="Target"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANab@SearchGround" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="ground;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ANab@BuffAcidBombSecondary"/>
        <ExcludeArray Value="Target"/>
    </CEffectEnumArea>
    <!--Alchemist - Healing Spray Buff=BNhs effect=XNhs-->
    <CEffectRandomPointInCircle id="ANhs@MissileRandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANhs@Missile"/>
        <Radius value="3.125"/>
    </CEffectRandomPointInCircle>
    <CEffectSet id="ANhs@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANhs">
        <EditorCategories value="Race:Creeps"/>
        <InitialEffect value="ANhs@HealCP"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANhs@WaveCount"/>
        </PeriodCount>
        <PeriodicEffectArray value="ANhs@MissileCP"/>
        <PeriodicPeriodArray value="0"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANhs@HealCP">
        <EditorCategories value="Race:Creeps"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANhs@WaveCount"/>
        </PeriodCount>
        <PeriodicEffectArray value="ANhs@HealSearch"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANhs@MissileCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANhs@MissileRandomPoint"/>
        <PeriodCount value="6"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="ANab@BuffAcidBomb" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANab@BuffAcidBombSecondary" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANcr@BuffChemicalRage" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANhs@BuffHealingSpray" parent="War3_ApplyBuff"/>
    <CEffectLaunchMissile id="ANtm@Missile">
        <ValidatorArray value="ANtm@NotCreepOrNotMaxCreepLevel"/>
    </CEffectLaunchMissile>
    <!--Alchemist - Transmute Buff=BNtm-->
    <CEffectSet id="ANtm@MissileImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANtm@BuffTransmute"/>
        <EffectArray value="ANtm@Kill"/>
        <EffectArray value="ANtm@Pawn"/>
        <CanBeBlocked value="1"/>
        <!--EffectArray value="ForceRemoveTarget"/-->
    </CEffectSet>
    <CEffectDamage id="ANtm@Kill">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="Kill" value="1"/>
        <Flags index="Notification" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ANtm@Pawn">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <ModifyFlags index="Owner" value="1"/>
        <ModifyFlags index="Salvage" value="1"/>
        <ModifyFlags index="Unraisable" value="1"/>
        <SalvageFactor>
            <Resource index="Terrazine" value="-0.8"/>
        </SalvageFactor>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="ANtm@BuffTransmute" parent="War3_ApplyBuff"/>
    <CEffectRandomPointInCircle id="ANcs@MissileRandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANcs@Missile"/>
        <Radius value="3.125"/>
    </CEffectRandomPointInCircle>
    <CEffectLaunchMissile id="ANcs@Missile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANcs@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANcs">
        <EditorCategories value="Race:Creeps"/>
        <InitialEffect value="ANcs@MissileCP"/>
        <ExpireDelay value="1.01"/>
        <ExpireEffect value="ANcs@DamageCP"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANcs@DamageCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.25"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANcs@Damage"/>
        <PeriodCount value="4"/>
        <InitialEffect value="ANcs@StunSearch"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANcs@MissileCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANcs@MissileRandomPoint"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANcs@MissileCount"/>
        </PeriodCount>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANcs@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Force"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,debris,invulnerable,immunity,item"/>
        <MaxCount value="12"/>
        <Amount value="0">
            <AccumulatorArray value="ANcs@Damage"/>
        </Amount>
        <AreaArray Radius="3.125" Fraction="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANcs@StunSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ANcs@BuffClusterRockets"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANcs@BuffClusterRockets" parent="War3_ApplyBuff"/>
    <CEffectRandomPointInCircle id="ANc1@MissileRandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANc1@Missile"/>
    </CEffectRandomPointInCircle>
    <CEffectLaunchMissile id="ANc1@Missile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANc1@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANc1">
        <EditorCategories value="Race:Creeps"/>
        <InitialEffect value="ANc1@MissileCP"/>
        <ExpireDelay value="1.01"/>
        <ExpireEffect value="ANc1@DamageCP"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc1@DamageCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.25"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc1@Damage"/>
        <PeriodCount value="4"/>
        <InitialEffect value="ANc1@StunSearch"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc1@MissileCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc1@MissileRandomPoint"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANc1@MissileCount"/>
        </PeriodCount>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANc1@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Force"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,debris,invulnerable,immunity,item"/>
        <MaxCount value="12"/>
        <Amount value="0">
            <AccumulatorArray value="ANc1@Damage"/>
        </Amount>
        <AreaArray Fraction="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANc1@StunSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.5937" Effect="ANc1@BuffClusterRockets"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANc1@BuffClusterRockets" parent="War3_ApplyBuff"/>
    <CEffectRandomPointInCircle id="ANc2@MissileRandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANc2@Missile"/>
    </CEffectRandomPointInCircle>
    <CEffectLaunchMissile id="ANc2@Missile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANc2@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANc2">
        <EditorCategories value="Race:Creeps"/>
        <InitialEffect value="ANc2@MissileCP"/>
        <ExpireDelay value="1.01"/>
        <ExpireEffect value="ANc2@DamageCP"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc2@DamageCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.25"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc2@Damage"/>
        <PeriodCount value="4"/>
        <InitialEffect value="ANc2@StunSearch"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc2@MissileCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc2@MissileRandomPoint"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANc2@MissileCount"/>
        </PeriodCount>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANc2@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Force"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,debris,invulnerable,immunity,item"/>
        <MaxCount value="12"/>
        <Amount value="0">
            <AccumulatorArray value="ANc2@Damage"/>
        </Amount>
        <AreaArray Radius="3.5937" Fraction="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANc2@StunSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.5937" Effect="ANc2@BuffClusterRockets"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANc2@BuffClusterRockets" parent="War3_ApplyBuff"/>
    <CEffectRandomPointInCircle id="ANc3@MissileRandomPoint">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <Effect value="ANc3@Missile"/>
        <Radius value="4.5312"/>
    </CEffectRandomPointInCircle>
    <CEffectLaunchMissile id="ANc3@Missile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANc3@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANc3">
        <EditorCategories value="Race:Creeps"/>
        <InitialEffect value="ANc3@MissileCP"/>
        <ExpireDelay value="1.01"/>
        <ExpireEffect value="ANc3@DamageCP"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc3@DamageCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.25"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc3@Damage"/>
        <PeriodCount value="4"/>
        <InitialEffect value="ANc3@StunSearch"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANc3@MissileCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANc3@MissileRandomPoint"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ANc3@MissileCount"/>
        </PeriodCount>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANc3@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Force"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,debris,invulnerable,immunity,item"/>
        <MaxCount value="12"/>
        <Amount value="0">
            <AccumulatorArray value="ANc3@Damage"/>
        </Amount>
        <AreaArray Radius="4.5312" Fraction="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANc3@StunSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="4.5312" Effect="ANc3@BuffClusterRockets"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANc3@BuffClusterRockets" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANsy@CreateClockworkGoblin" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ncgb"/>
        <SpawnUnit value="ncg1"/>
        <SpawnUnit value="ncg2"/>
        <SpawnEffect value="ANsy@BuffClockworkGoblin"/>
        <RallyUnit Value="Source"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANsy@CreateFactory" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <SpawnEffect value="ANsy@BuffFactory"/>
        <SpawnUnit index="0" value="nfac"/>
        <SpawnUnit value="nfa1"/>
        <SpawnUnit value="nfa2"/>
    </CEffectCreateUnit>
    <CEffectLaunchMissile id="ANsy@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <ValidatorArray index="0" value="Pathable"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANsy@MissileImpactSet">
        <TargetLocationType value="Point"/>
        <EffectArray value="ANsy@CreateFactory"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANsy@BuffFactory" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANsy@BuffClockworkGoblin" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs1@BuffFactory" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs1@BuffClockworkGoblin" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs2@BuffFactory" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs2@BuffClockworkGoblin" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs3@BuffFactory" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANs3@BuffClockworkGoblin" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANs1@CreateClockworkGoblin" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ncgb"/>
        <SpawnUnit value="ncg1"/>
        <SpawnUnit value="ncg2"/>
        <SpawnEffect value="ANs1@BuffClockworkGoblin"/>
        <RallyUnit Value="Source"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANs1@CreateFactory" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <SpawnEffect value="ANs1@BuffFactory"/>
        <SpawnUnit index="0" value="nfac"/>
        <SpawnUnit value="nfa1"/>
        <SpawnUnit value="nfa2"/>
    </CEffectCreateUnit>
    <CEffectLaunchMissile id="ANs1@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <ValidatorArray index="0" value="Pathable"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANs1@MissileImpactSet">
        <TargetLocationType value="Point"/>
        <EffectArray value="ANs1@CreateFactory"/>
    </CEffectSet>
    <CEffectCreateUnit id="ANs2@CreateClockworkGoblin" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ncgb"/>
        <SpawnUnit value="ncg1"/>
        <SpawnUnit value="ncg2"/>
        <SpawnEffect value="ANs2@BuffClockworkGoblin"/>
        <RallyUnit Value="Source"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANs2@CreateFactory" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <SpawnEffect value="ANs2@BuffFactory"/>
        <SpawnUnit index="0" value="nfac"/>
        <SpawnUnit value="nfa1"/>
        <SpawnUnit value="nfa2"/>
    </CEffectCreateUnit>
    <CEffectLaunchMissile id="ANs2@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <ValidatorArray index="0" value="Pathable"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANs2@MissileImpactSet">
        <TargetLocationType value="Point"/>
        <EffectArray value="ANs2@CreateFactory"/>
    </CEffectSet>
    <CEffectCreateUnit id="ANs3@CreateClockworkGoblin" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ncgb"/>
        <SpawnUnit value="ncg1"/>
        <SpawnUnit value="ncg2"/>
        <SpawnEffect value="ANs3@BuffClockworkGoblin"/>
        <RallyUnit Value="Source"/>
        <Origin Value="SourceUnit"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANs3@CreateFactory" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <SpawnEffect value="ANs3@BuffFactory"/>
        <SpawnUnit index="0" value="nfac"/>
        <SpawnUnit value="nfa1"/>
        <SpawnUnit value="nfa2"/>
    </CEffectCreateUnit>
    <CEffectLaunchMissile id="ANs3@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <ValidatorArray index="0" value="Pathable"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANs3@MissileImpactSet">
        <TargetLocationType value="Point"/>
        <EffectArray value="ANs3@CreateFactory"/>
    </CEffectSet>
    <CEffectEnumArea id="AIdi@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Item"/>
        <SearchFilters value="-;wall,Missile,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="AIdi@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AIdi@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AIdi@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="AIdi@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Item"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="200"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectAddTrackedUnit id="ANef@AddTracked">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANef@SummonedUnitTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="ANef@Channeling">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANef@ElementalFinalSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANef@SelectCaster"/>
        <EffectArray value="War3_TimedLifeFate"/>
        <EffectArray value="ANef@Teleport"/>
    </CEffectSet>
    <CEffectSet id="ANef@MissileEarthImpactSet">
        <EffectArray value="ANef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectSet id="ANef@MissileFireImpactSet">
        <EffectArray value="ANef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectSet id="ANef@MissileStormImpactSet">
        <EffectArray value="ANef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANef@Precursor">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANef@RemovePrecursor">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANef@Precursor"/>
    </CEffectRemoveBehavior>
    <CEffectCreateUnit id="ANef@CreateFire" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="npn1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="ANef@SpawnSetFire"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANef@CreateStorm" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="npn2"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="ANef@SpawnSetStorm"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANef@CreateEarth" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="npn3"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="ANef@SpawnSetEarth"/>
    </CEffectCreateUnit>
    <CEffectSet id="ANef@Initialize">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANef@SummonedUnitTrackerClear"/>
        <EffectArray value="ANef@SummonedUnitTracker"/>
        <EffectArray value="ANef@CreateEarth"/>
        <EffectArray value="ANef@CreateFire"/>
        <EffectArray value="ANef@CreateStorm"/>
        <EffectArray value="ANef@Channeling"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ANef@MissileEarth">
        <Movers Link="ANef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANef@MissileFire">
        <Movers Link="ANef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANef@MissileStorm">
        <Movers Link="ANef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectModifyUnit id="ANef@SelectCaster">
        <EditorCategories value="Race:Creeps"/>
        <ImpactUnit Value="Caster"/>
        <SelectTransferUnit Value="Source"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
        <FacingLocation Value="SourceUnit"/>
    </CEffectModifyUnit>
    <CEffectSet id="ANef@SpawnSetEarth">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANef@Precursor"/>
        <EffectArray value="ANef@BuffElementalFury"/>
        <EffectArray value="ANef@AddTracked"/>
        <EffectArray value="ANef@MissileEarth"/>
    </CEffectSet>
    <CEffectSet id="ANef@SpawnSetFire">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANef@Precursor"/>
        <EffectArray value="ANef@BuffElementalFury"/>
        <EffectArray value="ANef@AddTracked"/>
        <EffectArray value="ANef@MissileFire"/>
    </CEffectSet>
    <CEffectSet id="ANef@SpawnSetStorm">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANef@Precursor"/>
        <EffectArray value="ANef@BuffElementalFury"/>
        <EffectArray value="ANef@AddTracked"/>
        <EffectArray value="ANef@MissileStorm"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANef@SummonedUnitTracker">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANef@SummonedUnitTrackerClear">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANef@SummonedUnitTracker"/>
        <WhichUnit Value="Caster"/>
    </CEffectRemoveBehavior>
    <CEffectTeleport id="ANef@Teleport">
        <EditorCategories value="Race:Creeps"/>
        <WhichUnit Value="Caster"/>
        <MinDistance value="0"/>
        <TargetLocation Value="TargetUnitOrPoint"/>
    </CEffectTeleport>
    <CEffectDamage id="ANef@SuicideCaster">
        <ValidatorArray value="ANef@AllDead"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnit"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANef@BuffElementalFury" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANdb@Critical">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANdb@CriticalRB">
        <EditorCategories value="Race:Creeps"/>
        <BehaviorLink value="ANdb@Critical"/>
    </CEffectRemoveBehavior>
    <!--Brewmaster - Drunken Haze Buff=BNdh-->
    <CEffectSet id="ANdh@MissileImpactSet">
        <EffectArray value="ANdh@Search"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <!--Brewmaster - Drunken Haze Buff=BNdh-->
    <CEffectEnumArea id="ANdh@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="3.125" Effect="ANdh@BuffDrunkenHaze"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Hidden,invulnerable,immunity,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANdh@BuffDrunkenHaze" parent="War3_ApplyBuff"/>
    <!--Brewmaster - Breath of Fire Buff=BNbf-->
    <CEffectCreatePersistent id="ANbf@TargetStart">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ANbf@TargetEnd"/>
        <ExpireOffset value="0,-1.9531,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANbf@TargetEnd">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ANbf@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-5.8593,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ANbf@Missile">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ANbf@Search"/>
        <SearchMaxCount value="8"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <LaunchLocation Effect="ANbf@TargetEnd" Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ANbf@Search" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.9531" RadiusBonus="0.4558" Effect="ANbf@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANbf@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="noMarkers"/>
        <Amount value="0">
            <AccumulatorArray value="ANbf@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ANbf@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="0">
            <AccumulatorArray value="ANbf@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ANbf@SearchImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANbf@Damage"/>
        <EffectArray value="ANbf@BuffBreathOfFire"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANbf@BuffBreathOfFire" parent="War3_ApplyBuff">
        <ValidatorArray value="HasBuffDrunkenHazeAnyBNdh"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANms@BuffManaShield" parent="War3_ApplyBuff"/>
    <CEffectSet id="ANto@Initialize">
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="ANto@CreateUnit"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="Atwa@LeashSuicide">
        <ValidatorArray value="Atwa@LeashTooFar"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Atwa@Wander"/>
    <!--TornadoDamage Buff=Btdg-->
    <CEffectDamage id="Atdg@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <Type value="Force"/>
        <AreaArray Radius="1.953" Bonus="50" Fraction="1"/>
        <AreaArray Radius="10.1562" Bonus="7" Fraction="1"/>
        <SearchFilters value="structure;player,allies,neutral,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <!--TornadoSpin Dur=12 HeroDur=6 Buff=Btsp,Btsa-->
    <CEffectEnumArea id="Atsp@Search" parent="War3_AuraSearch" aura="Atsp@SearchImpactSet">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <SearchFilters value="Visible,ground;player,allies,neutral,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <AreaArray index="0" Radius="4.2968" Effect="Atsp@SearchImpactSet"/>
        <MaxCount value="1"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Atsp@SearchImpactSet">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="NoBuffTornadoSpinAnyBtsa"/>
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="Atsp@BuffTornadoSpin"/>
        <EffectArray value="Atsp@BuffTornadoSpinAoe"/>
    </CEffectSet>
    <!--Aura - Slow Buff=Basl-->
    <CEffectEnumArea id="Aasl@Search" parent="War3_AuraSearch" aura="Basl">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <SearchFilters value="-;player,allies,neutral,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray index="0" Radius="9.375" Effect="Aasl@BuffAuraSlow"/>
    </CEffectEnumArea>
    <!--Sea Witch - Tornado Buff=BNto-->
    <CEffectCreateUnit id="ANto@CreateUnit" parent="War3_SummonUnit">
        <WhichLocation Value="TargetUnitOrPoint"/>
        <SpawnEffect value="ANto@BuffTornado"/>
        <SpawnUnit index="0" value="ntor"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="ANto@BuffTornado" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aasl@BuffAuraSlow" parent="War3_AuraBuff">
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Atdg@BuffTornadoDamageAoe" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Atsp@BuffTornadoSpin" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Atsp@BuffTornadoSpinAoe" parent="War3_ApplyBuff"/>
    <CEffectSet id="Achd@SearchImpact">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="CasterIsAirUnit"/>
        <EditorCategories value="Race:Other"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Achd@BuffCargoDeath"/>
    </CEffectSet>
    <CEffectUserData id="Achd@SpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.14"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="Achd@BuffCargoDeath" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANfa@BuffColdArrow" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANfa@BuffColdArrowStackDoT" parent="War3_ApplyBuff"/>
    <!--Sea Witch - Forked Lightning-->
    <CEffectEnumArea id="ANfl@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="CasterUnit"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Arc="39.9792" Radius="18.75" Effect="ANfl@Damage"/>
        <MaxCount value="3"/>
        <LaunchLocation Value="CasterUnit"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectDamage id="ANfl@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="ANfl@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANst@MissileScan" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
        <AreaArray RectangleWidth="0.8593" Effect="ANst@MissileScanImpactSet"/>
    </CEffectEnumArea>
    <CEffectLaunchMissile id="ANst@Missile">
        <LaunchLocation Effect="ANst@EndOffset" Value="TargetPoint"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ANst@MissileScan"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <SearchFlags index="ArriveOnSearchHit" value="1"/>
        <SearchHitArriveEffect value="ANst@Damage"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANst@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectSet id="ANst@MissileScanImpactSet"/>
    <!--Beast Master - Stampede Buff=BNst-->
    <CEffectDamage id="ANst@Damage" parent="War3_SpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="SourceUnit"/>
        <Type value="Universal"/>
        <Amount value="0">
            <AccumulatorArray value="ANst@Damage"/>
        </Amount>
        <AreaArray Radius="4.2968" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Missile,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANst@Persisent">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Flags index="Channeled" value="1"/>
        <Flags index="RandomOffset" value="1"/>
        <PeriodCount value="60"/>
        <PeriodicOffsetArray value="-12.5,15.5625,0"/>
        <PeriodicOffsetArray value="-6.5,15.5625,0"/>
        <PeriodicOffsetArray value="0,15.5625,0"/>
        <PeriodicOffsetArray value="6.5,15.5625,0"/>
        <PeriodicOffsetArray value="12.5,15.5625,0"/>
        <PeriodicPeriodArray value="0.5"/>
        <OffsetRandMode value="Shuffle"/>
        <PeriodicEffectArray value="ANst@StartOffset"/>
        <InitialEffect value="War3_RemoveCasterInvulnerableBuffs"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANst@StartOffset">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Flags index="RandomOffset" value="1"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="ANst@EndOffset"/>
        <PeriodicOffsetArray value="-3,0,0"/>
        <PeriodicOffsetArray value="-2,0,0"/>
        <PeriodicOffsetArray value="-1,0,0"/>
        <PeriodicOffsetArray value="0,0,0"/>
        <PeriodicOffsetArray value="1,0,0"/>
        <PeriodicOffsetArray value="2,0,0"/>
        <PeriodicOffsetArray value="3,0,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANst@EndOffset">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <OffsetVectorStartLocation Value="CasterUnit"/>
        <OffsetVectorEndLocation Value="CasterUnit"/>
        <OffsetFacingFallback Value="CasterUnit"/>
        <FinalEffect value="ANst@Missile"/>
        <FinalOffset value="0,-31.25,0"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="ANsq@BuffSummonQuillbeast" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANsw@BuffSummonWarEagle" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANsg@BuffSummonGrizzly" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANsg@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ANsg@BuffSummonGrizzly"/>
        <SpawnUnit index="0" value="ngz1"/>
        <SpawnUnit value="ngz2"/>
        <SpawnUnit value="ngz3"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANsq@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ANsq@BuffSummonQuillbeast"/>
        <SpawnUnit index="0" value="nqb1"/>
        <SpawnUnit value="nqb2"/>
        <SpawnUnit value="nqb3"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ANsw@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ANsw@BuffSummonWarEagle"/>
        <SpawnUnit index="0" value="nwe1"/>
        <SpawnUnit value="nwe2"/>
        <SpawnUnit value="nwe3"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectSwitch id="ANch">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="ANch@NotCreepOrNotMaxCreepLevel"/>
        <CaseArray Validator="KillHallucinationTargetFilters" Effect="Kill"/>
        <CaseDefault value="War3_MindControlTargetSet"/>
    </CEffectSwitch>
    <CEffectSwitch id="AIco">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="AIco@NotCreepOrNotMaxCreepLevel"/>
        <CaseArray Validator="KillHallucinationTargetFilters" Effect="Kill"/>
        <CaseDefault value="War3_MindControlTargetSet"/>
    </CEffectSwitch>
    <CEffectCreateUnit id="ANbs@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ndr1"/>
    </CEffectCreateUnit>
    <CEffectSet id="ANbs@DeathSet">
        <ValidatorArray value="Raiseable"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANbs@HandleCorpse"/>
        <EffectArray value="ANbs@CreateUnit"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANbs@HandleCorpse">
        <EditorCategories value="Race:Creeps"/>
        <ModifyFlags index="Unraisable" value="1"/>
    </CEffectModifyUnit>
    <!--CEffectApplyBehavior id="AUts@BuffThornyShield" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="ANbs@BuffBlackArrow" parent="War3_ApplyBuff">
        <ValidatorArray value="DeathTimeGT0"/>
        <ValidatorArray value="NoBuffDarkMinionAnyBNdm"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANbs@BuffDarkMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ANba@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnUnit index="0" value="ndr1"/>
        <SpawnUnit value="ndr2"/>
        <SpawnUnit value="ndr3"/>
    </CEffectCreateUnit>
    <CEffectSet id="ANba@DeathSet">
        <ValidatorArray value="Raiseable"/>
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANba@HandleCorpse"/>
        <EffectArray value="ANba@CreateUnit"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANba@HandleCorpse">
        <EditorCategories value="Race:Creeps"/>
        <ModifyFlags index="Unraisable" value="1"/>
    </CEffectModifyUnit>
    <!--CEffectApplyBehavior id="AUts@BuffThornyShield" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="ANba@BuffBlackArrow" parent="War3_ApplyBuff">
        <ValidatorArray value="DeathTimeGT0"/>
        <ValidatorArray value="NoBuffDarkMinionAnyBNdm"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANba@BuffDarkMinion" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="ANsi@Search">
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <AreaArray Effect="ANsi@BuffSilence"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="ANsi@Radius"/>
        </ExtraRadiusBonus>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANsi@BuffSilence" parent="War3_ApplyBuff"/>
    <CEffectIssueOrder id="Sch2@UnloadDisableAutoLoad">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
        <AbilTechAlias value="_ABILITY_MeatLoad"/>
        <CmdFlags index="SetAutoCast" value="1"/>
        <Player Value="Caster"/>
    </CEffectIssueOrder>
    <CEffectModifyUnit id="Sch2@PauseDecay">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="PauseDeathTime" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Sch2@UnpauseDecay">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="UnpauseDeathTime" value="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Apiv@Transition"/>
    <CEffectEnumArea id="Abdl@Search">
        <AreaArray Radius="15"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Abds@Search">
        <AreaArray Radius="12"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="Aprg@Initialize">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Aprg@EnemySummonedDamage"/>
        <EffectArray value="Aprg@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="Aprg@EnemyBuffSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Aprg@BuffPurge"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectSet>
    <CEffectUserData id="Aprg@MovementSpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.25"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectDamage id="Aprg@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="400"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Aprg@BuffPurge" parent="War3_ApplyBuff"/>
    <CEffectUserData id="Apg2@MovementSpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.25"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectDamage id="Apg2@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="400"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="Apg2@Initialize">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Apg2@EnemySummonedDamage"/>
        <EffectArray value="Apg2@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="Apg2@EnemyBuffSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Apg2@Pause"/>
        <EffectArray value="Apg2@BuffPurge"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Apg2@Pause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Apg2@BuffPurge" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="Asph@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AHmt@TeleportSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_RemoveAntiTeleportBuffs"/>
        <EffectArray value="AHmt@Teleport"/>
        <ValidatorArray value="War3_GenericTeleportablePassengerValidators"/>
    </CEffectSet>
    <CEffectSet id="AHmt@RemoveCasterInvulnerableBuffs">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="RemoveCasterBuffDivineShieldAll"/>
        <EffectArray value="RemoveCasterBuffInvulnerableAll"/>
        <EffectArray value="RemoveCasterBuffVoodooAll"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="AOre@RemoveBuff">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOre"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="AHmt@StartChannelSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHmt@RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AHmt@MassTeleportTeleportRevealBuff"/>
    </CEffectSet>
    <CEffectSet id="Amil@ResumeHarvest">
        <ValidatorArray value="CasterHasNoQueuedOrder"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_CasterResumeHarvest"/>
        <TargetLocationType value="UnitOrPoint"/>
    </CEffectSet>
    <CEffectSet id="Aspo@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Aspo@BuffSlowPoison"/>
        <EffectArray value="Aspo@BuffSlowPoisonStackDoT"/>
    </CEffectSet>
    <CEffectIssueOrder id="Alam@CancelTraining">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Effect="Alam"/>
        <Abil value="ASnP"/>
    </CEffectIssueOrder>
    <CEffectSet id="Alam@FinalSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Alam@RemoveTracked"/>
    </CEffectSet>
    <CEffectEnumTrackedUnits id="Alam@CancelLamb">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Alam@LambTracker"/>
        <Effect value="Alam@RemovePrecurosr"/>
    </CEffectEnumTrackedUnits>
    <CEffectRemoveBehavior id="Alam@RemovePrecurosr">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Alam@Precursor"/>
    </CEffectRemoveBehavior>
    <CEffectIssueOrder id="Alam@TargetIsTraining">
        <EditorCategories value="Race:Undead"/>
        <Abil value="usap@Train"/>
    </CEffectIssueOrder>
    <CEffectAddTrackedUnit id="Alam@AddTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Alam@LambTracker"/>
        <TrackerUnit Value="Target"/>
        <TrackedUnit Value="Caster"/>
    </CEffectAddTrackedUnit>
    <CEffectEnumTrackedUnits id="Alam@RemoveLamb">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Alam@LambTracker"/>
        <Effect value="ForceRemoveTarget"/>
    </CEffectEnumTrackedUnits>
    <CEffectRemoveTrackedUnit id="Alam@RemoveTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Alam@LambTracker"/>
        <TrackerUnit Effect="Alam" Value="Target"/>
    </CEffectRemoveTrackedUnit>
    <CEffectIssueOrder id="Alam@IssueTrainOrder">
        <EditorCategories value="Race:Undead"/>
        <Abil value="usap@Train"/>
    </CEffectIssueOrder>
    <CEffectApplyBehavior id="Alam@LambTracker">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="Arst">
        <ValidatorArray value="NoUnsummonAny"/>
        <ValidatorArray value="NoLiquidFireAny"/>
        <ValidatorArray value="NoFreezingBreathAny"/>
        <ValidatorArray value="MechanicalOrStructure"/>
        <DrainResourceCostFactor index="Minerals" value="0.35"/>
        <DrainResourceCostFactor index="Vespene" value="0.35"/>
        <DrainResourceCostFactor index="Terrazine" value="0.35"/>
        <DrainResourceCostFactor index="Custom" value="0.35"/>
        <RechargeVitalRate value="1"/>
        <TimeFactor value="1.5"/>
    </CEffectCreateHealer>
    <CEffectSet id="Aps2@LaunchSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Aps2@Missile"/>
        <EffectArray value="Aps2@Phased"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Aps2@Phased">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="Aps2@ClearPhased">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="Aps2@Phased"/>
    </CEffectRemoveBehavior>
    <CEffectLaunchMissile id="Apos@Missile">
        <LaunchEffect value="Apos@HideCaster"/>
    </CEffectLaunchMissile>
    <CEffectSwitch id="Apos">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="Apos@MaxCreepLevel"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EditorCategories value="Race:Human"/>
        <CaseArray Validator="IsHallucination" Effect="Kill"/>
        <CaseDefault value="Apos@Missile"/>
    </CEffectSwitch>
    <CEffectModifyUnit id="Apos@RemoveCasterWhenDone">
        <ValidatorArray value="TargetNotDead"/>
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Apos@UnhideCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Show" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Apos@TransferSelection">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="Show" value="1"/>
        <SelectTransferUnit Value="Caster"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
    </CEffectModifyUnit>
    <CEffectRemoveTrackedUnit id="Aaha@RemoveTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Aaha@Tracker"/>
        <TrackerUnit Value="Target"/>
    </CEffectRemoveTrackedUnit>
    <CEffectAddTrackedUnit id="Aaha@AddTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Aaha@Tracker"/>
        <TrackerUnit Value="Target"/>
        <TrackedUnit Value="Caster"/>
    </CEffectAddTrackedUnit>
    <CEffectSet id="Aaha@InitializeSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Aaha@Tracker"/>
        <EffectArray value="Aaha@AddTracked"/>
        <EffectArray value="Aaha@Harvesting"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Aaha@Harvesting">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aaha@Tracker">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="Aexh@Corpsify">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life">
            <ChangeFraction value="-1"/>
        </VitalArray>
        <ModifyFlags index="PauseDeathTime" value="1"/>
    </CEffectModifyUnit>
    <CEffectLoadContainer id="Aexh@LoadCorpse">
        <EditorCategories value="Race:Undead"/>
        <ContainerType value="Transport"/>
    </CEffectLoadContainer>
    <CEffectSet id="Aexh@SpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Aexh@Corpsify"/>
        <EffectArray value="Aexh@LoadCorpse"/>
    </CEffectSet>
    <CEffectDamage id="Afak@InheritedAoeDamage" parent="War3_AttackEnchantDamage">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="0.0156" Fraction="1"/>
        <AreaArray Radius="1.1718" Fraction="0.45"/>
        <AreaArray Radius="2.3437" Fraction="0.25"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Arpl@RefundMana">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="10"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Arpl@Initialize">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <InitialDelay value="0.0625"/>
        <InitialEffect value="Arpl@RefundMana"/>
        <FinalEffect value="Arpl@Search"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="Arpl@ChargeCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="-2"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectUserData id="Arpl@MaxUnitChargedToCaster">
        <EditorCategories value="Race:Undead"/>
        <Key value="Charged"/>
        <SourceKey value="Charged"/>
        <ValidateMax value="5"/>
        <EffectSuccess value="Arpl@ChargeCaster"/>
    </CEffectUserData>
    <CEffectSet id="Apts@SpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Apts@BuffPlagueWard"/>
        <!--Change Damage Source here-->
        <EffectArray value="Apts@RemoveAura"/>
        <EffectArray value="Apts@ReapplyAura"/>
    </CEffectSet>
    <CEffectCreateUnit id="Aap1@CreatePlagueWardUnit" parent="War3_SummonUnit">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Aap1@BuffPlagueWard"/>
        <SpawnUnit index="0" value="uplg"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Apts@CreatePlagueWardUnit" parent="War3_SummonUnit">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Apts@SpawnSet"/>
        <SpawnUnit index="0" value="uplg"/>
        <WhichLocation Value="TargetPoint"/>
    </CEffectCreateUnit>
    <CEffectModifyUnit id="Aabs@AttackAction">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Effect="Aabs@Missile" Value="Target"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectSet id="Aabs@MissileLaunchSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Aabs@AttackAction"/>
        <EffectArray value="Aabs@Launch"/>
    </CEffectSet>
    <CEffectModifyUnit id="AUav@Leech">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Source"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="InheritedDamage"/>
                <AccumulatorArray value="AUav@AttackDamageStolenRate"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AUts@ReflectionDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Type value="Defensive"/>
        <ImpactUnitValidator value="SourceIsNotHallucination"/>
        <Fraction value="0">
            <AccumulatorArray value="AUts@ReturnedDamageFactor"/>
        </Fraction>
    </CEffectDamage>
    <CEffectUserData id="AUls@ClearRecordedDamage">
        <ValidatorArray value="AUls@ClearRecordedDamageTargetFilters"/>
        <EditorCategories value="Race:Undead"/>
        <Key value="DamageLeeched"/>
        <SourceKey value="DamageLeeched"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectUserData id="AUls@LocustRecordDamage">
        <ValidatorArray value="AUls@LocustRecordDamageTargetFilters"/>
        <EditorCategories value="Race:Undead"/>
        <Key value="DamageLeeched"/>
        <Amount value="0">
            <AccumulatorArray value="AUls@DamageRecordFormular"/>
        </Amount>
        <SourceKey value="DamageLeeched"/>
    </CEffectUserData>
    <CEffectModifyUnit id="AUls@LocustHeal" parent="War3_Heal">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AUls@RecordedDamage"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AUls@LocustReturnedRemove">
        <ValidatorArray value="AUls@SwarmFinished"/>
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="SourceUnit"/>
        <Death value="Remove"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectCancelOrder id="AUls@OrderReset">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
        <Flags index="Queued" value="1"/>
    </CEffectCancelOrder>
    <CEffectCreatePersistent id="AUls@ThinkCP">
        <EditorCategories value="Race:Undead"/>
        <Flags index="EffectSuccess" value="1"/>
        <PeriodicEffectArray value="AUls@ThinkReturnedSet"/>
        <PeriodicEffectArray value="AUls@ThinkKillSuicide"/>
        <PeriodicEffectArray value="AUls@ThinkRecall"/>
        <PeriodicEffectArray value="AUls@ThinkPickTargetSet"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodCount value="4"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AUls@ThinkReturnedSet">
        <ValidatorArray value="AUls@LocustReturned"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUls@LocustHeal"/>
        <EffectArray value="AUls@ClearRecordedDamage"/>
        <EffectArray value="AUls@LocustReturnedRemove"/>
        <EffectArray value="AUls@OrderReset"/>
    </CEffectSet>
    <CEffectIssueOrder id="AUls@ThinkRecall">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <Target Value="CasterUnit"/>
        <ValidatorArray value="AUls@LocustRecallValidators"/>
    </CEffectIssueOrder>
    <CEffectRandomPointInCircle id="AUls@SwarmRandomPoint">
        <EditorCategories value="Race:Undead"/>
        <Effect value="AUls@OrderMove"/>
        <Radius value="12.5"/>
    </CEffectRandomPointInCircle>
    <CEffectApplyBehavior id="AUls@AttackTargetMarker"/>
    <CEffectSet id="AUls@AttackOrderSet">
        <ValidatorArray value="AUls@MaxLocustPerTarget"/>
        <ValidatorArray value="AUls@LocustCanAttackThisTarget"/>
        <ValidatorArray value="AUls@InLocustAcquireRange"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUls@OrderAttackOnce"/>
        <EffectArray value="AUls@AttackTargetMarker"/>
    </CEffectSet>
    <CEffectIssueOrder id="AUls@OrderAttackOnce">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
        <Abil value="Aatk"/>
        <CmdFlags index="AttackOnce" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="AUls@OrderMove">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <CmdFlags index="Queued" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetPoint"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="AUls@LocustScan">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="Visible;player,allies,neutral,structure,wall,tree,Missile,debris,Item,Dead,invulnerable,Decaying,Raisable,item"/>
        <TargetSorts>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="12.5" Effect="AUls@AttackOrderSet"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectDamage id="AUls@ThinkKillSuicide">
        <ValidatorArray value="AUls@LocustSuicideValidators"/>
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectSet id="AUls@ThinkPickTargetSet">
        <ValidatorArray value="TargetHasNoOrders"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUls@LocustScan"/>
        <EffectArray value="AUls@SwarmRandomPoint"/>
    </CEffectSet>
    <CEffectCreateUnit id="AUls@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnUnit index="0" value="uloc"/>
        <SpawnEffect value="AUls@LocustSpawnSet"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AUim@Stun">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AUim@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Type value="Force"/>
        <Amount value="0">
            <AccumulatorArray value="AUim@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="AUdr@ForceBlastDeath">
        <Behavior value="ForceBlastDeath"/>
        <WhichUnit Effect="AUdr"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUdp@ForceBlastDeath">
        <Behavior value="ForceBlastDeath"/>
        <WhichUnit Effect="AUdp"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AEah@ThornsDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <ImpactUnitValidator value="SourceIsNotHallucination"/>
        <Type value="Plant"/>
        <Fraction value="1">
            <AccumulatorArray value="AEah@DamagePercentage"/>
        </Fraction>
    </CEffectDamage>
    <!--Warden - Fan of Knives-->
    <CEffectEnumArea id="AEfk@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="Visible;player,allies,neutral,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <AreaArray Effect="AEfk@Missile"/>
        <MaxCount value="0">
            <AccumulatorArray value="AEfk@MaxTargets"/>
        </MaxCount>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="AEfk@Radius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectSet id="AEfn@SearchImpactSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="AEfn@TreeKiller"/>
        <EffectArray value="AEfn@UnitCount"/>
    </CEffectSet>
    <CEffectUserData id="AEfn@UnitCount">
        <EditorCategories value="Race:NightElf"/>
        <Key value="UnitCount"/>
        <SourceKey value="UnitCount"/>
        <ValidateMax value="0">
            <AccumulatorArray value="AEfn@UnitCount"/>
        </ValidateMax>
        <EffectSuccess value="AEfn@CreateUnit"/>
    </CEffectUserData>
    <CEffectCreatePersistent id="AEmb@Delay">
        <EditorCategories value="Race:NightElf"/>
        <ExpireDelay value="0.25"/>
    </CEffectCreatePersistent>
    <CEffectMorph id="AEme@AutoUnmorph">
        <EditorCategories value="Race:NightElf"/>
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="IgnoreMorphing" value="1"/>
        <MorphUnit value="Edem"/>
    </CEffectMorph>
    <CEffectApplyBehavior id="AEme@UnmorphDelay">
        <EditorCategories value="Race:NightElf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="AEsf@DamageDelay">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AEsf@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AOhx">
        <ValidatorArray value="AOhx@TargetChecks"/>
        <ValidatorArray value="War3_TargetNotHaveGhostAbility"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="War3_RemovePolymorphBuffs"/>
        <EffectArray value="War3_InstantUnburrow"/>
        <EffectArray value="DevourInstantKillCargoAdev"/>
        <EffectArray value="AOhx@BuffHex"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="AOmi@Initialize">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOmi@RemoveImages"/>
        <EffectArray value="AOmi@UniqueSummonTrackerClear"/>
        <EffectArray value="AOmi@UniqueSummonTracker"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="AOmi@Delay"/>
        <EffectArray value="AOmi@Precursor"/>
    </CEffectSet>
    <CEffectAddTrackedUnit id="AOmi@AddTracked">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectAddTrackedUnit id="AOmi@AddTrackedSelf">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@UniqueSummonTracker"/>
        <TrackedUnit Value="Caster"/>
    </CEffectAddTrackedUnit>
    <CEffectSet id="AOmi@ImagesCreationSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOmi@AddTrackedSelf"/>
        <EffectArray value="AOmi@CreateUnit"/>
        <EffectArray value="AOmi@MissileToDups"/>
    </CEffectSet>
    <CEffectEnumTrackedUnits id="AOmi@RemoveImages">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@UniqueSummonTracker"/>
        <Effect value="War3_TimedLifeFate"/>
        <TrackedUnitFilters value="Hallucination;-"/>
    </CEffectEnumTrackedUnits>
    <CEffectCreatePersistent id="AOmi@Delay">
        <EditorCategories value="Race:Orc"/>
        <ExpireDelay value="1"/>
        <RevealRadius value="15.625"/>
        <RevealFlags index="Unfog" value="1"/>
        <InitialDelay value="0.5"/>
        <InitialEffect value="AOmi@ImagesCreationSet"/>
        <InitialOffset value="0,1,0"/>
    </CEffectCreatePersistent>
    <CEffectEnumTrackedUnits id="AOmi@MissileToDups">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@UniqueSummonTracker"/>
        <Effect value="AOmi@Missile"/>
        <TrackedUnitFilters value="-;-"/>
    </CEffectEnumTrackedUnits>
    <CEffectApplyBehavior id="AOmi@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="AOmi@UniqueSummonTrackerClear">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@UniqueSummonTracker"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="AOmi@RemovePrecursor">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOmi@Precursor"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="AOvd@Initialize">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AOvd@Channel"/>
    </CEffectSet>
    <CEffectSet id="Aadm">
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="Aadm@EnemySummonedDamage"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Aadm@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:NightElf"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="Aco2">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="Aco2@TargetCanPickUpCaster"/>
        <ValidatorArray value="Aco2@PartnerUnitType"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Aco2@IssuePickUpOrder"/>
        <EffectArray value="Aco2@TargetMarker"/>
    </CEffectSet>
    <CEffectCancelOrder id="Aco2@CancelPickUpOrder">
        <ValidatorArray value="Aco2@TargetIsPickingUpCaster"/>
        <EditorCategories value="Race:NightElf"/>
        <AbilCmd value="Aco3,Execute"/>
    </CEffectCancelOrder>
    <CEffectApplyBehavior id="Aco2@TargetMarker">
        <EditorCategories value="Race:NightElf"/>
        <ValidatorArray value="TargetIsNotMovementImpossible"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Aco3">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Aco3@CreateUnit"/>
        <ValidatorArray value="Aco3@PartnerUnitType"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectModifyUnit id="Aco3@SelectionVitalAndCooldown">
        <EditorCategories value="Race:NightElf"/>
        <Cost Abil="Adec,Train1">
            <Fraction Cooldown="1"/>
        </Cost>
        <SelectTransferUnit Effect="Aco3" Value="Target"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="0">
                <AccumulatorArray value="Aco3@LifeFactorA"/>
                <AccumulatorArray value="Aco3@LifeFactorB"/>
            </ChangeFraction>
        </VitalArray>
        <ModifyFlags index="SetVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectCreateUnit id="Aco3@CreateUnit" parent="War3_SummonUnitPermanent">
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <EditorCategories value="Race:NightElf"/>
        <SpawnUnit index="0" value="ehpr"/>
        <SpawnEffect value="Aco3@FinalSet"/>
        <WhichLocation Value="CasterUnit"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectSet id="Aco3@FinalSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Aco3@SelectionVitalAndCooldown"/>
        <EffectArray value="Aco3@ForceRemoveParterner"/>
        <EffectArray value="ForceRemoveCaster"/>
        <Alert value="Aco3"/>
    </CEffectSet>
    <CEffectModifyUnit id="Adec@SetCooldownA">
        <EditorCategories value="Race:NightElf"/>
        <Cost Abil="Aco2,Execute">
            <Fraction Cooldown="1"/>
        </Cost>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Adec@SetCooldownB">
        <EditorCategories value="Race:NightElf"/>
        <Cost Abil="Aco3,Execute">
            <Fraction Cooldown="1"/>
        </Cost>
    </CEffectModifyUnit>
    <CEffectSet id="Adec@SetCooldowns">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Adec@SetCooldownA"/>
        <EffectArray value="Adec@SetCooldownB"/>
    </CEffectSet>
    <CEffectSet id="Advm@SearchImpactSet">
        <ValidatorArray value="Advm@SearchValidator"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Advm@EnemySummonedDamage"/>
        <EffectArray value="Advm@Missile"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Aegr@SpellReduction" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="Aegr@RemoveSpellReduction">
        <EditorCategories value="Race:NightElf"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="Aegr@SpellReduction"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Aent">
        <EditorCategories value="Race:NightElf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Aent@DestoryGoldMine">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Aent@CancelGoldMine"/>
        <EffectArray value="Aent@KillGoldMine"/>
    </CEffectSet>
    <CEffectIssueOrder id="Aent@CancelGoldMine">
        <WhichUnit Effect="Aent"/>
        <Abil value="War3_Buildable"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectDamage id="Aent@KillGoldMine">
        <ImpactLocation Effect="Aent"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Agra@RefreshCharges">
        <EditorCategories value="Race:NightElf"/>
        <LaunchUnit Value="Caster"/>
        <ImpactUnit Value="Caster"/>
        <Cost Behavior="Agra@BuffGrabTree" ChargeCountUse="-15"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Agyc@Corpsify">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life">
            <ChangeFraction value="-1"/>
        </VitalArray>
        <ModifyFlags index="PauseDeathTime" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Agyc@Uncorpsify">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="UnpauseDeathTime" value="1"/>
    </CEffectModifyUnit>
    <CEffectAddTrackedUnit id="Agyd@AddTrackedCorpse">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Agyd@CorpseTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectSet id="Agyd@CorpseSpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Agyc"/>
        <EffectArray value="Agyd@AddTrackedCorpse"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Agyd@CorpseTracker">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Agyc">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="Agyd@CreateCorpse">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
        <CreateFlags index="UseFood" value="0"/>
        <CreateFlags index="NormalizeSpawnOffset" value="0"/>
        <CreateFlags index="OffsetUnitTypeByLevel" value="1"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnOwner Value="Neutral"/>
        <SpawnEffect value="Agyd@CorpseSpawnSet"/>
        <SpawnUnit value="ugho"/>
    </CEffectCreateUnit>
    <CEffectEnumTrackedUnits id="Agyd@UnlinkAllCorpse">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Agyd@CorpseTracker"/>
        <Effect value="War3_UseGraveyardCorpse"/>
        <TrackedUnitFilters value="-;-"/>
    </CEffectEnumTrackedUnits>
    <CEffectSet id="Amfl@ApplySearchImpactSet">
        <EffectArray value="War3_ABILITY_ManaFlare_Monitor"/>
        <EffectArray value="Amfl@BuffManaFlareAoe"/>
        <EditorCategories value="Race:NightElf"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="Amfl@BuffManaFlareAoeRemove">
        <EditorCategories value="Race:NightElf"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorLink value="Amfl@BuffManaFlareAoe"/>
        <RequireCasterUnit Value="Caster"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="Amfl@PeriodicSet">
        <EffectArray value="Amfl@ApplySearch"/>
        <EffectArray value="Amfl@DamageSearch"/>
        <EditorCategories value="Race:NightElf"/>
    </CEffectSet>
    <CEffectSet id="Amfl@DamageSearchImpactSet">
        <EffectArray value="Amfl@Damage"/>
        <EffectArray value="Amfl@BuffManaFlareAoeRemove"/>
        <EffectArray value="War3_ABILITY_ManaFlare_ManaToken_Remove"/>
        <ValidatorArray value="War3_ABILITY_ManaFlare_ManaToken"/>
        <ValidatorArray value="Amfl@HaveCastersBuffManaFlareAoe"/>
        <EditorCategories value="Race:NightElf"/>
    </CEffectSet>
    <CEffectModifyUnit id="Aco3@ForceRemoveParterner">
        <ImpactUnit Effect="Aco3"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectIssueOrder id="Aco2@IssuePickUpOrder">
        <EditorCategories value="Race:NightElf"/>
        <Abil value="Aco3"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <CEffectDamage id="Aspo@BuffSlowPoisonStackDoT@DPS" parent="War3_Poision">
        <EditorCategories value="Race:NightElf"/>
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectLaunchMissile id="Aweb@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="AIwb@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectCreatePersistent id="AOvd@Channel">
        <EditorCategories value="Race:Orc"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AOvd@BuffVoodooCaster"/>
        <ExpireDelay value="30"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AOwk@BuffWindWalkFinalSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="War3_SnapScourceToPlacablePoint"/>
        <EffectArray value="AOwk@RemoveAttackModifierAfterAttack"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="AOwk@RemoveTransition">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="AOwk@Transition"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="AOwk@RemoveAttackModifier">
        <ValidatorArray index="0" value="AOwk@RemoveTransitionTargetFilters"/>
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="AOwk@AttackModifier"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="AOwk@TransitionEndSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOwk@AttackModifier"/>
        <EffectArray value="AOwk@BuffWindWalk"/>
    </CEffectSet>
    <CEffectSet id="AOww">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AOww@BuffWhirlwindAoe"/>
        <EffectArray value="CancelAttackOrdersWar3Active"/>
    </CEffectSet>
    <CEffectLaunchMissile id="Aesn@Missile">
        <ValidatorArray value="TestHasNoOwl"/>
    </CEffectLaunchMissile>
    <CEffectCreatePersistent id="Aesr@EffectSentinel">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <FinalEffect value="ClearHasOwl"/>
        <PeriodicValidator value="Aesr@EffectSentinelPersistValidators"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="Aesr@Missile">
        <ValidatorArray value="TestHasNoOwl"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Aesr@MissileImpactSet">
        <EffectArray value="SetHasOwl"/>
        <EffectArray value="Aesr@EffectSentinel"/>
    </CEffectSet>
    <!--Phoenix Dur=.5 HeroDur=10 cast=.7-->
    <CEffectModifyUnit id="Aphx@MorphHeal">
        <EditorCategories value="Race:Human"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Aphx@MorphTransitStart">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="Aphx@MorphTransit"/>
    </CEffectSet>
    <CEffectSet id="Aphx@MorphTransitEnd">
        <EffectArray value="Aphx@MorphTransitRemove"/>
        <EffectArray value="Aphx@MorphHeal"/>
    </CEffectSet>
    <CEffectSet id="Aphx@UnmorphTransitStart">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="Aphx@UnmorphTransit"/>
    </CEffectSet>
    <CEffectSet id="Aphx@UnmorphTransitEnd">
        <EffectArray value="Aphx@UnmorphTransitRemove"/>
        <EffectArray value="Aphx@MorphHeal"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Aphx@MorphTransit">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aphx@UnmorphTransit">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="Aphx@MorphTransitRemove">
        <EditorCategories value="Race:Human"/>
        <BehaviorLink value="Aphx@MorphTransit"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="Aphx@UnmorphTransitRemove">
        <EditorCategories value="Race:Human"/>
        <BehaviorLink value="Aphx@UnmorphTransit"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="Aply">
        <ValidatorArray value="Aply@TargetChecks"/>
        <ValidatorArray value="War3_TargetNotHaveGhostAbility"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_RemovePolymorphBuffs"/>
        <EffectArray value="War3_InstantUnburrow"/>
        <EffectArray value="DevourInstantKillCargoAdev"/>
        <EffectArray value="Aply@BuffPolymorph"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectLaunchMissile id="Apxf@Missile">
        <ValidatorArray index="0" value="Apxf@BuffPhoenix"/>
        <EditorCategories value="Race:Human"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Apxf@MissileImpactSet">
        <EffectArray value="Apxf@BuffPhoenix"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Asps@AddStealingMark">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Effect="Asps@Switch"/>
        <Behavior value="Asps@StealingMark"/>
    </CEffectApplyBehavior>
    <CEffectTransferBehavior id="Asps@ImpactTransferBuff">
        <ValidatorArray value="TargetIsAllyOrPlayer"/>
        <EditorCategories value="Race:Human"/>
        <LaunchUnit Effect="Asps@Switch"/>
        <ImpactUnit Value="Target"/>
        <BehaviorCategories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Positive"/>
        <Heroic value="NonHeroic"/>
        <Count value="1"/>
        <Preserve value="1"/>
    </CEffectTransferBehavior>
    <CEffectTransferBehavior id="Asps@ImpactTransferDebuff">
        <ValidatorArray value="TargetIsEnemy"/>
        <EditorCategories value="Race:Human"/>
        <LaunchUnit Effect="Asps@Switch"/>
        <ImpactUnit Value="Target"/>
        <BehaviorCategories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Negative"/>
        <Heroic value="NonHeroic"/>
        <Count value="1"/>
        <Preserve value="1"/>
    </CEffectTransferBehavior>
    <CEffectLaunchMissile id="Asps@Missile">
        <EditorCategories value="Race:Human"/>
        <LaunchLocation Effect="Asps@Switch" Value="TargetUnit"/>
        <LaunchEffect value="Asps@AddStealingMark"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Asps@MissileImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Asps@ImpactTransferBuff"/>
        <EffectArray value="Asps@ImpactTransferDebuff"/>
    </CEffectSet>
    <CEffectSwitch id="Asps@PushABuff">
        <EditorCategories value="Race:Human"/>
        <CaseArray Effect="Asps@SearchFriendly"/>
        <CaseArray Effect="Asps@FallbackRemoveBuff"/>
        <CanBeBlocked value="1"/>
    </CEffectSwitch>
    <CEffectSwitch id="Asps@PushADebuff">
        <EditorCategories value="Race:Human"/>
        <CaseArray Effect="Asps@SearchHostile"/>
        <CaseArray Effect="Asps@FallbackRemoveDebuff"/>
    </CEffectSwitch>
    <CEffectEnumArea id="Asps@SearchFriendly" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;neutral,enemies,structure,RawResource,tree,Missile,debris,Item,PreventReveal,Dead,invulnerable,immunity"/>
        <AreaArray Radius="10.9375" Effect="Asps@Missile"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectRemoveBehavior id="Asps@FallbackRemoveBuff">
        <ValidatorArray value="EnemyOrNeutral"/>
        <EditorCategories value="Race:Human"/>
        <BehaviorCategories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Positive"/>
        <Heroic value="NonHeroic"/>
        <Count value="1"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="Asps@FallbackRemoveDebuff">
        <ValidatorArray index="0" value="Asps@StartToTransferaEnemeyBuffTargetFilters"/>
        <ValidatorArray value="IsNotEnemy"/>
        <EditorCategories value="Race:Human"/>
        <BehaviorCategories index="CanSteal" value="1"/>
        <BehaviorAlignment value="Negative"/>
        <Heroic value="NonHeroic"/>
        <Count value="1"/>
    </CEffectRemoveBehavior>
    <CEffectEnumArea id="Asps@SearchHostile" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;player,allies,neutral,structure,RawResource,tree,Missile,debris,Item,PreventReveal,Dead,invulnerable,immunity"/>
        <AreaArray Radius="10.9375" Effect="Asps@Missile"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Asta@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="3.9062" Effect="Asta@DetonationDelay"/>
        <SearchFilters value="Visible,ground;player,allies,neutral,ward,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Asta@Searcher" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Asta@DetonationDelay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Auco@ImpactSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Auco@Damage"/>
        <EffectArray value="Auco@SplashDamage"/>
    </CEffectSet>
    <CEffectSet id="Auco@Initialize">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Auco@Missile"/>
        <EffectArray value="Auco@MissileState"/>
    </CEffectSet>
    <CEffectDamage id="AEsh@InitialDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Type value="SlowPoison"/>
        <Amount value="0">
            <AccumulatorArray value="AEsh@InitialDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="Asta@DestroyWard">
        <ValidatorArray value="Asta@HasBuffStasisTrapTrigger"/>
        <EditorCategories value="Race:Orc"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Auco@MissileState" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Arai">
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_InstantUnloadFromNotHiddenTransport"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
        <EffectArray value="Arai@UniqueSummonTracker"/>
        <EffectArray value="Arai@CreateUnitA"/>
        <EffectArray value="Arai@CreateUnitB"/>
        <EffectArray value="ForceRemoveTarget"/>
    </CEffectSet>
    <CEffectCreateUnit id="Arai@CreateUnitA" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Arai@SpawnSet"/>
        <SpawnUnit index="0" value="uske"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Arai@CreateUnitB" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Arai@SpawnSet"/>
        <SpawnUnit index="0" value="uske"/>
    </CEffectCreateUnit>
    <CEffectSet id="Arai@SpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Arai@AddTracked"/>
        <EffectArray value="Arai@BuffRaiseDead"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Arai@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectAddTrackedUnit id="Arai@AddTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Arai@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectCreatePersistent id="AOwk@RemoveAttackModifierAfterAttack">
        <EditorCategories value="Race:Orc"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <FinalEffect value="AOwk@RemoveAttackModifier"/>
        <PeriodicValidator value="CasterIsFiringWeapon_War3"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AOmi@Missile">
        <ImpactEffect value="AOmi@RemovePrecursor"/>
        <LaunchLocation Value="CasterPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Aabs@Missile">
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="CasterUnit"/>
        <LaunchEffect value="Aabs@MissileLaunchSet"/>
        <ValidatorArray value="CasterEnergyNotFull"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Aabs@MissileImpactSet">
        <EffectArray value="Aabs@Impact"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Aaha@Channel">
        <ValidatorArray value="Aaha@IsResourceTypeGold"/>
        <ValidatorArray value="Aaha@NotHavrestableGoldMine"/>
        <ValidatorArray value="Aaha@BlightMineNotFull"/>
        <ValidatorArray value="Aaha@IsUndeadGoldMine"/>
        <ValidatorArray value="NoUnsummonAny"/>
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <InitialEffect value="Aaha@InitializeSet"/>
        <PeriodicValidator value="Aaha@ChannelValidators"/>
        <OffsetVectorStartLocation Value="TargetUnit"/>
        <OffsetVectorEndLocation Value="TargetUnit"/>
        <FinalEffect value="Aaha@RemoveTracked"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="Advm@Missile">
        <ValidatorArray index="0" value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Advm@MissileImpactSet">
        <EffectArray value="Advm@Heal"/>
    </CEffectSet>
    <CEffectCreateUnit id="Aexh@CreateCorpse">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
        <CreateFlags index="UseFood" value="0"/>
        <CreateFlags index="NormalizeSpawnOffset" value="0"/>
        <CreateFlags index="OffsetUnitTypeByLevel" value="1"/>
        <ValidatorArray value="IsCasterTransportNotFull"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnOwner Value="Neutral"/>
        <SpawnUnit value="ugho"/>
        <SpawnEffect value="Aexh@SpawnSet"/>
    </CEffectCreateUnit>
    <CEffectSet id="Aps2@MissileImpactSet">
        <EffectArray value="War3_MindControlTargetSet"/>
        <EffectArray value="Aps2@TransferSelection"/>
        <EffectArray value="Aps2@RemoveCasterWhenDone"/>
    </CEffectSet>
    <CEffectSwitch id="Aweb@Switch">
        <EditorCategories value="Race:Orc"/>
        <CaseArray Validator="AirUnit" Effect="Aweb@BuffWebAir"/>
        <CaseDefault value="Aweb@BuffWeb"/>
    </CEffectSwitch>
    <CEffectSet id="Aweb@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="Aweb@Switch"/>
    </CEffectSet>
    <CEffectSwitch id="AIwb@Switch">
        <EditorCategories value="Race:Orc"/>
        <CaseArray Validator="AirUnit" Effect="AIwb@BuffWebAir"/>
        <CaseDefault value="AIwb@BuffWeb"/>
    </CEffectSwitch>
    <CEffectSet id="AIwb@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="AIwb@Switch"/>
    </CEffectSet>
    <CEffectCreateUnit id="Ahwd@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="Ahwd@BuffHealingWard"/>
        <SpawnUnit index="0" value="ohwd"/>
    </CEffectCreateUnit>
    <CEffectDamage id="Awar@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="60"/>
        <AreaArray Radius="3.9062" Fraction="1"/>
        <AreaArray Radius="5.4685" Fraction="0.5"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,debris,Dead,invulnerable,Decaying,item"/>
    </CEffectDamage>
    <CEffectSet id="Aesn@MissileImpactSet">
        <EffectArray value="SetHasOwl"/>
        <EffectArray value="Aesn@EffectSentinel"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AHta">
        <EditorCategories value="Race:Human"/>
        <ExpireDelay value="15"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="Afbk@DamageUnit" parent="War3_SpellDamage">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="20"/>
    </CEffectDamage>
    <CEffectDamage id="Afbk@DamageHero" parent="War3_SpellDamage">
        <ValidatorArray value="Hero"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="4"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Afbk@ManaLoseUnit">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-20"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Afbk@ManaLoseHero">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-4"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Afbk@ImpactEffect">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Afbk@DamageUnit"/>
        <EffectArray value="Afbk@DamageHero"/>
        <EffectArray value="Afbk@ManaLoseUnit"/>
        <EffectArray value="Afbk@ManaLoseHero"/>
    </CEffectSet>
    <CEffectDamage id="Afbt@DamageUnit" parent="War3_SpellDamage">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="24"/>
    </CEffectDamage>
    <CEffectDamage id="Afbt@DamageHero" parent="War3_SpellDamage">
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="12"/>
    </CEffectDamage>
    <CEffectDamage id="Afbt@DamageSummoned" parent="War3_SpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="20"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Afbt@ManaLoseUnit">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-24"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Afbt@ManaLoseHero">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-12"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Afbt@ImpactEffect">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Afbt@DamageUnit"/>
        <EffectArray value="Afbt@DamageHero"/>
        <EffectArray value="Afbt@ManaLoseUnit"/>
        <EffectArray value="Afbt@ManaLoseHero"/>
        <EffectArray value="Afbt@DamageSummoned"/>
    </CEffectSet>
    <CEffectDamage id="Aflk@ImpactEffect" parent="War3_AttackEnchantDamage">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="1.172" Bonus="7" Fraction="1"/>
        <AreaArray Radius="2.3435" Bonus="6" Fraction="1"/>
        <AreaArray Radius="5.078" Bonus="5" Fraction="1"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,Missile,debris,ethereal,Dead,Hidden,invulnerable,Decaying,ground,item"/>
    </CEffectDamage>
    <CEffectDamage id="Afsh@ImpactEffect" parent="War3_AttackEnchantDamage">
        <EditorCategories value="Race:Human"/>
        <AreaArray Bonus="25" Fraction="1" Validator="Afsh@ArmorFilters"/>
        <AreaArray Bonus="15" Fraction="1" Validator="Afsh@ArmorFilters"/>
        <AreaArray Bonus="10" Fraction="1" Validator="Afsh@ArmorFilters"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,Missile,debris,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectDamage>
    <CEffectDamage id="Apxf@DamageDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
    </CEffectDamage>
    <CEffectDamage id="Apxf@MissileDamage">
        <ValidatorArray value="MagicDamageTargetFilter"/>
        <EditorCategories value="Race:Human"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <AttributeFactor index="divine" value="-0.95"/>
        <AttributeFactor index="hero" value="-0.3"/>
        <Amount value="20"/>
        <ExcludeArray Value="Target"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFlags index="SameCliff" value="0"/>
        <!--DisplayFlags index="CollapseBuffed" value="1"/-->
    </CEffectDamage>
    <CEffectEnumArea id="Apxf@Search">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;player,allies,neutral,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
        <AreaArray Radius="9.375" Effect="Apxf@Missile"/>
        <MaxCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSwitch id="Asps@Switch">
        <ValidatorArray value="Asps@NotBeingStolenByThePlayer"/>
        <EditorCategories value="Race:Human"/>
        <CaseArray Validator="Asps@IsStealableNonHeroicBuffTarget" Effect="Asps@PushABuff"/>
        <CaseArray Validator="Asps@IsStealableNonHeroicDebuffTarget" Effect="Asps@PushADebuff"/>
    </CEffectSwitch>
    <CEffectSet id="Aivs">
        <EditorCategories value="Race:Human"/>
        <!--EffectArray value="RemoveSuppressInvisibility"/-->
        <EffectArray value="Aivs@BuffInvisibility"/>
    </CEffectSet>
    <CEffectSet id="Apsh">
        <EditorCategories value="Race:Human"/>
        <!--EffectArray value="RemoveSuppressInvisibility"/-->
        <EffectArray value="Apsh@BuffPhaseShift"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Aply@BuffPolymorph" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Apxf@BuffPhoenix" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Acyc">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="Acyc@BuffCycloneTwo"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Afla@EffectFlare">
        <EditorCategories value="Race:Human"/>
        <InitialDelay value="0.8"/>
        <ExpireDelay value="15"/>
        <RevealRadius value="28.125"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AIfa@EffectFlare">
        <EditorCategories value="Race:Human"/>
        <InitialDelay value="0.8"/>
        <ExpireDelay value="45"/>
        <RevealRadius value="28.125"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <!--AheaHeal-->
    <CEffectSet id="Ahea">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Ahea@Heal"/>
        <EffectArray value="Ahea@BuffHeal"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="Ahea@NotBeingHealedByOthers"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectSet>
    <CEffectModifyUnit id="Ahea@Heal" parent="War3_Heal">
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Life">
            <Change value="25"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="Aabr@Search" parent="War3_AuraSearch" aura="Aabr@BuffAuraBlightRegen">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
    </CEffectEnumArea>
    <!--NE Abil End-->
    <!--Detonate-->
    <CEffectEnumArea id="Adtn@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="4.6875" Effect="Adtn@SearchImpactSet"/>
        <SearchFilters value="-;ward,wall,tree,Missile,debris,dead,item"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Adtn@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Adtn@EnemySummonedDamage"/>
        <EffectArray value="Adtn@ManaLoss"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="Adtn@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="225"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Adtn@ManaLoss">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Energy">
            <Change value="-50"/>
        </VitalArray>
        <ValidatorArray value="HasNoBuffAntiMagicShellAlias"/>
        <ValidatorArray value="NotInvulnerable"/>
    </CEffectModifyUnit>
    <CEffectSet id="Adtn">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Adtn@Search"/>
        <EffectArray value="War3_KillCasterWithBlast"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <!--Eat Tree Dur=30 HeroDur=30 Buff=Beat-->
    <CEffectSet id="Aeat">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Aeat@BuffEatTree"/>
        <EffectArray value="Aeat@TreeKiller"/>
        <ValidatorArray value="IsTreeWar3"/>
    </CEffectSet>
    <CEffectDamage id="Aeat@TreeKiller">
        <EditorCategories value="Race:NightElf"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Aeat@HealTick" parent="War3_Heal">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Life">
            <Change value="16.6667"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Aenc@Harvest">
        <EditorCategories value="Race:NightElf"/>
        <LaunchUnit Value="Target"/>
        <Resources value="-10"/>
        <ResourcesHarvestedFraction value="1"/>
        <ValidatorArray value="HasCargo"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Aaha@Harvest">
        <EditorCategories value="Race:NightElf"/>
        <LaunchUnit Value="Target"/>
        <Resources value="-10"/>
        <ResourcesHarvestedFraction value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIpr@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy">
            <Change value="4.4443"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Arej@HealTick" parent="War3_Heal">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Life">
            <Change value="33.333"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <!--Mana Battery-->
    <CEffectSet id="Ambt">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Ambt@LifeRecharge"/>
        <EffectArray value="Ambt@ManaRecharge"/>
        <ValidatorArray value="TargetNotFullVital"/>
        <ValidatorArray value="CasterHasEnergy"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectSet>
    <CEffectCreateHealer id="Ambt@LifeRecharge" parent="War3_InstantHeal">
        <EditorCategories value="Race:NightElf"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="0.5"/>
        <PeriodCount value="1"/>
        <PeriodicValidator value="CasterHasEnergy"/>
        <RechargeVitalFraction value="1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="Ambt@ManaRecharge" parent="War3_InstantHeal">
        <EditorCategories value="Race:NightElf"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="2"/>
        <PeriodCount value="1"/>
        <RechargeVital value="Energy"/>
        <PeriodicValidator value="CasterHasEnergy"/>
        <RechargeVitalFraction value="1"/>
    </CEffectCreateHealer>
    <!--Roar Dur=45 HeroDur=45 Buff=Broa-->
    <CEffectEnumArea id="Aroa@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="7.8125" Effect="Aroa@BuffRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANbr@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="10.1562" Effect="ANbr@BuffBattleRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <RecycleCount value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Ara2@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="7.8125" Effect="Ara2@BuffRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <!--Sentinel effect=XEsn-->
    <CEffectCreatePersistent id="Aesn@EffectSentinel">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <FinalEffect value="ClearHasOwl"/>
        <PeriodicValidator value="Aesn@EffectSentinelPersistValidators"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="Ashm@Delay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Sshm@Delay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
    </CEffectApplyBehavior>
    <!--Taunt-->
    <CEffectEnumArea id="Atau@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="7.0312" Effect="Atau@OrderAttack"/>
        <SearchFilters value="-;player,allies,neutral,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MaxCount value="10"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="Atau@OrderAttack">
        <EditorCategories value="Race:NightElf"/>
        <Abil value="Aatk"/>
        <ValidatorArray value="TargetCanAttackCaster_War3"/>
        <ValidatorArray value="TargetIsAttackingWar3"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <!--Grab Tree Buff=Bgra-->
    <CEffectSet id="Agra">
        <ValidatorArray value="IsTreeWar3"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Agra@BuffGrabTree"/>
        <EffectArray value="Agra@TreeKiller"/>
    </CEffectSet>
    <CEffectDamage id="Agra@TreeKiller">
        <EditorCategories value="Race:NightElf"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectTeleport id="AEbl">
        <EditorCategories value="Race:NightElf"/>
        <ClearQueuedOrders value="0"/>
        <PlacementAround Value="CasterUnit"/>
        <PlacementRange value="15"/>
        <WhichUnit Value="Caster"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <MinDistance value="1.5625"/>
    </CEffectTeleport>
    <CEffectTeleport id="ANbl">
        <EditorCategories value="Race:NightElf"/>
        <ClearQueuedOrders value="0"/>
        <PlacementAround Value="CasterUnit"/>
        <PlacementRange value="15"/>
        <WhichUnit Value="Caster"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <MinDistance value="1.5625"/>
    </CEffectTeleport>
    <!--Keeper - Entangling Roots Buff=BEer-->
    <CEffectSet id="AEer">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <!--EffectArray value="War3_ChannelBreaker"/-->
        <EffectArray value="AEer@BuffEntanglingRoots"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="AEer@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Type value="Plant"/>
        <Amount value="0">
            <AccumulatorArray value="AEer@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="AEfk@MissileImpactSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="AEfk@Damage"/>
    </CEffectSet>
    <CEffectDamage id="AEfk@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Amount value="0">
            <AccumulatorArray value="AEfk@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreateUnit id="AEfn@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <EditorCategories value="Race:NightElf"/>
        <SpawnEffect value="AEfn@BuffForceOfNature"/>
        <SpawnUnit index="0" value="efon"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="AEfn@1Search">
        <EditorCategories value="Race:NightElf"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="tree,Visible;air,ward,structure,wall,debris,Hidden,invulnerable,ground,item"/>
        <AreaArray Effect="AEfn@SearchImpactSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Targettree"/>
        <MinCount value="1"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="AEfn@Radius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectDamage id="AEfn@TreeKiller">
        <ValidatorArray value="IsTreeWar3"/>
        <EditorCategories value="Race:NightElf"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <!--Demon Hunter - Immolation Buff=BEim,BEia-->
    <CEffectModifyUnit id="AEim@InitManaGain">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Energy">
            <Change value="10"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AEim@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
        <AreaArray Radius="2.5" Effect="AEim@DamagePerSecond"/>
    </CEffectEnumArea>
    <CEffectDamage id="AEim@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Amount value="0">
            <AccumulatorArray value="AEim@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <!--Demon Hunter - Mana Burn-->
    <CEffectSet id="AEmb@ImpactSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="AEmb@Damage"/>
        <EffectArray value="AEmb@ManaDrain"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="AEmb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Amount value="0">
            <AccumulatorArray value="AEmb@Damage"/>
        </Amount>
        <Type value="Magic"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AEmb@ManaDrain">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="AEmb@ManaDrained"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <!--Priestess - Scout Buff=BEst-->
    <CEffectCreateUnit id="AEst@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:NightElf"/>
        <SpawnUnit index="0" value="nowl"/>
        <SpawnUnit value="now2"/>
        <SpawnUnit value="now3"/>
        <SpawnOffset value="0,-3.125"/>
        <SpawnEffect value="AEst@BuffScout"/>
    </CEffectCreateUnit>
    <!--Warden - Shadow Strike Buff=BEsh cast=3-->
    <CEffectSet id="AEsh@MissileImpactSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="AEsh@InitialDamage"/>
        <EffectArray value="AEsh@BuffShadowStrike"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="AEsh@DecayingDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <Type value="ShadowStrike"/>
        <Amount value="0">
            <AccumulatorArray value="AEsh@DecayingDamage"/>
        </Amount>
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectDamage>
    <!--Priestess - Starfall Buff=AEsd effect=XEsf-->
    <CEffectSet id="AEsf@Initialize">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AEsf@Channel"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AEsf@Channel">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="CasterUnit"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="30"/>
        <PeriodicEffectArray value="AEsf@Search"/>
        <PeriodicPeriodArray value="1.5"/>
        <InitialEffect value="AEsf@Search"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AEsf@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <EditorCategories value="Race:NightElf"/>
        <AreaArray Radius="15.625" Effect="AEsf@BuffStarfallDrain"/>
    </CEffectEnumArea>
    <CEffectDamage id="AEsf@Damage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:NightElf"/>
        <AttributeFactor index="Structure" value="-0.65"/>
        <Amount value="50"/>
    </CEffectDamage>
    <!--Keeper - Thorns Aura Buff=BEah-->
    <CEffectEnumArea id="AEah@Search" parent="War3_AuraSearch" aura="AEah@BuffAuraThorns">
        <EditorCategories value="Race:NightElf"/>
    </CEffectEnumArea>
    <!--Keeper - Tranquility Buff=AEtr effect=XEtq-->
    <CEffectSet id="AEtq@Initialize">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AEtq@Channel"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AEtq@Channel">
        <EditorCategories value="Race:NightElf"/>
        <WhichLocation Value="CasterUnit"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="30"/>
        <PeriodicEffectArray value="AEtq@Search"/>
        <PeriodicPeriodArray value="1"/>
        <InitialEffect value="AEtq@Search"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AEtq@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="-;enemies,ward,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="15.625" Effect="AEtq@BuffTranquilityRegen"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AEtq@HealTick" parent="War3_Heal">
        <EditorCategories value="Race:NightElf"/>
        <VitalArray index="Life">
            <Change value="20"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <!--Priestess - Trueshot Aura Buff=BEar-->
    <CEffectEnumArea id="AEar@Search" parent="War3_AuraSearch" aura="AEar@BuffAuraTrueshot">
        <EditorCategories value="Race:NightElf"/>
    </CEffectEnumArea>
    <!--Warden - Spirit of Vengeance Buff=BEsv-->
    <CEffectCreateUnit id="AEsv@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:NightElf"/>
        <SpawnEffect value="AEsv@BuffSpiritOfVengeance"/>
        <SpawnUnit index="0" value="espv"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectSet id="Aast@ReviveSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="Aast@Revive"/>
        <EffectArray value="War3_SnapTargetToPlacablePoint"/>
        <ValidatorArray value="IsTauren"/>
        <ValidatorArray value="Aast@FoodCheck"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectModifyUnit id="Aast@Revive">
        <EditorCategories value="Race:Orc"/>
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="SetVitals" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Energy">
            <ChangeFraction value="0.25"/>
        </VitalArray>
    </CEffectModifyUnit>
    <!--Balls of Fire Dur=2.51 HeroDur=1.01 Buff=Bbof effect=Xbof-->
    <CEffectCreatePersistent id="Abof@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <ExpireEffect value="Abof@Subsides"/>
        <PeriodCount value="2"/>
        <PeriodicEffectArray value="Abof@FullDamageSearch"/>
        <PeriodicPeriodArray value="0.5"/>
        <RevealRadius value="12"/>
        <RevealFlags index="Unfog" value="1"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Abof@Subsides">
        <EditorCategories value="Race:Orc"/>
        <PeriodCount value="2"/>
        <PeriodicPeriodArray value="1"/>
        <PeriodicEffectArray value="Abof@HalfDamageSearch"/>
        <RevealRadius value="12"/>
        <RevealFlags index="Unfog" value="1"/>
        <ExpireDelay value="0.5"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="Abof@FullDamageSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="2.3435" Effect="Abof@FullDamageSet"/>
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Abof@HalfDamageSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="2.3435" Effect="Abof@HalfDamageSet"/>
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectSet id="Abof@FullDamageSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Abof@FullDamage"/>
        <EffectArray value="Abof@BuffBallsOfFire"/>
    </CEffectSet>
    <CEffectSet id="Abof@HalfDamageSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Abof@HalfDamage"/>
        <EffectArray value="Abof@BuffBallsOfFire"/>
    </CEffectSet>
    <CEffectDamage id="Abof@FullDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
    </CEffectDamage>
    <CEffectDamage id="Abof@HalfDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="3"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Abof@BuffBallsOfFire" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Devour Buff=Bdig,Bdvv-->
    <CEffectDamage id="Adev@BuffDigesting@DPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="5"/>
        <Type value="Acid"/>
    </CEffectDamage>
    <!--Disenchant(new)-->
    <CEffectEnumArea id="Adcn@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;structure,wall,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="Adcn@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Adcn@SearchImpactSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Adcn@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="Adcn@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="Apoi@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Apoi@BuffPoisonAttack"/>
        <EffectArray value="Apoi@BuffPoisonAttackStackDoT"/>
    </CEffectSet>
    <CEffectDamage id="Apoi@BuffPoisonAttackStackDoT@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Orc"/>
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectSet id="Apo2@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Apo2@BuffPoisonDamage"/>
        <EffectArray value="Apo2@BuffPoisonDamageStackDoT"/>
    </CEffectSet>
    <CEffectDamage id="Apo2@BuffPoisonDamageStackDoT@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Orc"/>
        <Amount value="9"/>
    </CEffectDamage>
    <!--Venom Spears Dur=25 HeroDur=1 Buff=Bpoi,Bpsd-->
    <CEffectSet id="Aven@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Aven@BuffPoisonAttack"/>
        <EffectArray value="Aven@BuffPoisonAttackStackDoT"/>
    </CEffectSet>
    <CEffectDamage id="Aven@BuffPoisonAttackStackDoT@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Orc"/>
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectDamage id="Aap1@BuffAuraPlague@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Undead"/>
        <Type value="Disease"/>
    </CEffectDamage>
    <CEffectDamage id="Aap2@BuffAuraPlague@DPS" parent="War3_Poision">
        <EditorCategories value="Race:Undead"/>
        <Type value="Disease"/>
    </CEffectDamage>
    <!--Aura - Regeneration (Ward) Buff=Boar-->
    <CEffectEnumArea id="Aoar@Search" parent="War3_AuraSearch" aura="Boar">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;self,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray index="0" Radius="7.8125" Effect="Aoar@BuffAuraRegenLife"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="Aoar@HealTick">
        <EditorCategories value="Race:Orc"/>
        <VitalArray index="Life">
            <ChangeFraction value="0.02"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="Alsh@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ExcludeArray Value="Source"/>
        <SearchFilters value="-;air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Passive,Decaying,item"/>
        <AreaArray Radius="2.5" Effect="Alsh@DamagePerSecond"/>
    </CEffectEnumArea>
    <CEffectDamage id="Alsh@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="0"/>
        <Amount value="20"/>
        <ValidatorArray value="TargetIsNotBenign"/>
        <Type value="Lightning"/>
    </CEffectDamage>
    <!--Liquid Fire Dur=3 HeroDur=3 Buff=Bliq-->
    <CEffectSet id="Aliq@ImpactEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Aliq@BuffLiquidFire"/>
    </CEffectSet>
    <CEffectDamage id="Aliq@DamagePerSecond" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="8"/>
    </CEffectDamage>
    <!--Sentry Ward Dur=600 HeroDur=600 Buff=Beye-->
    <CEffectCreateUnit id="Aeye@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="Aeye@BuffEvilEye"/>
        <SpawnUnit index="0" value="oeye"/>
    </CEffectCreateUnit>
    <!--Spirit Link Dur=75 HeroDur=75 Buff=Bspl-->
    <CEffectSet id="Aspl@MainImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <EffectArray value="Aspl@Tracker"/>
        <EffectArray value="Aspl@ClearTracked"/>
        <EffectArray value="Aspl@BuffSpiritLink"/>
        <EffectArray value="Aspl@AddTracked"/>
        <EffectArray value="Aspl@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="Aspl@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <SearchFilters value="Visible;neutral,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="Aspl@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="Aspl@PreferShortestDuration"/>
            <SortArray value="TSLifeLargestFirst"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="Aspl@SecondaryImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <ValidatorArray value="noMarkers"/>
        <EffectArray value="Aspl@SecondaryBeamAction"/>
        <EffectArray value="Aspl@Tracker"/>
        <EffectArray value="Aspl@ClearTracked"/>
        <EffectArray value="Aspl@BuffSpiritLink"/>
        <EffectArray value="Aspl@AddTracked"/>
        <EffectArray value="Aspl@TargetHitCount"/>
    </CEffectSet>
    <CEffectModifyUnit id="Aspl@SecondaryBeamAction">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <LaunchUnit Effect="Aspl@SecondaryDelay" Value="Target"/>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Aspl@MainDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireEffect value="Aspl@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Aspl@SecondaryDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Unit"/>
        <ExpireEffect value="Aspl@Search"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="Aspl@TargetHitCount">
        <EditorCategories value="Race:Orc"/>
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="4"/>
        <EffectSuccess value="Aspl@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
        <EffectFailure value="Aspl@FinalCopyTrackedList"/>
    </CEffectUserData>
    <CEffectAddTrackedUnit id="Aspl@AddTracked">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="Aspl@Tracker"/>
        <TrackerUnit Effect="Aspl@MainImpact" Value="Target"/>
    </CEffectAddTrackedUnit>
    <CEffectClearTrackedUnits id="Aspl@ClearTracked">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="Aspl@Tracker"/>
        <TrackerUnit Value="Target"/>
    </CEffectClearTrackedUnits>
    <CEffectEnumTrackedUnits id="Aspl@FinalCopyTrackedList">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="Aspl@Tracker"/>
        <TrackerUnit Effect="Aspl@MainImpact" Value="Target"/>
        <Effect value="Aspl@CopyTracked"/>
    </CEffectEnumTrackedUnits>
    <CEffectAddTrackedUnits id="Aspl@CopyTracked">
        <EditorCategories value="Race:Orc"/>
        <TargetBehaviorLink value="Aspl@Tracker"/>
        <SourceBehaviorLink value="Aspl@Tracker"/>
        <SourceTrackerUnit Effect="Aspl@MainImpact" Value="Target"/>
        <TargetTrackerUnit Value="Target"/>
    </CEffectAddTrackedUnits>
    <CEffectRemoveBehavior id="Aspl@RemoveTracker">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="Aspl@Tracker"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Aspl@Tracker">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectEnumTrackedUnits id="Aspl@DistributeDamage">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="Aspl@Tracker"/>
        <TrackerUnit Value="Source"/>
        <Effect value="War3_SpiritLinkDamage"/>
        <DistributDamage value="1"/>
    </CEffectEnumTrackedUnits>
    <!--Stasis Trap Dur=150 HeroDur=2.5 Buff=Bstt StunBuff=Bsta-->
    <CEffectCreateUnit id="Asta@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="Asta@CreateUnitSet"/>
        <SpawnUnit index="0" value="otot"/>
    </CEffectCreateUnit>
    <CEffectSet id="Asta@CreateUnitSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Asta@BuffStasisTrapTrigger"/>
        <EffectArray value="Asta@Delay"/>
        <EffectArray value="Asta@Searcher"/>
    </CEffectSet>
    <CEffectEnumArea id="Asta@DetonationSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="6.25" Effect="Asta@BuffPause"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Asta@DetonationDestroyWards" parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="6.25" Effect="Asta@DestroyWard"/>
        <SearchFilters value="-;-"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Asta@Delay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <Behavior value="Asta@ActivationDelay"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Asta@DetonationImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Asta@DetonationSearch"/>
        <EffectArray value="Asta@DetonationDestroyWards"/>
    </CEffectSet>
    <!--Unstable Concoction-->
    <CEffectLaunchMissile id="Auco@Missile">
        <EditorCategories value="Race:Orc"/>
        <ImpactEffect value="Auco@ImpactSet"/>
        <LaunchLocation Value="CasterUnit"/>
        <Movers Link="Auco@Missile"/>
        <PeriodicValidator value="Auco@TargetImpactFilters"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="Auco@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Type value="Normal"/>
        <Amount value="600"/>
    </CEffectDamage>
    <CEffectDamage id="Auco@SplashDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Type value="Normal"/>
        <Amount value="140"/>
        <AreaArray Radius="3.125" Fraction="1"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,debris,ethereal,Dead,invulnerable,Decaying,ground,item"/>
    </CEffectDamage>
    <!--Aura - War Drums Buff=Bakb-->
    <CEffectEnumArea id="Aakb@Search" parent="War3_AuraSearch" aura="Aakb@BuffAuraKotoBeast">
        <EditorCategories value="Race:Orc"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AOvd@Search" parent="War3_AuraSearch" aura="BOvd">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;self,neutral,enemies,ward,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray index="0" Radius="14.0625" Effect="AOvd@BuffVoodoo"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOww@BuffWhirlwindAoe@DPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <ImpactLocation Value="CasterPoint"/>
        <Amount value="110"/>
        <AreaArray Radius="3.125" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Missile,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
    </CEffectDamage>
    <CEffectUserData id="AOcl@DamageLoss">
        <EditorCategories value="Race:Orc"/>
        <Key value="DamageLoss"/>
        <Amount value="0.85"/>
        <SourceKey value="DamageLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="AOcl@MainImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <CanBeBlocked value="1"/>
        <EffectArray value="AOcl@MainDamage"/>
        <EffectArray value="AOcl@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="AOcl@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <SearchFilters value="Visible;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="AOcl@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="AOcl@SecondaryImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="AOcl@JumpTargetFilters"/>
        <EffectArray value="AOcl@DamageLoss"/>
        <EffectArray value="AOcl@SecondaryDamage"/>
        <EffectArray value="AOcl@TargetHitCount"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOcl@MainDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOcl@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="AOcl@SetCanJumpToBenign"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOcl@SecondaryDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOcl@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="AOcl@SetCanJumpToBenign">
        <ValidatorArray value="TargetIsBenign"/>
        <EditorCategories value="Race:Human"/>
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectDamage id="AOcl@MainDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="AOcl@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="AOcl@SecondaryDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="AOcl@Damage"/>
        </Amount>
        <Fraction value="0">
            <AccumulatorArray value="War3_DamageLoss"/>
        </Fraction>
        <LaunchLocation Effect="AOcl@SecondaryDelay" Value="TargetUnitOrPoint"/>
    </CEffectDamage>
    <CEffectUserData id="AOcl@TargetHitCount">
        <EditorCategories value="Race:Orc"/>
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="AOcl@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="AOcl@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <!--Farseer - Earthquake Buff=BOeq,BOea effect=XOeq-->
    <CEffectCreatePersistent id="AOeq">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <PeriodicEffectArray value="AOeq@Search"/>
        <PeriodicPeriodArray value="1"/>
        <InitialDelay value="0.5"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="25"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AOeq@Search" parent="War3_AbilSearch">
        <AreaArray Radius="3.9062" Effect="AOeq@Switch"/>
        <SearchFilters value="-;air,ward,wall,RawResource,Missile,Dead,Hidden,invulnerable,Decaying,item"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
    </CEffectEnumArea>
    <CEffectSwitch id="AOeq@Switch">
        <EditorCategories value="Race:Orc"/>
        <CaseArray Validator="War3_NotNonBuildingUnit" Effect="AOeq@DamageImpactSet"/>
        <CaseDefault value="AOeq@BuffEarthquake"/>
    </CEffectSwitch>
    <CEffectSet id="AOeq@DamageImpactSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOeq@BuffEarthquakeAoe"/>
        <EffectArray value="AOeq@Damage"/>
    </CEffectSet>
    <CEffectDamage id="AOeq@Damage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <Amount value="50"/>
    </CEffectDamage>
    <!--Chieftain - Endurance Aura Buff=BOae-->
    <CEffectEnumArea id="AOae@Search" parent="War3_AuraSearch" aura="AOae@BuffAuraEndurance">
        <EditorCategories value="Race:Orc"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="Adta">
        <EditorCategories value="Race:Neutral,AbilityorEffectType:Unit"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <!--Farseer - Far Sight effect=Xbdt-->
    <CEffectCreatePersistent id="AOfs">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="8"/>
        <RevealRadius value="0">
            <AccumulatorArray value="AOfs@RevealRadius"/>
        </RevealRadius>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;Structure,Hidden"/>
    </CEffectCreatePersistent>
    <!--Farseer - Spirit Wolf Buff=BOsf-->
    <CEffectSet id="AOsf">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOsf@UniqueSummonTracker"/>
        <EffectArray value="AOsf@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="AOsf@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="AOsf@SpawnSet"/>
        <SpawnUnit index="0" value="osw1"/>
        <SpawnUnit value="osw2"/>
        <SpawnUnit value="osw3"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="AOsf@AddTracked">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AOsf@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="AOsf@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Shadow Hunter - Healing Wave-->
    <CEffectUserData id="AOhw@HealingLoss">
        <EditorCategories value="Race:Orc"/>
        <Key value="HealingLoss"/>
        <Amount value="0.75"/>
        <SourceKey value="HealingLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="AOhw@MainImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOhw@MainHealing"/>
        <EffectArray value="AOhw@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="AOhw@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <SearchFilters value="Visible;neutral,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="AOhw@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSLife"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="AOhw@SecondaryImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="AOhw@JumpTargetFilters"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EffectArray value="AOhw@HealingLoss"/>
        <EffectArray value="AOhw@SecondaryHealing"/>
        <EffectArray value="AOhw@TargetHitCount"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOhw@MainDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOhw@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="AOhw@SetCanJumpToBenign"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOhw@SecondaryDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOhw@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="AOhw@SetCanJumpToBenign">
        <!--Can always hit benign, it's a positive ability-->
        <!--ValidatorArray value="TargetIsBenign"/-->
        <EditorCategories value="Race:Orc"/>
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectModifyUnit id="AOhw@MainHealing" parent="War3_Heal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AOhw@Damage"/>
            </Change>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AOhw@SecondaryHealing" parent="War3_Heal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AOhw@Damage"/>
                <AccumulatorArray value="War3_HealingLoss"/>
            </Change>
        </VitalArray>
        <LaunchUnit Effect="AOhw@SecondaryDelay" Value="Target"/>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectUserData id="AOhw@TargetHitCount">
        <EditorCategories value="Race:Orc"/>
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="AOhw@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="AOhw@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <!--Blade Master - Mirror Image Buff=BOmi-->
    <CEffectApplyBehavior id="AOmi@Precursor" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AOmi@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <CreateFlags index="TechComplete" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="AOmi@SpawnEffect"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Value="Caster"/>
        <SpawnCount value="0">
            <AccumulatorArray value="AOmi@ImageCount"/>
        </SpawnCount>
    </CEffectCreateUnit>
    <CEffectSet id="AOmi@SpawnEffect">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="War3_IllusionCopyUnitTrigger"/>
        <EffectArray value="AOmi@BuffMirrorImage"/>
        <EffectArray value="AOmi@AddTracked"/>
        <EffectArray value="AOmi@AddTrackedSelf"/>
        <EffectArray value="AOmi@Precursor"/>
    </CEffectSet>
    <!--Chieftain - Reincarnation effect=XOre cast=3-->
    <CEffectCreatePersistent id="AOre">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0">
            <AccumulatorArray value="AOre@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="AOre@ReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialEffect value="AOre@RemoveBuff"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="AOre@Revive">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AOre@Heal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="AOre@ReviveSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOre@Revive"/>
        <EffectArray value="AOre@Heal"/>
    </CEffectSet>
    <!--Shadow Hunter - Serpent Ward Buff=BOwd-->
    <CEffectCreateUnit id="AOsw@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AOsw@BuffWard"/>
        <SpawnUnit index="0" value="osp1"/>
        <SpawnUnit value="osp2"/>
        <SpawnUnit value="osp3"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="AImo@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <EditorCategories value="Race:Other"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AImo@BuffItemMonsterLure"/>
        <SpawnUnit index="0" value="nlur"/>
    </CEffectCreateUnit>
    <!--Chieftain - War Stomp Buff=BPSE-->
    <CEffectEnumArea id="AOws@Search">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="AOws@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOws@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="0">
            <AccumulatorArray value="AOws@Damage"/>
        </Amount>
        <Type value="Sonic"/>
    </CEffectDamage>
    <CEffectSet id="AOws@ImpactSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOws@BuffPause"/>
        <EffectArray value="AOws@Damage"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AOwk@AttackModifier" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AOwk@Transition" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSwitch id="Auhf@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="Auhf@BuffUnholyFrenzyNegative"/>
        <CaseDefault value="Auhf@BuffUnholyFrenzyPositive"/>
    </CEffectSwitch>
    <!--Item PowerUp-->
    <!--Permanent Hit point Bonus (small)-->
    <!--Death Knight - Unholy Aura Buff=BUau-->
    <CEffectEnumArea id="AUau@Search" parent="War3_AuraSearch" aura="AUau@BuffAuraUnholy">
        <EditorCategories value="Race:Undead"/>
    </CEffectEnumArea>
    <!--Dreadlord - Vampiric Aura Buff=BUav-->
    <CEffectEnumArea id="AUav@Search" parent="War3_AuraSearch" aura="AUav@BuffAuraVampiric">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
    </CEffectEnumArea>
    <!--Dreadlord - Inferno Buff=BNin-->
    <CEffectCreatePersistent id="AUin">
        <EditorCategories value="Race:Undead"/>
        <OffsetFacingFallback Value="CasterUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AUin@ImpactSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AUin@ImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUin@TreeKiller"/>
        <EffectArray value="AUin@Search"/>
        <EffectArray value="AUin@CreateUnit"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="AUin@TreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="TargetPoint"/>
        <Flags index="Kill" value="1"/>
        <AreaArray Radius="3.9062" Fraction="1"/>
        <SearchFilters value="tree;invulnerable"/>
    </CEffectDamage>
    <CEffectCreateUnit id="AUin@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AUin@BuffInfernal"/>
        <SpawnUnit index="0" value="ninf"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AUin@BuffInfernal" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AUin@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="AUin@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AUin@SearchCursor" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;player,allies,air,ward,wall,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062"/>
    </CEffectEnumArea>
    <CEffectSet id="AUin@SearchImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUin@Damage"/>
        <EffectArray value="AUin@Stun"/>
        <EffectArray value="AUin@StunHero"/>
    </CEffectSet>
    <CEffectDamage id="AUin@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="50"/>
        <Type value="Force"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AUin@Stun">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <EditorCategories value="Race:Undead"/>
        <Behavior value="BPSE"/>
        <Duration value="4"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUin@StunHero">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <EditorCategories value="Race:Undead"/>
        <Behavior value="BPSE"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <!--Death Knight - Animate Dead Buff=BUan-->
    <CEffectEnumArea id="AUan@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="14.0625" Effect="AUan@AnimateSet"/>
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;ward,structure,wall,tree,Missile,debris,invulnerable,hero,HeroUnit,item"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AUan@Revive">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="Revive" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="AUan@AnimateSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AUan@Revive"/>
        <EffectArray value="AUan@BuffAnimateDead"/>
        <EffectArray value="War3_SnapTargetToPlacablePoint"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectCreateHealer id="Aabs@Launch">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Source"/>
        <Flags index="Channeled" value="0"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="Aabs@CasterMissingMana"/>
        </RechargeVitalRate>
        <PeriodCount value="1"/>
        <PeriodicPeriod value="1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="Aabs@Impact">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Source"/>
        <ImpactUnit Value="Caster"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <Flags index="Channeled" value="0"/>
        <RechargeVitalFraction value="1"/>
        <PeriodCount value="1"/>
        <PeriodicPeriod value="1"/>
    </CEffectCreateHealer>
    <!--Cannibalize Dur=33 HeroDur=33-->
    <CEffectSet id="Acan">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="Acan@Heal"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectCreateHealer id="Acan@Heal">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodicPeriod value="1"/>
        <RechargeVitalRate value="10"/>
        <PeriodCount value="33"/>
        <FinalEffect value="ForceRemoveSource"/>
    </CEffectCreateHealer>
    <CEffectSet id="Acn2">
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ValidatorArray value="noMarkers"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="Acn2@Heal"/>
    </CEffectSet>
    <CEffectCreateHealer id="Acn2@Heal">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodicPeriod value="1"/>
        <RechargeVitalRate value="15"/>
        <PeriodCount value="33"/>
        <FinalEffect value="ForceRemoveSource"/>
    </CEffectCreateHealer>
    <!--Meat Load-->
    <CEffectSet id="Amel">
        <ValidatorArray value="IsCasterTransportNotFull"/>
        <!--ValidatorArray value="Amel@CanLoadTarget"/-->
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Amel@OrderGetCorpse"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
    </CEffectSet>
    <CEffectIssueOrder id="Amel@OrderGetCorpse">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
        <CmdFlags index="Preempt" value="1"/>
        <AbilTechAlias value="_ABILITY_MeatCargo"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="Advm@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="-;structure,wall,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="Advm@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="Advm@Heal">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life">
            <Change value="50"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="75"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--Aura - Plague (Abomination) Buff=Bapl-->
    <CEffectEnumArea id="Aap1@Search" parent="War3_AuraSearch" aura="Aap1@BuffAuraPlague">
        <EditorCategories value="Race:Undead"/>
        <AreaArray index="0" Radius="2.75" Effect="Aap1@BuffAuraPlague"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <!--Aura - Plague (Plague Ward) Buff=Bapl,Bplg-->
    <CEffectEnumArea id="Aap2@Search" parent="War3_AuraSearch" aura="Aap2@BuffAuraPlague">
        <EditorCategories value="Race:Undead"/>
        <AreaArray index="0" Radius="3.9062" Effect="Aap2@BuffAuraPlague"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Arpl@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <LaunchLocation Value="CasterUnit"/>
        <ImpactLocation Value="CasterUnit"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="10.9375" Effect="Arpl@SearchImpactSet"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="Arpl@SearchImpactSet">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="Arpl@NotBeingHealedByOthers"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Arpl@BuffReplenishLife"/>
        <EffectArray value="Arpl@Heal"/>
        <EffectArray value="Arpl@MaxUnitChargedToCaster"/>
    </CEffectSet>
    <CEffectModifyUnit id="Arpl@Heal" parent="War3_Heal">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life">
            <Change value="10"/>
        </VitalArray>
    </CEffectModifyUnit>
    <!--Replenish (Mana) Dur=1 HeroDur=1 Buff=Brpm cast=6-->
    <CEffectCreatePersistent id="Arpm@Initialize">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <InitialDelay value="0.0625"/>
        <InitialEffect value="Arpm@RefundMana"/>
        <FinalEffect value="Arpm@Search"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="Arpm@RefundMana">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="10"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Arpm@ChargeCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="-2"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectUserData id="Arpm@MaxUnitChargedToCaster">
        <EditorCategories value="Race:Undead"/>
        <Key value="Charged"/>
        <SourceKey value="Charged"/>
        <ValidateMax value="5"/>
        <EffectSuccess value="Arpm@ChargeCaster"/>
    </CEffectUserData>
    <CEffectEnumArea id="Arpm@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <LaunchLocation Value="CasterUnit"/>
        <ImpactLocation Value="CasterUnit"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="10.9375" Effect="Arpm@SearchImpactSet"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="Arpm@SearchImpactSet">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <ValidatorArray value="TargetEnergyNotFull"/>
        <ValidatorArray value="Arpm@NotBeingHealedByOthers"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Arpm@BuffReplenishMana"/>
        <EffectArray value="Arpm@Heal"/>
        <EffectArray value="Arpm@MaxUnitChargedToCaster"/>
    </CEffectSet>
    <CEffectModifyUnit id="Arpm@Heal" parent="War3_Heal">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy">
            <Change value="3"/>
        </VitalArray>
    </CEffectModifyUnit>
    <!--Possession (Channeling) Dur=4.5 HeroDur=4.5 Buff=Bpos,Bpoc-->
    <CEffectSwitch id="Aps2@Switch">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="Aps2@NotCreepOrNotMaxCreepLevel"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EditorCategories value="Race:Undead"/>
        <CaseArray Validator="KillHallucinationTargetFilters" Effect="Kill"/>
        <CaseDefault value="Aps2"/>
    </CEffectSwitch>
    <CEffectModifyUnit id="Aps2@RemoveCasterWhenDone">
        <ValidatorArray value="TargetNotDead"/>
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Aps2@TransferSelection">
        <EditorCategories value="Race:Undead"/>
        <ModifyFlags index="Show" value="1"/>
        <SelectTransferUnit Value="Caster"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="Aps2">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <EffectArray value="Aps2@BuffPossession"/>
        <EffectArray value="Aps2@BuffPossessionCaster"/>
    </CEffectSet>
    <CEffectLaunchMissile id="Aps2@Missile">
        <ImpactLocation Effect="Aps2"/>
        <FinishEffect value="Aps2@ClearPhased"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Apos@MissileImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_MindControlTargetSet"/>
        <EffectArray value="Apos@TransferSelection"/>
        <EffectArray value="Apos@RemoveCasterWhenDone"/>
        <EffectArray value="Apos@UnhideCaster"/>
    </CEffectSet>
    <!--Sacrifice (Sacrificial Pit)-->
    <CEffectIssueOrder id="Asac@Order">
        <EditorCategories value="Race:Undead"/>
        <Abil value="Alam"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <!--Sacrifice (Acolyte)-->
    <CEffectSet id="Alam">
        <ValidatorArray value="TargetHasAblilitySacrificeAsac"/>
        <ValidatorArray value="NoFreezingBreathAny"/>
        <ValidatorArray value="Alam@TargetCanTrain"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Alam@IssueTrainOrder"/>
        <EffectArray value="Alam@LambTracker"/>
        <EffectArray value="Alam@AddTracked"/>
        <EffectArray value="Alam@Precursor"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Alam@Precursor">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Crypt Lord - Carrion Scarabs Buff=BUcb-->
    <CEffectSet id="AUcb">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AUcb@UniqueSummonTracker"/>
        <EffectArray value="AUcb@CreateUnit"/>
        <EffectArray value="ForceRemoveTarget"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectCreateUnit id="AUcb@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="AUcb@SpawnSet"/>
        <SpawnUnit index="0" value="ucs1"/>
        <SpawnUnit value="ucs2"/>
        <SpawnUnit value="ucs3"/>
    </CEffectCreateUnit>
    <CEffectSet id="AUcb@SpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUcb@AddTracked"/>
        <EffectArray value="AUcb@BuffCarrionScarab"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUcb@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectAddTrackedUnit id="AUcb@AddTracked">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="AUcb@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectSet id="AUls">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUls@CreateUnitCP"/>
        <EffectArray value="AUls@Duration"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AUls@CreateUnitCP">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <PeriodCount value="0">
            <AccumulatorArray value="AUls@NumberOfSwarmUnits"/>
        </PeriodCount>
        <PeriodicValidator value="CasterNotDead"/>
        <PeriodicEffectArray value="AUls@CreateUnit"/>
        <PeriodicPeriodArray value="0.2"/>
        <Flags index="OrphanParams" value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="AUls@Duration">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUls@LocustSpawnSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUls@ClearRecordedDamage"/>
        <EffectArray value="AUls@BuffLocustThink"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUls@BuffLocustThink">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Dreadlord - Carrion Swarm Buff=BUcs-->
    <CEffectCreatePersistent id="AUcs@Target">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="AUcs@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AUcs@Missile">
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="AUcs@Search"/>
        <SearchMaxCount value="5"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="AUcs@Search" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.5625" RadiusBonus="0.2683" Effect="AUcs@Damage"/>
        <SearchFilters value="-;player,allies,neutral,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="AUcs@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="AUcs@Damage"/>
        </Amount>
    </CEffectDamage>
    <!--Lich - Dark Ritual-->
    <CEffectCreateHealer id="AUdr" parent="War3_InstantHeal">
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="EnergyNotFullCaster"/>
        <ValidatorArray value="NotHallucinationTarget"/>
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="1"/>
        <DrainVitalCostFactor value="0">
            <AccumulatorArray value="AUdr@ConvertRate"/>
        </DrainVitalCostFactor>
        <RechargeVital value="Energy"/>
        <RechargeVitalFraction value="1"/>
        <FinalEffect value="AUdr@Kill"/>
        <InitialEffect value="AUdr@ForceBlastDeath"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AUdr@Kill">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
        <ImpactLocation Effect="AUdr"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <!--Death Knight - Death Pact-->
    <CEffectCreateHealer id="AUdp" parent="War3_InstantHeal">
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ValidatorArray value="NotHallucinationTarget"/>
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="1"/>
        <DrainVitalCostFactor value="0">
            <AccumulatorArray value="AUdp@ConvertRate"/>
        </DrainVitalCostFactor>
        <RechargeVitalFraction value="1"/>
        <FinalEffect value="AUdp@Kill"/>
        <InitialEffect value="AUdp@ForceBlastDeath"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AUdp@Kill">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
        <ImpactLocation Effect="AUdp"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <!--Lich - Death and Decay Buff=BUdd effect=XUdd-->
    <CEffectCreatePersistent id="AUdd">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="35"/>
        <PeriodicEffectArray value="AUdd@Search"/>
        <PeriodicPeriodArray value="1"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
        <InitialEffect value="AUdd@InitialSet"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AUdd@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="4.6875" Effect="AUdd@BuffDeathAndDecayAoe"/>
        <SearchFilters value="-;wall,tree,debris,Dead,invulnerable,Decaying,item"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
    </CEffectEnumArea>
    <CEffectDamage id="AUdd@Damage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <VitalFractionMax index="Life" value="0.04"/>
    </CEffectDamage>
    <CEffectDamage id="AUdd@TreeKiller" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="4.6875" Validator="IsTreeWar3"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectSet id="AUdd@InitialSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AUdd@TreeKiller"/>
        <EffectArray value="AUdc@Search"/>
    </CEffectSet>
    <!--Death Knight - Death Coil-->
    <CEffectLaunchMissile id="AUdc@Missile">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="AUdc@TargetFilter"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AUdc@MissileImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUdc@Heal"/>
        <EffectArray value="AUdc@Damage"/>
        <ValidatorArray value="AUdc@TargetFilter"/>
    </CEffectSet>
    <CEffectModifyUnit id="AUdc@Heal" parent="War3_Heal">
        <ValidatorArray index="0" value="AUdc@HealTarget"/>
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AUdc@Heal"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AUdc@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AUdc@DamageTarget"/>
        <EditorCategories value="Race:Undead"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <Amount value="0">
            <AccumulatorArray value="AUdc@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AUfu@SlowDuration" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <Behavior value="Bfro"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AUfn@SpecialTargetDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Type value="Cold"/>
        <Amount value="0">
            <AccumulatorArray value="AUfn@SpecialTargetDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="AUfn@AreaTargetDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Type value="Cold"/>
        <Amount value="0">
            <AccumulatorArray value="AUfn@AreaTargetDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="AUfn">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUfn@SpecialTargetDamage"/>
        <EffectArray value="AUfn@Search"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectEnumArea id="AUfn@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="3.125" Effect="AUfn@SearchImpact"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectSet id="AUfn@SearchImpact">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUfn@AreaTargetDamage"/>
        <EffectArray value="AUfn@BuffFrost"/>
        <ValidatorArray value="AUfn@NeutralCheck"/>
    </CEffectSet>
    <!--Crypt Lord - Impale Buff=BUim-->
    <CEffectCreatePersistent id="AUim@Target">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="AUim@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-13.2812,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AUim@Missile" parent="War3_AbilMissile">
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="AUim@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AUim@MissileImpactSet"/>
    <CEffectEnumArea id="AUim@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray RectangleWidth="3.9062" Effect="AUim@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectSet id="AUim@SearchImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUim@BuffImpale"/>
        <EffectArray value="AUim@Stun"/>
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
    </CEffectSet>
    <!--Dreadlord - Sleep Buff=BUsl,BUsp,Bust-->
    <CEffectSet id="AUsl">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUsl@BuffSleep"/>
        <EffectArray value="AUsl@BuffSleepStun"/>
        <EffectArray value="AUsl@BuffSleepPause"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <!--Mana Flare Dur=30 HeroDur=30 Buff=Bmfl,Bmfa-->
    <CEffectDamage id="Amfl@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:NightElf,AbilityorEffectType:Unit"/>
        <AreaArray Radius="3.125" Fraction="1"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,ward,structure,wall,RawResource,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="Amfl@DamageSwitch"/>
        </Amount>
        <CanBeBlocked value="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="Amfl@ApplySearch" parent="War3_AuraSearch" aura="Bmfa">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,ward,structure,wall,RawResource,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray index="0" Radius="11.7185" Effect="Amfl@ApplySearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Amfl@DamageSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:NightElf"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,ward,structure,wall,RawResource,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="11.7185" Effect="Amfl@DamageSearchImpactSet"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AOww@BuffWhirlwindAoe" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOmi@BuffMirrorImage" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOwk@BuffWindWalk" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUcb@BuffCarrionScarab" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUim@BuffImpale" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUan@BuffAnimateDead" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUau@BuffAuraUnholy" parent="War3_AuraBuff"/>
    <!--CEffectApplyBehavior id="AEim@BuffImmolation" parent="War3_ApplyBuff"/-->
    <!--CEffectApplyBehavior id="AEme@BuffMetamorphosis" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AUsl@BuffSleep" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUsl@BuffSleepPause" parent="War3_ApplyBuff"/>
    <!--CEffectApplyBehavior id="AUsl@BuffSleepStun" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AUav@BuffAuraVampiric" parent="War3_AuraBuff"/>
    <!--CEffectApplyBehavior id="AUcs@BuffCarrionSwarm" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AOeq@BuffEarthquake" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AOeq@BuffEarthquakeAoe" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AOsf@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEer@BuffEntanglingRoots" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEfn@BuffForceOfNature" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEah@BuffAuraThorns" parent="War3_AuraBuff"/>
    <CEffectApplyBehavior id="AEtq@BuffTranquilityRegen" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUdd@BuffDeathAndDecayAoe" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUfu@BuffFrostArmor" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AUfn@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEst@BuffScout" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEsf@BuffStarfallDrain" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AEar@BuffAuraTrueshot" parent="War3_AuraBuff">
        <ValidatorArray value="TargetHasRangedWeapon"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOae@BuffAuraEndurance" parent="War3_AuraBuff"/>
    <!--CEffectApplyBehavior id="AOsh@BuffShockwave" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="AOws@BuffPause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOhx@BuffHex" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AOsw@BuffWard" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AOvd@BuffVoodoo" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray index="1" removed="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOvd@BuffVoodooCaster" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEsh@BuffShadowStrike" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetNotDead"/>
        <ValidatorArray value="NotInvulnerable"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEsv@BuffSpiritOfVengeance" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aams@BuffAntiMagicShell" parent="War3_ApplyBuff"/>
    <!--CEffectApplyBehavior id="Aams@BuffAntiMagicShellTwo" parent="War3_ApplyBuff"/-->
    <!--CEffectApplyBehavior id="Aam2@BuffAntiMagicShell" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="Aam2@BuffAntiMagicShellTwo" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aap1@BuffAuraPlague" parent="War3_AuraBuff">
        <ValidatorArray value="IsNotUndead"/>
        <ValidatorArray value="War3_IsNotSleeping"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aap1@BuffPlagueWard" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aap2@BuffAuraPlague" parent="War3_AuraBuff">
        <ValidatorArray value="IsNotUndead"/>
        <ValidatorArray value="War3_IsNotSleeping"/>
    </CEffectApplyBehavior>
    <!--CEffectApplyBehavior id="Aap4@BuffPlagueWard" parent="War3_ApplyBuff"/-->
    <CEffectApplyBehavior id="Apts@BuffPlagueWard" parent="War3_ApplyBuff"/>
    <!--Override the damage source-->
    <CEffectRemoveBehavior id="Apts@RemoveAura">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="Aap2"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Apts@ReapplyAura" parent="War3_ApplyBuff">
        <Behavior value="Aap2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aoar@BuffAuraRegenLife" parent="War3_AuraBuff">
        <ValidatorArray index="1" value="TargetLifeNotFull"/>
        <ValidatorArray value="NotNegativeLifeRegen"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aabr@BuffAuraBlightRegen" parent="War3_AuraBuff">
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="TargetNotOnBlight"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aakb@BuffAuraKotoBeast" parent="War3_AuraBuff">
        <ValidatorArray value="TargetHasWeapon"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Absk@BuffBerserkerRage" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Ablo@BuffBloodlust" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Acri@BuffCripple" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Scri@BuffCripple" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Acrs@BuffCurse" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Acyc@BuffCycloneTwo" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aeat@BuffEatTree" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Afae@BuffFaerieFire" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Afa2@BuffFaerieFire" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Afrz@BuffFreezingBreath" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Afra@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Afr2@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Afrb@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Agra@BuffGrabTree" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Ahea@BuffHeal" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Ahwd@BuffHealingWard" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Ainf@BuffInnerFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aivs@BuffInvisibility" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Alsh@BuffLightningShield" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aliq@BuffLiquidFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Amfl@BuffManaFlareAoe" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Apsh@BuffPhaseShift" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aps2@BuffPossession" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aps2@BuffPossessionCaster" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Arai@BuffRaiseDead" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Arej@BuffRejuvination" parent="War3_ApplyBuff">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Arpl@BuffReplenishLife" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Arpm@BuffReplenishMana" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aroa@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Ara2@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aeye@BuffEvilEye" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aslo@BuffSlow" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aspo@BuffSlowPoison" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aspo@BuffSlowPoisonStackDoT" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aspl@BuffSpiritLink" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Asta@BuffStasisTrapTrigger" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Asta@BuffPause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Auhf@BuffUnholyFrenzy" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Auhf@BuffUnholyFrenzyPositive" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Auhf@BuffUnholyFrenzyNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aven@BuffPoisonAttack" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aven@BuffPoisonAttackStackDoT" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aweb@BuffWebAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aweb@BuffWeb" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Auns@BuffUnsummon" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetIsNotMorphing"/>
        <ValidatorArray value="NoUnsummonAny"/>
        <ValidatorArray value="IsRaceUndead"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="Aens@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Aens@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="Aens@Switch"/>
    </CEffectSet>
    <!--Ensnare Dur=12 HeroDur=3 Buff=Bena,Beng-->
    <CEffectSwitch id="Aens@Switch">
        <EditorCategories value="Race:Orc"/>
        <CaseArray Validator="AirUnit" Effect="Aens@BuffEnsnareAir"/>
        <CaseDefault value="Aens@BuffEnsnareGround"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="Aens@BuffEnsnareAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Aens@BuffEnsnareGround" parent="War3_ApplyBuff"/>
    <CEffectDamage id="Advm@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Undead"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="180"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <!--Inferno Buff=BNin-->
    <CEffectEnumArea id="ANin@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="ANin@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANin@SearchCursor" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,air,ward,wall,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062"/>
    </CEffectEnumArea>
    <CEffectSet id="ANin@SearchImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANin@Damage"/>
        <EffectArray value="ANin@Stun"/>
        <EffectArray value="ANin@StunHero"/>
    </CEffectSet>
    <CEffectDamage id="ANin@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="50"/>
        <Type value="Force"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANin@Stun">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="BPSE"/>
        <Duration value="4"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANin@StunHero">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="BPSE"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="ANin">
        <ValidatorArray value="Pathable"/>
        <EditorCategories value="Race:Creeps"/>
        <OffsetFacingFallback Value="CasterUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANin@ImpactSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANin@ImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="ANin@TreeKiller"/>
        <EffectArray value="ANin@Search"/>
        <EffectArray value="ANin@CreateUnit"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="ANin@TreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="TargetPoint"/>
        <Flags index="Kill" value="1"/>
        <AreaArray Radius="3.9062" Fraction="1"/>
        <SearchFilters value="tree;invulnerable"/>
    </CEffectDamage>
    <CEffectCreateUnit id="ANin@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="ANin@BuffInfernal"/>
        <SpawnUnit index="0" value="ninf"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="ANin@BuffInfernal" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUfa@SlowDuration" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <Behavior value="Bfro"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUfa@BuffFrostArmor" parent="War3_ApplyBuff"/>
    <!--Chieftain - Shock Wave Buff=BOsh-->
    <CEffectCreatePersistent id="AOsh@Target">
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="AOsh@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AOsh@Missile">
        <EditorCategories value="Race:Orc"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="AOsh@Search"/>
        <SearchMaxCount value="12"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="AOsh@Search" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray RectangleWidth="3.9062" Effect="AOsh@Damage"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOsh@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <EditorCategories value="Race:Orc"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="AOsh@Damage"/>
        </Amount>
    </CEffectDamage>
    <!--Vengeance Dur=50 HeroDur=50 Buff=Bvng-->
    <CEffectSet id="Avng">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="War3_InstantUnloadFromNotHiddenTransport"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
        <EffectArray value="Avng@UniqueSummonTracker"/>
        <EffectArray value="Avng@CreateUnit"/>
        <EffectArray value="ForceRemoveTarget"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectCreateUnit id="Avng@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:NightElf"/>
        <SpawnEffect value="Avng@SpawnSet"/>
        <SpawnUnit index="0" value="even"/>
    </CEffectCreateUnit>
    <CEffectSet id="Avng@SpawnSet">
        <EditorCategories value="Race:NightElf"/>
        <EffectArray value="Avng@AddTracked"/>
        <EffectArray value="Avng@BuffVengeance"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Avng@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:NightElf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectAddTrackedUnit id="Avng@AddTracked">
        <EditorCategories value="Race:NightElf"/>
        <BehaviorLink value="Avng@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="Avng@BuffVengeance" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="Awha@InstantDropResource">
        <EditorCategories value="Race:NightElf"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="ResourceDrop" value="1"/>
    </CEffectModifyUnit>
    <!--Dispel Magic-->
    <CEffectEnumArea id="Adis@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;wall,Missile,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="Adis@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Adis@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Adis@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="Adis@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="200"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <!--Control Magic Dur=60 HeroDur=60 Buff=Bcmg-->
    <CEffectApplyBehavior id="Acmg@BuffControlMagic" parent="War3_ApplyBuff">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="Acmg@NotCreepOrNotMaxCreepLevel"/>
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="AHpx@RemoveUndieable">
        <EditorCategories value="Race:Human"/>
        <BehaviorLink value="Aphx@PreventDeath"/>
    </CEffectRemoveBehavior>
    <CEffectModifyUnit id="Amil@InstantDropResource">
        <EditorCategories value="Race:Human"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="ResourceDrop" value="1"/>
    </CEffectModifyUnit>
    <CEffectMorph id="Amil@InstantMorphBack">
        <EditorCategories value="Race:Human"/>
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="IgnoreMorphing" value="1"/>
        <MorphUnit value="hpea"/>
        <ValidatorArray value="Amil@CasterIsNotMorphingBack"/>
    </CEffectMorph>
    <CEffectApplyBehavior id="AHmt@MassTeleportTeleportRevealBuff"/>
    <!--Aerial Shackles Dur=40 HeroDur=10 Buff=Bmlc,Bmlt-->
    <CEffectSet id="Amls">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Amls@BuffMagicLeashCaster"/>
        <EffectArray value="Amls@BuffMagicLeashTarget"/>
        <ValidatorArray value="Amls@NoBuffMagicLeashTarget"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Amls@BuffMagicLeashCaster" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Amls@BuffMagicLeashTarget" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="Amls@LeashDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Type value="Magic"/>
        <Amount value="30"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Amls@Action">
        <EditorCategories value="Race:Human"/>
        <LaunchUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--Blood Mage - Flame Strike Buff=BHfs effect=XHfs cast=1.33-->
    <CEffectDamage id="AHfs@TreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Amount value="500"/>
        <ValidatorArray value="IsTreeOrDebrisWar3"/>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AHfs@BuffFlameStrike" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="AHfs">
        <EditorCategories value="Race:Human"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="1.3281"/>
        <ExpireEffect value="AHfs@ActualEffect"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHfs@ActualEffect">
        <EditorCategories value="Race:Human"/>
        <InitialEffect value="AHfs@FullDamageSearch"/>
        <ExpireEffect value="AHfs@Subsides"/>
        <PeriodCount value="8"/>
        <PeriodicEffectArray value="AHfs@FullDamageSearch"/>
        <PeriodicPeriodArray value="0.33"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AHfs@FullDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="AHfs@FullDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="AHfs@HalfDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="AHfs@HalfDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectEnumArea id="AHfs@FullDamageSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;air,ward,wall,Missile,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="AHfs@FullDamageSet"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AHfs@HalfDamageSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;air,ward,wall,Missile,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="AHfs@HalfDamageSet"/>
    </CEffectEnumArea>
    <CEffectSet id="AHfs@FullDamageSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHfs@TreeKiller"/>
        <!--EffectArray value="AHfs@TreeKiller"/-->
        <EffectArray value="AHfs@FullDamage"/>
        <EffectArray value="AHfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectSet id="AHfs@HalfDamageSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHfs@HalfDamage"/>
        <EffectArray value="AHfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AHfs@Subsides">
        <EditorCategories value="Race:Human"/>
        <PeriodCount value="6"/>
        <PeriodicEffectArray value="AHfs@HalfDamageSearch"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACtb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACtb@Damage"/>
        </Amount>
    </CEffectDamage>
    <!--Mountain King - Thunder Bolt Buff=BPSE-->
    <CEffectDamage id="AHtb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="AHtb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectLaunchMissile id="AHtb@Missile">
        <EditorCategories value="Race:Human"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AHtb@MissileImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHtb@Damage"/>
        <EffectArray value="AHtb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ANfb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Amount value="0">
            <AccumulatorArray value="ANfb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectLaunchMissile id="ANfb@Missile">
        <EditorCategories value="Race:Human"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANfb@MissileImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="ANfb@Damage"/>
        <EffectArray value="ANfb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <!--Mountain King - Thunder Clap Buff=BHtc-->
    <CEffectEnumArea id="AHtc@Search">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="AHtc@ImpactSet"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AHtc@ImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHtc@Damage"/>
        <EffectArray value="AHtc@BuffThunderClap"/>
    </CEffectSet>
    <CEffectDamage id="AHtc@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="AHtc@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="AHtc@BuffThunderClap" parent="War3_ApplyBuff"/>
    <!--Blood Mage - Banish Buff=BHbn-->
    <CEffectSwitch id="AHbn@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="AHbn@BuffBanishNegative"/>
        <CaseDefault value="AHbn@BuffBanishPositive"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="AHbn@BuffBanishPositive" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AHbn@BuffBanishNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbh@ImpactEffect">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHbh@StunDurationHero"/>
        <EffectArray value="AHbh@StunDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHbh@StunDuration" parent="War3_Dur" buff="BPSE">
        <EditorCategories value="Race:Human"/>
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHbh@StunDurationHero" parent="War3_HeroDur" buff="BPSE">
        <EditorCategories value="Race:Human"/>
        <Duration value="1"/>
    </CEffectApplyBehavior>
    <!--Blood Mage - Siphon Mana Buff=Bdcb,Bdcl,Bdcm,Bdtb,Bdtl,Bdtm,Bdbb,Bdbl,Bdbm-->
    <CEffectSet id="AHdr">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHdr@BuffDrainBonusMana"/>
        <EffectArray value="AHdr@DrainMana"/>
        <EffectArray value="AHdr@TransferMana"/>
        <ValidatorArray value="AHdr@TargetFilterSet"/>
    </CEffectSet>
    <CEffectSet id="AHdr@ChannelingBuffSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHdr@BuffDrainTargetMana"/>
        <EffectArray value="AHdr@BuffDrainCasterMana"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHdr@BuffDrainBonusMana" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Value="Caster"/>
        <ValidatorArray value="AHdr@DrainTarget"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHdr@BuffDrainCasterMana" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AHdr@BuffDrainTargetMana" parent="War3_ApplyBuff">
        <KillHallucination value="1"/>
        <ValidatorArray value="AHdr@TransferTarget"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AHdr@ManaDecay">
        <EditorCategories value="Race:Human"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="-3"/>
        </VitalArray>
        <ValidatorArray value="AHdr@NotCasting"/>
    </CEffectModifyUnit>
    <CEffectCreateHealer id="AHdr@DrainMana">
        <ValidatorArray value="AHdr@DrainFilterSet"/>
        <EditorCategories value="Race:Human"/>
        <LaunchUnit Value="Target"/>
        <PeriodCount value="6"/>
        <PeriodicValidator value="AHdr@DrainFilterSet"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="AHdr@ManaDrainRate"/>
        </RechargeVitalRate>
        <InitialEffect value="AHdr@ChannelingBuffSet"/>
        <ImpactUnit Value="Caster"/>
        <Flags index="ContinueWhenFull" value="1"/>
        <CanBeBlocked value="1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdr@TransferMana">
        <EditorCategories value="Race:Human"/>
        <PeriodCount value="6"/>
        <PeriodicValidator value="AHdr@TransferFilterSet"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="AHdr@ManaTransferRate"/>
        </RechargeVitalRate>
        <ValidatorArray value="AHdr@TransferFilterSet"/>
        <InitialEffect value="AHdr@ChannelingBuffSet"/>
    </CEffectCreateHealer>
    <CEffectEnumArea id="Aclf@Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="structure;ward,wall,tree,Missile,debris,Dead,Hidden,immunity,Decaying,item"/>
        <AreaArray Radius="4.6875" Effect="Aclf@BuffCloudOfFog"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="Aclf@EffectCloudOfFog">
        <EditorCategories value="Race:Human"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="Aclf@Search"/>
        <PeriodCount value="30"/>
        <PeriodicEffectArray value="Aclf@Search"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectIssueOrder id="Amic@WorkCallToArm">
        <EditorCategories value="Race:Human"/>
        <Abil value="Amil"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="Amic@BackToWorkOrder">
        <EditorCategories value="Race:Human"/>
        <Abil value="Amil"/>
        <AbilCmdIndex value="2"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="Amic@SearchWorkers">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,Dead,Hidden,Decaying"/>
        <AreaArray Radius="31.25" Effect="Amic@WorkCallToArm"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Calltoarms"/>
        <MinCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="Amic@SearchMilitia">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,Dead,Hidden,Decaying"/>
        <AreaArray Radius="31.25" Effect="Amic@BackToWorkOrder"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Backtowork"/>
        <MinCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <!--Avatar-->
    <CEffectSet id="AHav">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="AHav@BuffAvatar"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHav@BuffAvatar" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="AHav@Removing">
        <EditorCategories value="Race:Human"/>
        <BehaviorLink value="AHav@BuffAvatar"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Aclf@BuffCloudOfFog" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="NoUnsummonAny"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="Aroc@MultishotSearch" parent="War3_MultishotSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;player,allies,neutral,ward,structure,wall,tree,debris,Dead,invulnerable,Decaying,ground,item"/>
        <AreaArray Radius="7.8125"/>
        <MaxCount value="10"/>
    </CEffectEnumArea>
    <!--Blood Mage - Phoenix-->
    <CEffectSet id="AHpx">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHpx@UniqueSummonTracker"/>
        <EffectArray value="AHpx@CreateUnit"/>
    </CEffectSet>
    <CEffectAddTrackedUnit id="AHpx@AddTracked">
        <EditorCategories value="Race:Human"/>
        <BehaviorLink value="AHpx@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="AHpx@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AHpx@CreateUnit">
        <CreateFlags index="OffsetUnitTypeByLevel" value="1"/>
        <EditorCategories value="Race:Human"/>
        <!--Only timedlifed units are ignore food-->
        <!--CreateFlags index="UseFood" value="0"/-->
        <SpawnEffect value="AHpx@AddTracked"/>
        <SpawnUnit value="hphx"/>
    </CEffectCreateUnit>
    <CEffectSet id="AHpx@UniqueSummonReplacedSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHpx@RemoveUndieable"/>
        <EffectArray value="War3_UniqueSummonReplacedFate"/>
    </CEffectSet>
    <!--Arch Mage - Blizzard Buff=BHbd,BHbz effect=XHbz cast=1-->
    <!--Arch Mage - Brilliance Aura Buff=BHab-->
    <CEffectApplyBehavior id="AHab@BuffAuraBrilliance" parent="War3_AuraBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AHab@Search" parent="War3_AuraSearch" aura="AHab@BuffAuraBrilliance">
        <EditorCategories value="Race:Human"/>
    </CEffectEnumArea>
    <!--Arch Mage - Mass Teleport-->
    <CEffectEnumArea id="AHmt@Target">
        <EditorCategories value="Race:Human"/>
        <ExcludeArray/>
        <SearchFilters value="-;neutral,enemies,ward,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="15.625" Effect="AHmt"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AHmt">
        <ValidatorArray value="IsTargetable"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <ValidatorArray value="TargetIsNotNavalWar3"/>
        <ValidatorArray value="TargetDoesNotHaveLocustAbilityAloc"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetUnitNotOnDeepWater"/>
        <EditorCategories value="Race:Human"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AHmt@StartChannelSet"/>
        <ExpireDelay value="3"/>
        <ExpireEffect value="AHmt@Search"/>
        <PeriodicValidator value="AHmt@TeleportTargetValidators"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AHmt@Search">
        <EditorCategories value="Race:Human"/>
        <LaunchLocation Value="CasterPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <ExcludeArray Effect="AHmt" Value="Target"/>
        <SearchFilters value="-;allies,neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="10.9375" Effect="AHmt@TeleportSet"/>
        <MaxCount value="24"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="HeroFirst"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectTeleport id="AHmt@Teleport">
        <EditorCategories value="Race:Human"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="AHmt" Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Value="TargetPoint"/>
        <TargetLocation Effect="AHmt" Value="TargetUnit"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
        <!--TeleportEffect value="AHmt@RemoveAntiTeleportBuffs"/-->
    </CEffectTeleport>
    <!--Arch Mage - Water Elemental Buff=BHwe-->
    <CEffectApplyBehavior id="AHwe@BuffWaterElemental">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AHwe@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="AHwe@BuffWaterElemental"/>
        <SpawnUnit index="0" value="hwat"/>
        <SpawnUnit value="hwt2"/>
        <SpawnUnit value="hwt3"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <!--Paladin - Holy Light-->
    <CEffectSet id="AHhb">
        <ValidatorArray value="AHhb@TargetFilter"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHhb@Heal"/>
        <EffectArray value="AHhb@Damage"/>
    </CEffectSet>
    <CEffectModifyUnit id="AHhb@Heal" parent="War3_Heal">
        <ValidatorArray value="AHhb@HealTarget"/>
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AHhb@Heal"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AHhb@Damage">
        <ValidatorArray value="AHhb@DamageTarget"/>
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Visibility value="Visible"/>
        <Flags index="Notification" value="1"/>
        <Type value="Fire"/>
        <ExcludeArray Value="Target"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFlags index="OffsetAreaByAngle" value="1"/>
        <Amount value="0">
            <AccumulatorArray value="AHhb@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
    </CEffectDamage>
    <!--Paladin - Devotion Aura Buff=BHad-->
    <CEffectEnumArea id="AHad@Search" parent="War3_AuraSearch" aura="AHad@BuffAuraDevotion">
        <EditorCategories value="Race:Human"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AHad@BuffAuraDevotion" parent="War3_AuraBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ANha@DamageToTree" parent="War3_HarvestTreeDamage">
        <Amount value="1"/>
    </CEffectDamage>
    <CEffectDamage id="Ahr2@DamageToTree" parent="War3_HarvestTreeDamage">
        <Amount value="5"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AHca@BuffColdArrow" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AHca@BuffColdArrowStackDoT" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACcw@BuffColdArrow" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACcw@BuffColdArrowStackDoT" parent="War3_ApplyBuff"/>
    <!--Arch Mage - Blizzard Buff=BHbd,BHbz effect=XHbz cast=1-->
    <CEffectCreatePersistent id="AHbz@DamageDelay">
        <EditorCategories value="Race:Human"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AHbz@Search"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHbz@Waves">
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <!--InitialEffect value="AHbz@DamageDelay"/-->
        <PeriodCount value="0">
            <AccumulatorArray value="AHbz@NumberofWaves"/>
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <PeriodicEffectArray value="AHbz@DamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <ExpireDelay value="1"/>
        <InitialEffect value="AHbz@DamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AHbz@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="AHbz@Damage"/>
        </Amount>
        <Type value="Cold"/>
        <Death value="Freeze"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AHbz@BuffBlizzard">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbz@ImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHbz@Damage"/>
        <EffectArray value="AHbz@BuffBlizzard"/>
    </CEffectSet>
    <CEffectEnumArea id="AHbz@Search">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="AHbz@ImpactSet"/>
        <MaxCount value="5"/>
    </CEffectEnumArea>
    <!--Paladin - Divine Shield Buff=BHds-->
    <CEffectSet id="AHds">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="AHds@BuffDivineShield"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHds@BuffDivineShield" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACdr@BuffDrainCasterLife" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACdr@ChannelingBuffSet">
        <EffectArray value="ACdr@BuffDrainCasterLife"/>
        <EffectArray value="ACdr@BuffDrainTargetLife"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACdr@BuffDrainTargetLife" parent="War3_ApplyBuff">
        <KillHallucination value="1"/>
        <ValidatorArray value="ACdr@TransferTarget"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="ACdr@DrainLife">
        <ValidatorArray value="ACdr@DrainTarget"/>
        <LaunchUnit Value="Target"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="ACdr@DrainFilterSet"/>
        <PeriodicPeriod value="1"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="ACdr@LifeDrainRate"/>
        </RechargeVitalRate>
        <InitialEffect value="ACdr@ChannelingBuffSet"/>
        <ImpactUnit Value="Caster"/>
        <Flags index="ContinueWhenFull" value="1"/>
        <CanBeBlocked value="1"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior id="ACsm@BuffDrainCasterMana" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACsm@ChannelingBuffSet">
        <EffectArray value="ACsm@BuffDrainCasterMana"/>
        <EffectArray value="ACsm@BuffDrainTargetMana"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACsm@BuffDrainTargetMana" parent="War3_ApplyBuff">
        <KillHallucination value="1"/>
        <ValidatorArray value="ACsm@TransferTarget"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="ACsm@DrainMana">
        <ValidatorArray value="ACsm@DrainTarget"/>
        <LaunchUnit Value="Target"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="ACsm@DrainFilterSet"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="ACsm@ManaDrainRate"/>
        </RechargeVitalRate>
        <InitialEffect value="ACsm@ChannelingBuffSet"/>
        <ImpactUnit Value="Caster"/>
        <Flags index="ContinueWhenFull" value="1"/>
        <CanBeBlocked value="1"/>
    </CEffectCreateHealer>
    <CEffectCreatePersistent id="AIrc">
        <ValidatorArray value="IsSourceNotReincarnatingWar3"/>
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <ExpireDelay value="0">
            <AccumulatorArray value="AIrc@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="AIrc@ReviveSet"/>
        <InitialEffect value="War3_InventoryChargeRemoveEffectItemType"/>
        <!--InitialEffect value="AIrc@RemoveBuff"/-->
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AIrc@ResponseDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireEffect value="AIrc"/>
        <ExpireDelay value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="AIrc@Revive">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIrc@Heal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life">
            <Change value="500"/>
        </VitalArray>
        <ModifyFlags index="SetVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AIrc@ReviveSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AIrc@Revive"/>
        <EffectArray value="AIrc@Heal"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ACrn@ResponseDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <InitialEffect value="War3_Reincarnating"/>
        <ExpireEffect value="ACrn"/>
    </CEffectCreatePersistent>
    <CEffectRemoveBehavior id="ACrn@RemoveBuff">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="ACrn"/>
    </CEffectRemoveBehavior>
    <!--Chieftain - Reincarnation effect=XOre cast=3-->
    <CEffectCreatePersistent id="ACrn">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0">
            <AccumulatorArray value="ACrn@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="ACrn@ReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialEffect value="ACrn@RemoveBuff"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="ACrn@Revive">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ACrn@Heal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="ACrn@ReviveSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="ACrn@Revive"/>
        <EffectArray value="ACrn@Heal"/>
    </CEffectSet>
    <CEffectSet id="Anhe">
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="Anhe@NotBeingHealedByOthers"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Anhe@Heal"/>
        <EffectArray value="Anhe@BuffHeal"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Anhe@BuffHeal" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="Anhe@Heal" parent="War3_Heal">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Life">
            <Change value="15"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Anh1">
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="Anh1@NotBeingHealedByOthers"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Anh1@Heal"/>
        <EffectArray value="Anh1@BuffHeal"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Anh1@BuffHeal" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="Anh1@Heal" parent="War3_Heal">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Life">
            <Change value="12"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Anh2">
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="Anh2@NotBeingHealedByOthers"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Anh2@Heal"/>
        <EffectArray value="Anh2@BuffHeal"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Anh2@BuffHeal" parent="War3_ApplyBuff"/>
    <CEffectModifyUnit id="Anh2@Heal" parent="War3_Heal">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Life">
            <Change value="25"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Arsq@BuffSummonQuillbeast" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="Arsq@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="Arsq@BuffSummonQuillbeast"/>
        <SpawnUnit index="0" value="nqb1"/>
        <SpawnUnit value="nqb2"/>
        <SpawnUnit value="nqb3"/>
        <SpawnUnit value="nqb4"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectSet id="Arsp@MissileScanImpactSet"/>
    <CEffectEnumArea id="Arsp@MissileScan" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="-;self,player,allies,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
        <AreaArray RectangleWidth="0.8593" Effect="Arsp@MissileScanImpactSet"/>
        <AreaArray Radius="20.3125"/>
    </CEffectEnumArea>
    <CEffectLaunchMissile id="Arsp@Missile">
        <LaunchLocation Effect="Arsp@EndOffset" Value="TargetPoint"/>
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="Arsp@MissileScan"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <SearchFlags index="ArriveOnSearchHit" value="1"/>
        <SearchHitArriveEffect value="Arsp@Damage"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Arsp@MissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="Arsp@Damage" parent="War3_SpellDamage">
        <ImpactLocation Value="SourceUnit"/>
        <Type value="Universal"/>
        <Amount value="60">
            <AccumulatorArray value="Arsp@Damage"/>
        </Amount>
        <AreaArray Radius="4.2968" Fraction="1"/>
        <SearchFilters value="-;self,player,allies,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="Arsp@Persisent">
        <Flags index="Channeled" value="1"/>
        <Flags index="RandomOffset" value="1"/>
        <PeriodCount value="60"/>
        <PeriodicOffsetArray value="-12.5,15.5625,0"/>
        <PeriodicOffsetArray value="-6.5,15.5625,0"/>
        <PeriodicOffsetArray value="0,15.5625,0"/>
        <PeriodicOffsetArray value="6.5,15.5625,0"/>
        <PeriodicOffsetArray value="12.5,15.5625,0"/>
        <PeriodicPeriodArray value="0.5"/>
        <OffsetRandMode value="Shuffle"/>
        <PeriodicEffectArray value="Arsp@StartOffset"/>
        <InitialEffect value="War3_RemoveCasterInvulnerableBuffs"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Arsp@StartOffset">
        <Flags index="RandomOffset" value="1"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="Arsp@EndOffset"/>
        <PeriodicOffsetArray value="-3,0,0"/>
        <PeriodicOffsetArray value="-2,0,0"/>
        <PeriodicOffsetArray value="-1,0,0"/>
        <PeriodicOffsetArray value="0,0,0"/>
        <PeriodicOffsetArray value="1,0,0"/>
        <PeriodicOffsetArray value="2,0,0"/>
        <PeriodicOffsetArray value="3,0,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Arsp@EndOffset">
        <OffsetVectorStartLocation Value="CasterUnit"/>
        <OffsetVectorEndLocation Value="CasterUnit"/>
        <OffsetFacingFallback Value="CasterUnit"/>
        <FinalEffect value="Arsp@Missile"/>
        <FinalOffset value="0,-31.25,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANcf@TargetStart">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ANcf@TargetEnd"/>
        <ExpireOffset value="0,-2.3437,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANcf@TargetEnd">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ANcf@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ANcf@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ANcf@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <LaunchLocation Effect="ANcf@TargetEnd" Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ANcf@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="2.3437" Effect="ANcf@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANcf@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Amount value="0">
            <AccumulatorArray value="ANcf@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ANcf@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="ANcf@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ANcf@SearchImpactSet">
        <EffectArray value="ANcf@Damage"/>
        <EffectArray value="ANcf@BuffBreathOfFire"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANcf@BuffBreathOfFire" parent="War3_ApplyBuff">
        <ValidatorArray value="HasBuffDrunkenHazeAnyBNdh"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Acdb@Critical"/>
    <CEffectRemoveBehavior id="Acdb@CriticalRB">
        <BehaviorLink value="Acdb@Critical"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Acdh@BuffDrunkenHaze" parent="War3_ApplyBuff"/>
    <CEffectSet id="Acdh@MissileImpactSet">
        <EffectArray value="Acdh@Search"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectEnumArea id="Acdh@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="3.125" Effect="Acdh@BuffDrunkenHaze"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Hidden,invulnerable,immunity,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Acef@BuffElementalFury" parent="War3_ApplyBuff"/>
    <CEffectAddTrackedUnit id="Acef@AddTracked">
        <BehaviorLink value="Acef@SummonedUnitTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectCreatePersistent id="ACbc@TargetStart">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACbc@TargetEnd"/>
        <ExpireOffset value="0,-1.9531,0"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACbc@TargetEnd">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACbc@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACbc@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACbc@Search"/>
        <SearchMaxCount value="8"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
        <LaunchLocation Effect="ACbc@TargetEnd" Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACbc@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="2.3437" Effect="ACbc@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACbc@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Amount value="0">
            <AccumulatorArray value="ACbc@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ACbc@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="ACbc@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ACbc@SearchImpactSet">
        <EffectArray value="ACbc@Damage"/>
        <EffectArray value="ACbc@BuffBreathOfFire"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACbc@BuffBreathOfFire" parent="War3_ApplyBuff">
        <ValidatorArray value="HasBuffDrunkenHazeAnyBNdh"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Acef@Channeling"/>
    <CEffectSet id="Acef@ElementalFinalSet">
        <EffectArray value="Acef@SelectCaster"/>
        <EffectArray value="War3_TimedLifeFate"/>
        <EffectArray value="Acef@Teleport"/>
    </CEffectSet>
    <CEffectSet id="Acef@MissileEarthImpactSet">
        <EffectArray value="Acef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectSet id="Acef@MissileFireImpactSet">
        <EffectArray value="Acef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectSet id="Acef@MissileStormImpactSet">
        <EffectArray value="Acef@RemovePrecursor"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Acef@Precursor"/>
    <CEffectRemoveBehavior id="Acef@RemovePrecursor">
        <BehaviorLink value="Acef@Precursor"/>
    </CEffectRemoveBehavior>
    <CEffectCreateUnit id="Acef@CreateFire" parent="War3_SummonUnit">
        <SpawnUnit index="0" value="npn1"/>
        <SpawnUnit value="npn4"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="Acef@SpawnSetFire"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Acef@CreateStorm" parent="War3_SummonUnit">
        <SpawnUnit index="0" value="npn2"/>
        <SpawnUnit value="npn5"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="Acef@SpawnSetStorm"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="Acef@CreateEarth" parent="War3_SummonUnit">
        <SpawnUnit index="0" value="npn3"/>
        <SpawnUnit value="npn6"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SelectUnit Value="Caster"/>
        <SpawnEffect value="Acef@SpawnSetEarth"/>
    </CEffectCreateUnit>
    <CEffectSet id="Acef@Initialize">
        <EffectArray value="Acef@SummonedUnitTrackerClear"/>
        <EffectArray value="Acef@SummonedUnitTracker"/>
        <EffectArray value="Acef@CreateEarth"/>
        <EffectArray value="Acef@CreateFire"/>
        <EffectArray value="Acef@CreateStorm"/>
        <EffectArray value="Acef@Channeling"/>
    </CEffectSet>
    <CEffectLaunchMissile id="Acef@MissileEarth">
        <Movers Link="Acef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Acef@MissileFire">
        <Movers Link="Acef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Acef@MissileStorm">
        <Movers Link="Acef@Missile"/>
    </CEffectLaunchMissile>
    <CEffectModifyUnit id="Acef@SelectCaster">
        <ImpactUnit Value="Caster"/>
        <SelectTransferUnit Value="Source"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
        <FacingLocation Value="SourceUnit"/>
    </CEffectModifyUnit>
    <CEffectSet id="Acef@SpawnSetEarth">
        <EffectArray value="Acef@Precursor"/>
        <EffectArray value="Acef@BuffElementalFury"/>
        <EffectArray value="Acef@AddTracked"/>
        <EffectArray value="Acef@MissileEarth"/>
    </CEffectSet>
    <CEffectSet id="Acef@SpawnSetFire">
        <EffectArray value="Acef@Precursor"/>
        <EffectArray value="Acef@BuffElementalFury"/>
        <EffectArray value="Acef@AddTracked"/>
        <EffectArray value="Acef@MissileFire"/>
    </CEffectSet>
    <CEffectSet id="Acef@SpawnSetStorm">
        <EffectArray value="Acef@Precursor"/>
        <EffectArray value="Acef@BuffElementalFury"/>
        <EffectArray value="Acef@AddTracked"/>
        <EffectArray value="Acef@MissileStorm"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Acef@SummonedUnitTracker">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="Acef@SummonedUnitTrackerClear">
        <BehaviorLink value="Acef@SummonedUnitTracker"/>
        <WhichUnit Value="Caster"/>
    </CEffectRemoveBehavior>
    <CEffectTeleport id="Acef@Teleport">
        <WhichUnit Value="Caster"/>
        <MinDistance value="0"/>
        <TargetLocation Value="TargetUnitOrPoint"/>
    </CEffectTeleport>
    <CEffectDamage id="Acef@SuicideCaster">
        <ValidatorArray value="Acef@AllDead"/>
        <ImpactLocation Value="CasterUnit"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACcv@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACcv@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACcv@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACcv@Search"/>
        <SearchMaxCount value="6"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACcv@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="1.5625" RadiusBonus="0.2683" Effect="ACcv@Damage"/>
        <SearchFilters value="-;self,player,allies,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACcv@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACcv@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACc2@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACc2@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACc2@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACc2@Search"/>
        <SearchMaxCount value="6"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectSwitch id="ACch">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="ACch@NotCreepOrNotMaxCreepLevel"/>
        <CaseArray Validator="KillHallucinationTargetFilters" Effect="Kill"/>
        <CaseDefault value="War3_MindControlTargetSet"/>
    </CEffectSwitch>
    <CEffectEnumArea id="ACc2@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="1.5625" RadiusBonus="0.2683" Effect="ACc2@Damage"/>
        <SearchFilters value="-;self,player,allies,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACc2@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACc2@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ACce@InheritedAoeDamage" parent="War3_AttackEnchantDamage">
        <ImpactLocation Value="SourcePoint"/>
        <Kind value="Melee"/>
        <KindSplash value="Melee"/>
        <Type value="Enhanced"/>
        <Fraction value="0">
            <AccumulatorArray value="ACce@SplashDamageFactor"/>
        </Fraction>
        <AreaArray Radius="2.3437" Fraction="1"/>
        <AreaRelativeOffset value="0,-3.125"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectEnumArea id="Acht@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="12.5" Effect="Acht@BuffHowlOfTerror"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Acht@BuffHowlOfTerror" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACmf@BuffManaShield" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="Apmf@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="3.4375" Effect="Apmf@DamagePerSecond"/>
        <SearchFilters value="-;self,player,allies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,ground,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="Apmf@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="Apmf@DamagePerSecond"/>
        </Amount>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACrf@BuffRainOfFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACrf@BuffRainOfFireAoe" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ACrf@DamageDelay">
        <ExpireDelay value="1"/>
        <ExpireEffect value="ACrf@Search"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACrf@Waves">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ACrf@NumberofWaves"/>
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <PeriodicEffectArray value="ACrf@DamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <ExpireDelay value="1"/>
        <InitialEffect value="ACrf@DamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACrf@Damage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ACrf@Damage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="ACrf@BuffRainOfFire@DPS" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ACrf@DamagePerSecond"/>
        </Amount>
        <Death value="Fire"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectSet id="ACrf@ImpactSet">
        <EffectArray value="ACrf@Damage"/>
        <EffectArray value="ACrf@BuffRainOfFire"/>
    </CEffectSet>
    <CEffectEnumArea id="ACrf@Search">
        <SearchFilters value="-;ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ACrf@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACrg@BuffRainOfFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACrg@BuffRainOfFireAoe" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ACrg@DamageDelay">
        <ExpireDelay value="1"/>
        <ExpireEffect value="ACrg@Search"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACrg@Waves">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ACrg@NumberofWaves"/>
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <PeriodicEffectArray value="ACrg@DamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <ExpireDelay value="1"/>
        <InitialEffect value="ACrg@DamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACrg@Damage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="ACrg@Damage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="ACrg@BuffRainOfFire@DPS" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ACrg@DamagePerSecond"/>
        </Amount>
        <Death value="Fire"/>
        <ImpactUnitValidator value="War3_IsNotSleeping"/>
    </CEffectDamage>
    <CEffectSet id="ACrg@ImpactSet">
        <EffectArray value="ACrg@Damage"/>
        <EffectArray value="ACrg@BuffRainOfFire"/>
    </CEffectSet>
    <CEffectEnumArea id="ACrg@Search">
        <SearchFilters value="-;ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="4.6875" Effect="ACrg@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="APdi@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;wall,Missile,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="12.5" Effect="APdi@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="APdi@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="APdi@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="APdi@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectUserData id="AIps@MovementSpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.25"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectDamage id="AIps@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="150"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="AIps@Initialize">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AIps@EnemySummonedDamage"/>
        <EffectArray value="AIps@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="AIps@EnemyBuffSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AIps@Pause"/>
        <EffectArray value="AIps@BuffPurge"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIps@Pause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIps@BuffPurge" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="AIlp">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AIlp@EnemySummonedDamage"/>
        <EffectArray value="AIlp@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="AIlp@EnemyBuffSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AIlp@BuffPurge"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectSet>
    <CEffectUserData id="AIlp@MovementSpeedUpdate">
        <EditorCategories value="Race:Orc"/>
        <Key value="SpeedFactor"/>
        <Amount value="0.5"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectDamage id="AIlp@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <EditorCategories value="Race:Orc"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="35"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANdr@BuffDrainCasterLife" parent="War3_ApplyBuff"/>
    <CEffectSet id="ANdr@ChannelingBuffSet">
        <EffectArray value="ANdr@BuffDrainCasterLife"/>
        <EffectArray value="ANdr@BuffDrainTargetLife"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANdr@BuffDrainTargetLife" parent="War3_ApplyBuff">
        <KillHallucination value="1"/>
        <ValidatorArray value="ANdr@TransferTarget"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="ANdr@DrainLife">
        <ValidatorArray value="ANdr@DrainTarget"/>
        <LaunchUnit Value="Target"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="ANdr@DrainFilterSet"/>
        <PeriodicPeriod value="1"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVitalRate value="0">
            <AccumulatorArray value="ANdr@LifeDrainRate"/>
        </RechargeVitalRate>
        <InitialEffect value="ANdr@ChannelingBuffSet"/>
        <ImpactUnit Value="Caster"/>
        <Flags index="ContinueWhenFull" value="1"/>
        <CanBeBlocked value="1"/>
    </CEffectCreateHealer>
    <CEffectLaunchMissile id="ACfb@Missile">
        <EditorCategories value="Race:Creeps"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ACfb@MissileImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ACfb@Damage"/>
        <EffectArray value="ACfb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectLaunchMissile id="Awfb@Missile">
        <EditorCategories value="Race:Human"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Awfb@MissileImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Awfb@Damage"/>
        <EffectArray value="Awfb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Adda@DamageDelay">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnitOrPoint"/>
        <OffsetVectorEndLocation Value="SourceUnit"/>
        <ExpireDelay value="0.3"/>
        <ExpireEffect value="Adda@Damage"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="Adda@Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AttributeFactor index="fortified" value="2"/>
        <AreaArray Radius="1.5625" Bonus="500" Fraction="1"/>
        <AreaArray Radius="3.9062" Bonus="200" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,ethereal,Dead,Hidden,invulnerable,Decaying,item"/>
        <Type value="Normal"/>
        <LaunchLocation Value="SourcePoint"/>
    </CEffectDamage>
    <CEffectDamage id="ACfd@Damage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="250"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectDamage id="ACf3@Damage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="500"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectDamage id="Afod@Damage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="500"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACpa@BuffParasite" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACpa@BuffParasiteMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ACpa@DeathSpawn" parent="War3_SummonUnit">
        <SpawnEffect value="ACpa@BuffParasiteMinion"/>
        <SpawnUnit index="0" value="nvdl"/>
    </CEffectCreateUnit>
    <CEffectSet id="ACpa@MissileImpactSet">
        <EffectArray value="ACpa@BuffParasite"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ACpa@BuffParasite@DPS" parent="War3_Poision">
        <Flags index="Live" value="0"/>
        <Amount value="5"/>
    </CEffectDamage>
    <CEffectDamage id="AEpa@BuffPoisonAttack@DPS" parent="War3_Poision">
        <Amount value="0">
            <AccumulatorArray value="AEpa@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="AIfz@Damage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="250"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Aslp@BuffWateryMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="Aslp@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="Aslp@BuffWateryMinion"/>
        <SpawnUnit index="0" value="nlps"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AInd@BuffAnimateDead" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="AInd@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="14.0625" Effect="AInd@AnimateSet"/>
        <SearchFilters value="dead;ward,structure,wall,tree,Missile,debris,invulnerable,hero,HeroUnit,item"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AInd@Revive">
        <ModifyFlags index="Revive" value="1"/>
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="AInd@AnimateSet">
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AInd@Revive"/>
        <EffectArray value="AInd@BuffAnimateDead"/>
        <EffectArray value="War3_SnapTargetToPlacablePoint"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACmo@BuffMonsoonDrain" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="ACmo@Channel">
        <WhichLocation Value="CasterUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="ACmo@Search"/>
        <PeriodCount value="0">
            <AccumulatorArray value="ACmo@PeriodCount"/>
        </PeriodCount>
        <PeriodicEffectArray value="ACmo@Search"/>
        <PeriodicPeriodArray value="1.5"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACmo@Damage" parent="War3_UltraSpellDamage">
        <AttributeFactor index="Structure" value="-0.65"/>
        <Amount value="20"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACmo@DamageDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ACmo@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ACmo@Initialize">
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="ACmo@Channel"/>
    </CEffectSet>
    <CEffectEnumArea id="ACmo@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Effect="ACmo@BuffMonsoonDrain"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="ACmo@Radius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectSet id="AIdc@MissileImpactSet">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="AIdc@TargetHitCount"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectUserData id="AIdc@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="8"/>
        <EffectSuccess value="AIdc@Search"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectEnumArea id="AIdc@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;neutral,ward,structure,wall,tree,debris,dead,item"/>
        <AreaArray Radius="6.25" Effect="AIdc@Missile"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIrs@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="dead;self,neutral,enemies,ward,structure,wall,tree,Missile,debris,invulnerable,hero,item"/>
        <TargetSorts>
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
        </TargetSorts>
        <AreaArray Radius="14.0625" Effect="AIrs@ReviveSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="AIrs@ReviveSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AIrs@Revive"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectModifyUnit id="AIrs@Revive">
        <EditorCategories value="Race:Human"/>
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="StartingVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AIsh">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AIsh@UniqueSummonTracker"/>
        <EffectArray value="AIsh@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIsh@CreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="AIsh@SpawnSet"/>
        <SpawnUnit index="0" value="otbk"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="AIsh@AddTracked">
        <EditorCategories value="Race:Orc"/>
        <BehaviorLink value="AIsh@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="AIsh@UniqueSummonTracker" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIpl@BuffRegenMana" parent="War3_ApplyBuff">
        <ValidatorArray value="EnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIpl@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy">
            <Change value="3.3332"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIp1@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp1@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="3.3334"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="0.8334"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIp2@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp2@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="5"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="1.6667"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIp3@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp3@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="6.6667"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="2.5"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIp4@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp4@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="13.3334"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="4.1667"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AIp6@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,debris,dead,item"/>
        <AreaArray Radius="9.375" Effect="AIp6@BuffRegeneration"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIp6@BuffRegeneration" parent="War3_ApplyBuff">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIp6@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="10"/>
        </VitalArray>
        <VitalArray index="Energy">
            <Change value="3.3334"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AIsl@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,debris,dead,item"/>
        <AreaArray Radius="9.375" Effect="AIsl@BuffRegenLife"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIsl@BuffRegenLife" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIsl@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="5"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIrl@BuffRegenLife" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIrl@HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life">
            <Change value="8.889"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectLaunchMissile id="Ache@Missile">
        <ValidatorArray value="War3_AutoDispelMagicBuffValidator"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectLaunchMissile>
    <CEffectSet id="Ache@MissileImpactSet">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="Ache@TargetHitCount"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectUserData id="Ache@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="8"/>
        <EffectSuccess value="Ache@Search"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectEnumArea id="Ache@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;neutral,ward,structure,wall,tree,debris,dead,item"/>
        <AreaArray Radius="6.25" Effect="Ache@Missile"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="SCva@HandledDummy"/>
    <CEffectDamage id="AIgd@ImpactEffect" parent="War3_UltraSpellDamage">
        <!--No Double damage, Because main unit damage is already added to the unit's weapon-->
        <ImpactLocation Value="TargetPoint"/>
        <AreaArray Radius="2.1875" Bonus="6" Fraction="1"/>
        <SearchFilters value="-;player,allies,neutral,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectEnumArea id="AIhb@Search" parent="War3_AbilSearch">
        <AreaArray Radius="9.375" Effect="AIhb@Heal"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,dead,item"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIhb@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <VitalArray index="Life">
            <Change value="250"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIcm@BuffControlMagic" parent="War3_ApplyBuff">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="AIcm@NotCreepOrNotMaxCreepLevel"/>
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIfd@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIfd">
        <EffectArray value="AIfd@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIfd@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIfd@BuffFigurine"/>
        <SpawnUnit index="0" value="nrdr"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIff@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIff">
        <EffectArray value="AIff@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIff@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIff@BuffFigurine"/>
        <SpawnUnit index="0" value="nfrl"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIfr@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIfr">
        <EffectArray value="AIfr@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIfr@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIfr@BuffFigurine"/>
        <SpawnUnit index="0" value="ngst"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIfu@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIfu">
        <EffectArray value="AIfu@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIfu@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIfu@BuffFigurine"/>
        <SpawnUnit index="0" value="nba2"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIfh@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIfh">
        <EffectArray value="AIfh@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIfh@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIfh@BuffFigurine"/>
        <SpawnUnit index="0" value="nfel"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIir@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIir">
        <EffectArray value="AIir@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIir@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIir@BuffFigurine"/>
        <SpawnUnit index="0" value="nrvi"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIuw@BuffFigurine" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIuw">
        <EffectArray value="AIuw@CreateUnitA"/>
    </CEffectSet>
    <CEffectCreateUnit id="AIuw@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="AIuw@BuffFigurine"/>
        <SpawnUnit index="0" value="nfra"/>
        <SpawnOffset value="0,-3.25"/>
    </CEffectCreateUnit>
    <CEffectDamage id="AIfw@ImpactEffect" parent="War3_UltraSpellDamage">
        <!--No Double damage, Because main unit damage is already added to the unit's weapon-->
        <ImpactLocation Value="TargetPoint"/>
        <AreaArray Radius="1.5625" Bonus="10" Fraction="1"/>
        <SearchFilters value="-;player,allies,neutral,air,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AIft@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="AIpz@Search" parent="War3_AbilSearch">
        <AreaArray Effect="AIpz@Heal"/>
        <SearchFilters value="-;-"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIpz@Heal">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
    </CEffectModifyUnit>
    <CEffectDamage id="AIdn@ImpactEffect" parent="War3_UltraSpellDamage">
        <!--No Double damage, Because main unit damage is already added to the unit's weapon-->
        <ImpactLocation Value="TargetPoint"/>
        <AreaArray Bonus="5" Fraction="1"/>
        <SearchFilters value="-;player,allies,neutral,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,item"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="APsa@BuffSpeedBonus" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="APsa@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="18.75" Effect="APsa@BuffSpeedBonus"/>
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,debris,Dead,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACnr@BuffAuraRegenLife" parent="War3_AuraBuff">
        <ValidatorArray index="1" value="TargetLifeNotFull"/>
        <ValidatorArray value="NotNegativeLifeRegen"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACnr@Search" parent="War3_AuraSearch" aura="Boar">
        <SearchFilters value="-;ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,Raisable,item"/>
        <AreaArray index="0" Radius="7.8125" Effect="ACnr@BuffAuraRegenLife"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="ACnr@HealTick">
        <VitalArray index="Life">
            <ChangeFraction value="0.01"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="ANre@NeutralRegenMana" parent="War3_AuraBuff">
        <ValidatorArray index="1" value="TargetEnergyNotFull"/>
        <ValidatorArray value="NotNegativeEnergyRegen"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="ANre@ManaTick">
        <VitalArray index="Energy">
            <ChangeFraction value="0.01"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AIgx@BuffAuraRegenLife" parent="War3_AuraBuff">
        <ValidatorArray index="1" value="TargetLifeNotFull"/>
        <ValidatorArray value="NotNegativeLifeRegen"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AIgx@Search" parent="War3_AuraSearch" aura="Boar">
        <SearchFilters value="-;enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,Raisable,item"/>
        <AreaArray index="0" Radius="7.8125" Effect="AIgx@BuffAuraRegenLife"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIgx@HealTick">
        <VitalArray index="Life">
            <ChangeFraction value="0.02"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="ACfb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="0">
            <AccumulatorArray value="ACfb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="Awfb@Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Amount value="0">
            <AccumulatorArray value="Awfb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="AAns"/>
    <CEffectLaunchMissile id="ACps@Missile">
        <LaunchEffect value="ACps@HideCaster"/>
    </CEffectLaunchMissile>
    <CEffectSwitch id="ACps">
        <ValidatorArray value="War3_MindControlTargetBaseFilter"/>
        <ValidatorArray value="ACps@MaxCreepLevel"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <CaseArray Validator="IsHallucination" Effect="Kill"/>
        <CaseDefault value="ACps@Missile"/>
    </CEffectSwitch>
    <CEffectModifyUnit id="ACps@RemoveCasterWhenDone">
        <ValidatorArray value="TargetNotDead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Remove" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ACps@HideCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Hide" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ACps@UnhideCaster">
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Show" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ACps@TransferSelection">
        <ModifyFlags index="Show" value="1"/>
        <SelectTransferUnit Value="Caster"/>
        <SelectTransferFlags index="IncludeControlGroups" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="ACps@MissileImpactSet">
        <EffectArray value="War3_MindControlTargetSet"/>
        <EffectArray value="ACps@TransferSelection"/>
        <EffectArray value="ACps@RemoveCasterWhenDone"/>
        <EffectArray value="ACps@UnhideCaster"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Suhf@BuffUnholyFrenzy" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Suhf@BuffUnholyFrenzyPositive" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="Suhf@BuffUnholyFrenzyNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectSwitch id="Suhf@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="Suhf@BuffUnholyFrenzyNegative"/>
        <CaseDefault value="Suhf@BuffUnholyFrenzyPositive"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="ACuf@BuffUnholyFrenzy" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACuf@BuffUnholyFrenzyPositive" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACuf@BuffUnholyFrenzyNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectSwitch id="ACuf@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="ACuf@BuffUnholyFrenzyNegative"/>
        <CaseDefault value="ACuf@BuffUnholyFrenzyPositive"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="AIuf@BuffUnholyFrenzy" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIuf@BuffUnholyFrenzyPositive" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIuf@BuffUnholyFrenzyNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectSwitch id="AIuf@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="AIuf@BuffUnholyFrenzyNegative"/>
        <CaseDefault value="AIuf@BuffUnholyFrenzyPositive"/>
    </CEffectSwitch>
    <!--Replenish (Mana) Dur=1 HeroDur=1 Buff=Brpm cast=6-->
    <CEffectCreatePersistent id="Arpb@Initialize">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <InitialDelay value="0.0625"/>
        <InitialEffect value="Arpb@RefundMana"/>
        <FinalEffect value="Arpb@Search"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="Arpb@RefundMana">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="30"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Arpb@ChargeCaster">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="-6"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectUserData id="Arpb@MaxUnitChargedToCaster">
        <EditorCategories value="Race:Undead"/>
        <Key value="Charged"/>
        <SourceKey value="Charged"/>
        <ValidateMax value="5"/>
        <EffectSuccess value="Arpb@ChargeCaster"/>
    </CEffectUserData>
    <CEffectEnumArea id="Arpb@Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <LaunchLocation Value="CasterUnit"/>
        <ImpactLocation Value="CasterUnit"/>
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="10.9375" Effect="Arpb@SearchImpactSet"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="Arpb@SearchImpactSet">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
        <ValidatorArray value="Arpb@NotBeingHealedByOthers"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Arpb@BuffReplenish"/>
        <EffectArray value="Arpb@Heal"/>
        <EffectArray value="Arpb@MaxUnitChargedToCaster"/>
    </CEffectSet>
    <CEffectModifyUnit id="Arpb@Heal" parent="War3_Heal">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy">
            <Change value="3"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Amb2">
        <EffectArray value="Amb2@ManaRecharge"/>
        <ValidatorArray value="EnergyNotFull"/>
        <ValidatorArray value="CasterHasEnergy"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectSet>
    <CEffectCreateHealer id="Amb2@ManaRecharge" parent="War3_InstantHeal">
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <PeriodCount value="1"/>
        <RechargeVital value="Energy"/>
        <PeriodicValidator value="CasterHasEnergy"/>
        <RechargeVitalFraction value="1"/>
    </CEffectCreateHealer>
    <CEffectModifyUnit id="AIh3">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <VitalArray index="Life">
            <Change value="250"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIhx">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <VitalArray index="Life">
            <Change value="50"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="SNin">
        <OffsetFacingFallback Value="CasterUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="SNin@ImpactSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="SNin@ImpactSet">
        <EffectArray value="SNin@TreeKiller"/>
        <EffectArray value="SNin@Search"/>
        <EffectArray value="SNin@CreateUnit"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="SNin@TreeKiller" parent="War3_MagicSpellDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Flags index="Kill" value="1"/>
        <AreaArray Radius="3.9062" Fraction="1"/>
        <SearchFilters value="tree;invulnerable"/>
    </CEffectDamage>
    <CEffectCreateUnit id="SNin@CreateUnit" parent="War3_SummonUnit">
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="SNin@BuffInfernal"/>
        <SpawnUnit index="0" value="ninf"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="SNin@BuffInfernal" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="SNin@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="SNin@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="SNin@SearchCursor" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,air,ward,wall,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062"/>
    </CEffectEnumArea>
    <CEffectSet id="SNin@SearchImpactSet">
        <EffectArray value="SNin@Damage"/>
        <EffectArray value="SNin@Stun"/>
        <EffectArray value="SNin@StunHero"/>
    </CEffectSet>
    <CEffectDamage id="SNin@Damage" parent="War3_MagicSpellDamage">
        <Amount value="50"/>
        <Type value="Force"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="SNin@Stun">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <Behavior value="BPSE"/>
        <Duration value="4"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="SNin@StunHero">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <Behavior value="BPSE"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEsb@BuffStarfallDrain" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="AEsb@DamageDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AEsb@Damage"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AEsb@Initialize">
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AEsb@Channel"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AEsb@Channel">
        <WhichLocation Value="CasterUnit"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="30"/>
        <PeriodicEffectArray value="AEsb@Search"/>
        <PeriodicPeriodArray value="2"/>
        <InitialEffect value="AEsb@Search"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AEsb@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,ward,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="14.0625" Effect="AEsb@BuffStarfallDrain"/>
    </CEffectEnumArea>
    <CEffectDamage id="AEsb@Damage" parent="War3_UltraSpellDamage">
        <AttributeFactor index="Structure" value="-0.65"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANrn@ResponseDelay">
        <InitialEffect value="War3_Reincarnating"/>
        <ExpireEffect value="ANrn"/>
    </CEffectCreatePersistent>
    <CEffectRemoveBehavior id="ANrn@RemoveBuff">
        <BehaviorLink value="ANrn"/>
    </CEffectRemoveBehavior>
    <CEffectCreatePersistent id="ANrn">
        <ExpireDelay value="0">
            <AccumulatorArray value="ANrn@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="ANrn@ReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialEffect value="ANrn@RemoveBuff"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="ANrn@Revive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANrn@Heal">
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="ANrn@ReviveSet">
        <EffectArray value="ANrn@Revive"/>
        <EffectArray value="ANrn@Heal"/>
    </CEffectSet>
    <CEffectMorph id="AEIl@AutoUnmorph">
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="IgnoreMorphing" value="1"/>
        <MorphUnit value="Eill"/>
    </CEffectMorph>
    <CEffectApplyBehavior id="AEIl@UnmorphDelay">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectMorph id="AEvi@AutoUnmorph">
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="IgnoreMorphing" value="1"/>
        <MorphUnit value="Eevi"/>
    </CEffectMorph>
    <CEffectApplyBehavior id="AEvi@UnmorphDelay">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="SNeq@BuffEarthquake" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="SNeq@BuffEarthquakeAoe" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="SNeq">
        <PeriodicEffectArray value="SNeq@Search"/>
        <PeriodicPeriodArray value="1"/>
        <InitialDelay value="0.5"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="25"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="SNeq@Search" parent="War3_AbilSearch">
        <AreaArray Radius="3.9062" Effect="SNeq@Switch"/>
        <SearchFilters value="-;air,ward,wall,RawResource,Missile,Dead,Hidden,invulnerable,Decaying,item"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
    </CEffectEnumArea>
    <CEffectSwitch id="SNeq@Switch">
        <CaseArray Validator="War3_NotNonBuildingUnit" Effect="SNeq@DamageImpactSet"/>
        <CaseDefault value="SNeq@BuffEarthquake"/>
    </CEffectSwitch>
    <CEffectSet id="SNeq@DamageImpactSet">
        <EffectArray value="SNeq@BuffEarthquakeAoe"/>
        <EffectArray value="SNeq@Damage"/>
    </CEffectSet>
    <CEffectDamage id="SNeq@Damage" parent="War3_UltraSpellDamage">
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="SNdd@BuffDeathAndDecayAoe" parent="War3_ApplyBuff"/>
    <CEffectCreatePersistent id="SNdd">
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="35"/>
        <PeriodicEffectArray value="SNdd@Search"/>
        <PeriodicPeriodArray value="1"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
        <InitialEffect value="SNdd@InitialSet"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="SNdd@Search" parent="War3_AbilSearch">
        <AreaArray Radius="4.6875" Effect="SNdd@BuffDeathAndDecayAoe"/>
        <SearchFilters value="-;wall,tree,debris,Dead,invulnerable,Decaying,item"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
    </CEffectEnumArea>
    <CEffectDamage id="SNdd@Damage" parent="War3_UltraSpellDamage">
        <VitalFractionMax index="Life" value="0.04"/>
    </CEffectDamage>
    <CEffectDamage id="SNdd@TreeKiller" parent="War3_UltraSpellDamage">
        <AreaArray Radius="4.6875" Validator="IsTreeWar3"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectSet id="SNdd@InitialSet">
        <EffectArray value="War3_RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="SNdd@TreeKiller"/>
        <EffectArray value="AUdc@Search"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Arsg@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectSet id="Arsg@SpawnSet">
        <EffectArray value="Arsg@AddTracked"/>
        <EffectArray value="Arsg@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="Arsg">
        <EffectArray value="Arsg@UniqueSummonTracker"/>
        <EffectArray value="Arsg@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="Arsg@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="Arsg@SpawnSet"/>
        <SpawnUnit index="0" value="ngzc"/>
        <SpawnUnit value="ngzd"/>
        <SpawnUnit value="ngza"/>
        <SpawnUnit value="ngz4"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="Arsg@AddTracked">
        <BehaviorLink value="Arsg@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="Arsg@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ANsb@Damage" parent="War3_MagicSpellDamage">
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ANsb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectLaunchMissile id="ANsb@Missile"/>
    <CEffectApplyBehavior id="ANsb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectSet id="ANsb@MissileImpactSet">
        <EffectArray value="ANsb@Damage"/>
        <EffectArray value="ANsb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectUserData id="ANhw@HealingLoss">
        <Key value="HealingLoss"/>
        <Amount value="0.75"/>
        <SourceKey value="HealingLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="ANhw@MainImpact">
        <EffectArray value="ANhw@MainHealing"/>
        <EffectArray value="ANhw@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="ANhw@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;neutral,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="ANhw@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSLife"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="ANhw@SecondaryImpact">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="ANhw@JumpTargetFilters"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EffectArray value="ANhw@HealingLoss"/>
        <EffectArray value="ANhw@SecondaryHealing"/>
        <EffectArray value="ANhw@TargetHitCount"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANhw@MainDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ANhw@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="ANhw@SetCanJumpToBenign"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANhw@SecondaryDelay">
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ANhw@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="ANhw@SetCanJumpToBenign">
        <!--Can always hit benign, it's a positive ability-->
        <!--ValidatorArray value="TargetIsBenign"/-->
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectModifyUnit id="ANhw@MainHealing" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ANhw@Damage"/>
            </Change>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANhw@SecondaryHealing" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ANhw@Damage"/>
                <AccumulatorArray value="War3_HealingLoss"/>
            </Change>
        </VitalArray>
        <LaunchUnit Effect="ANhw@SecondaryDelay" Value="Target"/>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectUserData id="ANhw@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="ANhw@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="ANhw@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="ANhx@BuffHex" parent="War3_ApplyBuff"/>
    <CEffectSet id="ANhx">
        <ValidatorArray value="ANhx@TargetChecks"/>
        <ValidatorArray value="War3_TargetNotHaveGhostAbility"/>
        <EffectArray value="War3_RemovePolymorphBuffs"/>
        <EffectArray value="War3_InstantUnburrow"/>
        <EffectArray value="DevourInstantKillCargoAdev"/>
        <EffectArray value="ANhx@BuffHex"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AOls@AttackTargetMarker"/>
    <CEffectUserData id="AOls@ClearRecordedDamage">
        <ValidatorArray value="AOls@ClearRecordedDamageTargetFilters"/>
        <Key value="DamageLeeched"/>
        <Amount value="0"/>
        <SourceKey value="DamageLeeched"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectUserData id="AOls@LocustRecordDamage">
        <ValidatorArray value="AOls@LocustRecordDamageTargetFilters"/>
        <Key value="DamageLeeched"/>
        <Amount value="0">
            <AccumulatorArray value="AOls@DamageRecordFormular"/>
        </Amount>
        <SourceKey value="DamageLeeched"/>
    </CEffectUserData>
    <CEffectModifyUnit id="AOls@LocustHeal" parent="War3_Heal">
        <ValidatorArray index="0" removed="1"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AOls@RecordedDamage"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AOls@LocustReturnedRemove">
        <ValidatorArray value="AOls@SwarmFinished"/>
        <ImpactLocation Value="SourceUnit"/>
        <Death value="Remove"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectCancelOrder id="AOls@OrderReset">
        <WhichUnit Value="Source"/>
        <Flags index="Queued" value="1"/>
    </CEffectCancelOrder>
    <CEffectCreatePersistent id="AOls@ThinkCP">
        <Flags index="EffectSuccess" value="1"/>
        <PeriodicEffectArray value="AOls@ThinkReturnedSet"/>
        <PeriodicEffectArray value="AOls@ThinkKillSuicide"/>
        <PeriodicEffectArray value="AOls@ThinkRecall"/>
        <PeriodicEffectArray value="AOls@ThinkPickTargetSet"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodCount value="4"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AOls@ThinkReturnedSet">
        <ValidatorArray value="AOls@LocustReturned"/>
        <EffectArray value="AOls@LocustHeal"/>
        <EffectArray value="AOls@ClearRecordedDamage"/>
        <EffectArray value="AOls@LocustReturnedRemove"/>
        <EffectArray value="AOls@OrderReset"/>
    </CEffectSet>
    <CEffectIssueOrder id="AOls@ThinkRecall">
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <Target Value="CasterUnit"/>
        <ValidatorArray value="AOls@LocustRecallValidators"/>
    </CEffectIssueOrder>
    <CEffectRandomPointInCircle id="AOls@SwarmRandomPoint">
        <Effect value="AOls@OrderMove"/>
        <Radius value="12.5"/>
    </CEffectRandomPointInCircle>
    <CEffectSet id="AOls@AttackOrderSet">
        <ValidatorArray value="AOls@MaxLocustPerTarget"/>
        <ValidatorArray value="AOls@LocustCanAttackThisTarget"/>
        <ValidatorArray value="AOls@InLocustAcquireRange"/>
        <EffectArray value="AOls@OrderAttackOnce"/>
        <EffectArray value="AOls@AttackTargetMarker"/>
    </CEffectSet>
    <CEffectIssueOrder id="AOls@OrderAttackOnce">
        <WhichUnit Value="Source"/>
        <Abil value="Aatk"/>
        <CmdFlags index="AttackOnce" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="AOls@OrderMove">
        <WhichUnit Value="Source"/>
        <Abil value="Amov"/>
        <CmdFlags index="Queued" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetPoint"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="AOls@LocustScan">
        <SearchFilters value="-;self,player,allies,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
        <TargetSorts>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="12.5" Effect="AOls@AttackOrderSet"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOls@ThinkKillSuicide">
        <ValidatorArray value="AOls@LocustSuicideValidators"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectSet id="AOls@ThinkPickTargetSet">
        <ValidatorArray value="TargetHasNoOrders"/>
        <EffectArray value="AOls@LocustScan"/>
        <EffectArray value="AOls@SwarmRandomPoint"/>
    </CEffectSet>
    <CEffectCreateUnit id="AOls@CreateUnit" parent="War3_SummonUnit">
        <SpawnUnit index="0" value="uloc"/>
        <SpawnEffect value="AOls@LocustSpawnSet"/>
    </CEffectCreateUnit>
    <CEffectSet id="AOls">
        <EffectArray value="AOls@CreateUnitCP"/>
        <EffectArray value="AOls@Duration"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOls@CreateUnitCP">
        <WhichLocation Value="CasterUnit"/>
        <PeriodCount value="0">
            <AccumulatorArray value="AOls@NumberOfSwarmUnits"/>
        </PeriodCount>
        <PeriodicValidator value="CasterNotDead"/>
        <PeriodicEffectArray value="AOls@CreateUnit"/>
        <PeriodicPeriodArray value="0.2"/>
        <Flags index="OrphanParams" value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="AOls@Duration">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOls@LocustSpawnSet">
        <EffectArray value="AOls@ClearRecordedDamage"/>
        <EffectArray value="AOls@BuffLocustThink"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AOls@BuffLocustThink"/>
    <CEffectApplyBehavior id="AOr2@BuffAuraEndurance" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="AOr2@Search" parent="War3_AuraSearch" aura="AOr2@BuffAuraEndurance"/>
    <CEffectCreatePersistent id="AOr3@ResponseDelay">
        <InitialEffect value="War3_Reincarnating"/>
        <ExpireEffect value="AOr3"/>
    </CEffectCreatePersistent>
    <CEffectRemoveBehavior id="AOr3@RemoveBuff">
        <BehaviorLink value="AOr3"/>
    </CEffectRemoveBehavior>
    <CEffectCreatePersistent id="AOr3">
        <ExpireDelay value="0">
            <AccumulatorArray value="AOr3@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="AOr3@ReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialEffect value="AOr3@RemoveBuff"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="AOr3@Revive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AOr3@Heal">
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="AOr3@ReviveSet">
        <EffectArray value="AOr3@Revive"/>
        <EffectArray value="AOr3@Heal"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOs2@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="AOs2@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AOs2@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="AOs2@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="AOs2@Search" Parent="War3_AbilSearch">
        <AreaArray RectangleWidth="4.6875" Effect="AOs2@Damage"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOs2@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="AOs2@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectEnumArea id="AOw2@Search">
        <SearchFilters value="-;player,allies,neutral,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="AOw2@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectDamage id="AOw2@Damage" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="AOw2@Damage"/>
        </Amount>
        <Type value="Sonic"/>
    </CEffectDamage>
    <CEffectSet id="AOw2@ImpactSet">
        <EffectArray value="AOw2@BuffPause"/>
        <EffectArray value="AOw2@Damage"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AOw2@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectSet id="Andm">
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="Andm@EnemySummonedDamage"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Andm@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="ACdm">
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="ACdm@EnemySummonedDamage"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ACdm@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="ACd2">
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveEnemyPositiveMagicBuffsOrNonEnemyNegativeMagicBuffs"/>
        <EffectArray value="ACd2@EnemySummonedDamage"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ACd2@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="ANav">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="ANav@BuffAvatar"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANav@BuffAvatar" parent="War3_ApplyBuff"/>
    <CEffectRemoveBehavior id="ANav@Removing">
        <BehaviorLink value="ANav@BuffAvatar"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="ACam@BuffAntiMagicShell" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACba@BuffAuraBrilliance" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="ACba@Search" parent="War3_AuraSearch" aura="ACba@BuffAuraBrilliance"/>
    <CEffectEnumArea id="ACav@Search" parent="War3_AuraSearch" aura="ACav@BuffAuraDevotion"/>
    <CEffectApplyBehavior id="ACav@BuffAuraDevotion" parent="War3_AuraBuff"/>
    <CEffectApplyBehavior id="SCae@BuffAuraEndurance" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="SCae@Search" parent="War3_AuraSearch" aura="SCae@BuffAuraEndurance">
        <SearchFilters value="-;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ACat@Search" parent="War3_AuraSearch" aura="ACat@BuffAuraTrueshot"/>
    <CEffectApplyBehavior id="ACat@BuffAuraTrueshot" parent="War3_AuraBuff">
        <ValidatorArray value="TargetHasRangedWeapon"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACbn@BuffBanishPositive" parent="War3_ApplyBuff"/>
    <CEffectSwitch id="ACbn@BuffSwitch">
        <CaseArray Validator="TargetIsEnemy" Effect="ACbn@BuffBanishNegative"/>
        <CaseDefault value="ACbn@BuffBanishPositive"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="ACbn@BuffBanishNegative" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACbh@ImpactEffect">
        <EffectArray value="ACbh@StunDurationHero"/>
        <EffectArray value="ACbh@StunDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACbh@StunDuration" parent="War3_Dur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACbh@StunDurationHero" parent="War3_HeroDur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANbh@ImpactEffect">
        <EffectArray value="ANbh@StunDurationHero"/>
        <EffectArray value="ANbh@StunDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANbh@StunDuration" parent="War3_Dur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANbh@StunDurationHero" parent="War3_HeroDur" buff="BPSE">
        <Duration value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANb2@ImpactEffect">
        <EffectArray value="ANb2@StunDurationHero"/>
        <EffectArray value="ANb2@StunDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANb2@StunDuration" parent="War3_Dur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANb2@StunDurationHero" parent="War3_HeroDur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACbk@BuffDarkMinion" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="ACbk@CreateUnit" parent="War3_SummonUnit">
        <SpawnUnit index="0" value="ndr1"/>
        <SpawnUnit value="ndr2"/>
        <SpawnUnit value="ndr3"/>
    </CEffectCreateUnit>
    <CEffectSet id="ACbk@DeathSet">
        <ValidatorArray value="Raiseable"/>
        <EffectArray value="ACbk@HandleCorpse"/>
        <EffectArray value="ACbk@CreateUnit"/>
    </CEffectSet>
    <CEffectModifyUnit id="ACbk@HandleCorpse">
        <ModifyFlags index="Unraisable" value="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="ACbk@BuffBlackArrow" parent="War3_ApplyBuff">
        <ValidatorArray value="DeathTimeGT0"/>
        <ValidatorArray value="NoBuffDarkMinionAnyBNdm"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="ACbz@DamageDelay">
        <ExpireDelay value="1"/>
        <ExpireEffect value="ACbz@Search"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACbz@Waves">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <!--InitialEffect value="ACbz@DamageDelay"/-->
        <PeriodCount value="0">
            <AccumulatorArray value="ACbz@NumberofWaves"/>
            <AccumulatorArray value="-1"/>
        </PeriodCount>
        <PeriodicEffectArray value="ACbz@DamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <ExpireDelay value="1"/>
        <InitialEffect value="ACbz@DamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACbz@Damage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.5"/>
        <Amount value="0">
            <AccumulatorArray value="ACbz@Damage"/>
        </Amount>
        <Type value="Cold"/>
        <Death value="Freeze"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACbz@BuffBlizzard"/>
    <CEffectSet id="ACbz@ImpactSet">
        <EffectArray value="ACbz@Damage"/>
        <EffectArray value="ACbz@BuffBlizzard"/>
    </CEffectSet>
    <CEffectEnumArea id="ACbz@Search">
        <SearchFilters value="-;ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="ACbz@ImpactSet"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACbl@BuffBloodlust" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACbb@BuffBloodlust" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACcn">
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="ACcn@Heal"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectCreateHealer id="ACcn@Heal">
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodicPeriod value="1"/>
        <RechargeVitalRate value="10"/>
        <PeriodCount value="33"/>
        <FinalEffect value="ForceRemoveSource"/>
    </CEffectCreateHealer>
    <CEffectCreatePersistent id="ACca@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACca@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACca@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACca@Search"/>
        <SearchMaxCount value="5"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACca@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="1.5625" RadiusBonus="0.2683" Effect="ACca@Damage"/>
        <SearchFilters value="-;player,allies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACca@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACca@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACc3@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACc3@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACc3@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACc3@Search"/>
        <SearchMaxCount value="5"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACc3@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="1.5625" RadiusBonus="0.2683" Effect="ACc3@Damage"/>
        <SearchFilters value="-;self,player,allies,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACc3@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACc3@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectUserData id="ACcl@DamageLoss">
        <Key value="DamageLoss"/>
        <Amount value="0.75"/>
        <SourceKey value="DamageLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="ACcl@MainImpact">
        <CanBeBlocked value="1"/>
        <EffectArray value="ACcl@MainDamage"/>
        <EffectArray value="ACcl@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="ACcl@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="ACcl@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="ACcl@SecondaryImpact">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="ACcl@JumpTargetFilters"/>
        <EffectArray value="ACcl@DamageLoss"/>
        <EffectArray value="ACcl@SecondaryDamage"/>
        <EffectArray value="ACcl@TargetHitCount"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ACcl@MainDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ACcl@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="ACcl@SetCanJumpToBenign"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACcl@SecondaryDelay">
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ACcl@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="ACcl@SetCanJumpToBenign">
        <ValidatorArray value="TargetIsBenign"/>
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectDamage id="ACcl@MainDamage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="ACcl@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ACcl@SecondaryDamage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="ACcl@Damage"/>
        </Amount>
        <Fraction value="0">
            <AccumulatorArray value="War3_DamageLoss"/>
        </Fraction>
        <LaunchLocation Effect="ACcl@SecondaryDelay" Value="TargetUnitOrPoint"/>
    </CEffectDamage>
    <CEffectUserData id="ACcl@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="ACcl@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="ACcl@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="ACcr@BuffCripple" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACcs@BuffCurse" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Acny@BuffCycloneTwo" parent="War3_ApplyBuff"/>
    <CEffectSet id="Acny">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="Acny@BuffCycloneTwo"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACcy@BuffCycloneTwo" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACcy">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="ACcy@BuffCycloneTwo"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="SCc1@BuffCycloneTwo" parent="War3_ApplyBuff"/>
    <CEffectSet id="SCc1">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="SCc1@BuffCycloneTwo"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ACdc@Missile">
        <ValidatorArray value="ACdc@TargetFilter"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ACdc@MissileImpactSet">
        <EffectArray value="ACdc@Heal"/>
        <EffectArray value="ACdc@Damage"/>
        <ValidatorArray value="ACdc@TargetFilter"/>
    </CEffectSet>
    <CEffectModifyUnit id="ACdc@Heal" parent="War3_Heal">
        <ValidatorArray index="0" value="ACdc@HealTarget"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ACdc@Heal"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="ACdc@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="ACdc@DamageTarget"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <Amount value="0">
            <AccumulatorArray value="ACdc@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
        <Type value="Death"/>
    </CEffectDamage>
    <CEffectEnumArea id="Adsm@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;wall,Missile,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="Adsm@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Adsm@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="Adsm@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="Adsm@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="200"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectSet id="ACds">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="ACds@BuffDivineShield"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACds@BuffDivineShield" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANen@BuffEnsnareAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ANen@BuffEnsnareGround" parent="War3_ApplyBuff"/>
    <CEffectLaunchMissile id="ANen@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANen@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="ANen@Switch"/>
    </CEffectSet>
    <CEffectSwitch id="ANen@Switch">
        <CaseArray Validator="AirUnit" Effect="ANen@BuffEnsnareAir"/>
        <CaseDefault value="ANen@BuffEnsnareGround"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="ACen@BuffEnsnareAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACen@BuffEnsnareGround" parent="War3_ApplyBuff"/>
    <CEffectLaunchMissile id="ACen@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ACen@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="ACen@Switch"/>
    </CEffectSet>
    <CEffectSwitch id="ACen@Switch">
        <CaseArray Validator="AirUnit" Effect="ACen@BuffEnsnareAir"/>
        <CaseDefault value="ACen@BuffEnsnareGround"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="Aenr@BuffEntanglingRoots" parent="War3_ApplyBuff"/>
    <CEffectSet id="Aenr">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <!--EffectArray value="War3_ChannelBreaker"/-->
        <EffectArray value="Aenr@BuffEntanglingRoots"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Aenr@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Type value="Plant"/>
        <Amount value="0">
            <AccumulatorArray value="Aenr@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="Aenw@BuffEntanglingRoots" parent="War3_ApplyBuff"/>
    <CEffectSet id="Aenw">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <!--EffectArray value="War3_ChannelBreaker"/-->
        <EffectArray value="Aenw@BuffEntanglingRoots"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="Aenw@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Type value="Plant"/>
        <Amount value="0">
            <AccumulatorArray value="Aenw@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACff@BuffFaerieFire" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="Afbb@DamageUnit" parent="War3_SpellDamage">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <VitalBonus index="Energy" value="20"/>
    </CEffectDamage>
    <CEffectDamage id="Afbb@DamageHero" parent="War3_SpellDamage">
        <ValidatorArray value="Hero"/>
        <VitalBonus index="Energy" value="4"/>
        <Amount value="6"/>
    </CEffectDamage>
    <CEffectModifyUnit id="Afbb@ManaLoseUnit">
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-20"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="Afbb@ManaLoseHero">
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <VitalArray index="Energy">
            <Change value="-6"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="Afbb@ImpactEffect">
        <EffectArray value="Afbb@DamageUnit"/>
        <EffectArray value="Afbb@DamageHero"/>
        <EffectArray value="Afbb@ManaLoseUnit"/>
        <EffectArray value="Afbb@ManaLoseHero"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACsf@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACsf@SpawnSet">
        <EffectArray value="ACsf@AddTracked"/>
        <EffectArray value="ACsf@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="ACsf">
        <EffectArray value="ACsf@UniqueSummonTracker"/>
        <EffectArray value="ACsf@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="ACsf@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ACsf@SpawnSet"/>
        <SpawnUnit index="0" value="osw1"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="ACsf@AddTracked">
        <BehaviorLink value="ACsf@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="ACsf@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACs9@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACs9@SpawnSet">
        <EffectArray value="ACs9@AddTracked"/>
        <EffectArray value="ACs9@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="ACs9">
        <EffectArray value="ACs9@UniqueSummonTracker"/>
        <EffectArray value="ACs9@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="ACs9@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ACs9@SpawnSet"/>
        <SpawnUnit index="0" value="nspp"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="ACs9@AddTracked">
        <BehaviorLink value="ACs9@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="ACs9@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACs8@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACs8@SpawnSet">
        <EffectArray value="ACs8@AddTracked"/>
        <EffectArray value="ACs8@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="ACs8">
        <EffectArray value="ACs8@UniqueSummonTracker"/>
        <EffectArray value="ACs8@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="ACs8@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ACs8@SpawnSet"/>
        <SpawnUnit index="0" value="nsw1"/>
        <SpawnUnit value="nsw2"/>
        <SpawnUnit value="nsw3"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="ACs8@AddTracked">
        <BehaviorLink value="ACs8@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="ACs8@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACs7@BuffSpiritWolf" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACs7@SpawnSet">
        <EffectArray value="ACs7@AddTracked"/>
        <EffectArray value="ACs7@BuffSpiritWolf"/>
    </CEffectSet>
    <CEffectSet id="ACs7">
        <EffectArray value="ACs7@UniqueSummonTracker"/>
        <EffectArray value="ACs7@CreateUnit"/>
    </CEffectSet>
    <CEffectCreateUnit id="ACs7@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ACs7@SpawnSet"/>
        <SpawnUnit index="0" value="osw1"/>
        <SpawnUnit value="osw2"/>
        <SpawnUnit value="osw3"/>
        <SpawnCount value="2"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectAddTrackedUnit id="ACs7@AddTracked">
        <BehaviorLink value="ACs7@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectApplyBehavior id="ACs7@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACfs@BuffFlameStrike" parent="War3_ApplyBuff"/>
    <CEffectDamage id="ACfs@TreeKiller" parent="War3_MagicSpellDamage">
        <Amount value="500"/>
        <ValidatorArray value="IsTreeOrDebrisWar3"/>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACfs">
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="1.3281"/>
        <ExpireEffect value="ACfs@ActualEffect"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACfs@ActualEffect">
        <InitialEffect value="ACfs@FullDamageSearch"/>
        <ExpireEffect value="ACfs@Subsides"/>
        <PeriodCount value="8"/>
        <PeriodicEffectArray value="ACfs@FullDamageSearch"/>
        <PeriodicPeriodArray value="0.33"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACfs@FullDamage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="ACfs@FullDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="ACfs@HalfDamage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="ACfs@HalfDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectEnumArea id="ACfs@FullDamageSearch">
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.5156" Effect="ACfs@FullDamageSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ACfs@HalfDamageSearch">
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.5156" Effect="ACfs@HalfDamageSet"/>
    </CEffectEnumArea>
    <CEffectSet id="ACfs@FullDamageSet">
        <EffectArray value="ACfs@TreeKiller"/>
        <!--EffectArray value="ACfs@TreeKiller"/-->
        <EffectArray value="ACfs@FullDamage"/>
        <EffectArray value="ACfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectSet id="ACfs@HalfDamageSet">
        <EffectArray value="ACfs@HalfDamage"/>
        <EffectArray value="ACfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ACfs@Subsides">
        <PeriodCount value="6"/>
        <PeriodicEffectArray value="ACfs@HalfDamageSearch"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="ANfs@BuffFlameStrike" parent="War3_ApplyBuff"/>
    <CEffectDamage id="ANfs@TreeKiller" parent="War3_MagicSpellDamage">
        <Amount value="500"/>
        <ValidatorArray value="IsTreeOrDebrisWar3"/>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANfs">
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="1.3281"/>
        <ExpireEffect value="ANfs@ActualEffect"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANfs@ActualEffect">
        <InitialEffect value="ANfs@FullDamageSearch"/>
        <ExpireEffect value="ANfs@Subsides"/>
        <PeriodCount value="8"/>
        <PeriodicEffectArray value="ANfs@FullDamageSearch"/>
        <PeriodicPeriodArray value="0.33"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANfs@FullDamage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="ANfs@FullDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectDamage id="ANfs@HalfDamage" parent="War3_MagicSpellDamage">
        <AttributeFactor index="Structure" value="-0.25"/>
        <Amount value="0">
            <AccumulatorArray value="ANfs@HalfDamage"/>
        </Amount>
        <Death value="Fire"/>
    </CEffectDamage>
    <CEffectEnumArea id="ANfs@FullDamageSearch">
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="ANfs@FullDamageSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANfs@HalfDamageSearch">
        <SearchFilters value="-;air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <AreaArray Radius="3.9062" Effect="ANfs@HalfDamageSet"/>
    </CEffectEnumArea>
    <CEffectSet id="ANfs@FullDamageSet">
        <EffectArray value="ANfs@TreeKiller"/>
        <!--EffectArray value="ANfs@TreeKiller"/-->
        <EffectArray value="ANfs@FullDamage"/>
        <EffectArray value="ANfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectSet id="ANfs@HalfDamageSet">
        <EffectArray value="ANfs@HalfDamage"/>
        <EffectArray value="ANfs@BuffFlameStrike"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANfs@Subsides">
        <PeriodCount value="6"/>
        <PeriodicEffectArray value="ANfs@HalfDamageSearch"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ACfr@SearchImpactSet">
        <EffectArray value="ACfr@TreeKiller"/>
        <EffectArray value="ACfr@UnitCount"/>
    </CEffectSet>
    <CEffectUserData id="ACfr@UnitCount">
        <Key value="UnitCount"/>
        <SourceKey value="UnitCount"/>
        <ValidateMax value="0">
            <AccumulatorArray value="ACfr@UnitCount"/>
        </ValidateMax>
        <EffectSuccess value="ACfr@CreateUnit"/>
    </CEffectUserData>
    <CEffectCreateUnit id="ACfr@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <SpawnEffect value="ACfr@BuffForceOfNature"/>
        <SpawnUnit index="0" value="efon"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="ACfr@1Search">
        <ImpactLocation Value="TargetPoint"/>
        <SearchFilters value="tree,Visible;air,ward,structure,wall,debris,Hidden,invulnerable,ground,item"/>
        <AreaArray Effect="ACfr@SearchImpactSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Targettree"/>
        <MinCount value="1"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="ACfr@Radius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectDamage id="ACfr@TreeKiller">
        <ValidatorArray value="IsTreeWar3"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACfr@BuffForceOfNature" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACfa@BuffFrostArmor" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACfa@SlowDuration" parent="War3_ApplyBuff">
        <Behavior value="Bfro"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACf2@BuffFrostArmor" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACf2@SlowDuration" parent="War3_ApplyBuff">
        <Behavior value="Bfro"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACfu@BuffFrostArmor" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACfu@SlowDuration" parent="War3_ApplyBuff">
        <Behavior value="Bfro"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACfn@BuffFrost" parent="War3_ApplyBuff"/>
    <CEffectDamage id="ACfn@SpecialTargetDamage" parent="War3_MagicSpellDamage">
        <Type value="Cold"/>
        <Amount value="0">
            <AccumulatorArray value="ACfn@SpecialTargetDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="ACfn@AreaTargetDamage" parent="War3_MagicSpellDamage">
        <Type value="Cold"/>
        <Amount value="0">
            <AccumulatorArray value="ACfn@AreaTargetDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ACfn">
        <EffectArray value="ACfn@SpecialTargetDamage"/>
        <EffectArray value="ACfn@Search"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectEnumArea id="ACfn@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="3.125" Effect="ACfn@SearchImpact"/>
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectSet id="ACfn@SearchImpact">
        <EffectArray value="ACfn@AreaTargetDamage"/>
        <EffectArray value="ACfn@BuffFrost"/>
        <ValidatorArray value="ACfn@NeutralCheck"/>
    </CEffectSet>
    <CEffectDamage id="ACcb@Damage" parent="War3_MagicSpellDamage">
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACcb@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACcb@BuffPause" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACcb@MissileImpactSet">
        <EffectArray value="ACcb@Damage"/>
        <EffectArray value="ACcb@BuffPause"/>
        <ValidatorArray value="TargetIsVisible"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AChw@BuffHealingWard" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="AChw@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AChw@BuffHealingWard"/>
        <SpawnUnit index="0" value="ohwd"/>
    </CEffectCreateUnit>
    <CEffectUserData id="AChv@HealingLoss">
        <Key value="HealingLoss"/>
        <Amount value="0.75"/>
        <SourceKey value="HealingLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="AChv@MainImpact">
        <EffectArray value="AChv@MainHealing"/>
        <EffectArray value="AChv@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="AChv@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;neutral,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="AChv@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSLife"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="AChv@SecondaryImpact">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="AChv@JumpTargetFilters"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EffectArray value="AChv@HealingLoss"/>
        <EffectArray value="AChv@SecondaryHealing"/>
        <EffectArray value="AChv@TargetHitCount"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AChv@MainDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AChv@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="AChv@SetCanJumpToBenign"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AChv@SecondaryDelay">
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AChv@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="AChv@SetCanJumpToBenign">
        <!--Can always hit benign, it's a positive ability-->
        <!--ValidatorArray value="TargetIsBenign"/-->
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectModifyUnit id="AChv@MainHealing" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AChv@Damage"/>
            </Change>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AChv@SecondaryHealing" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AChv@Damage"/>
                <AccumulatorArray value="War3_HealingLoss"/>
            </Change>
        </VitalArray>
        <LaunchUnit Effect="AChv@SecondaryDelay" Value="Target"/>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectUserData id="AChv@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="AChv@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="AChv@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectModifyUnit id="ACim@InitManaGain">
        <VitalArray index="Energy">
            <Change value="10"/>
        </VitalArray>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="ACim@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Passive,immunity,Decaying,item"/>
        <AreaArray Radius="3.4375" Effect="ACim@DamagePerSecond"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACim@DamagePerSecond" parent="War3_MagicSpellDamage">
        <Amount value="0">
            <AccumulatorArray value="ACim@DamagePerSecond"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ACmp@MissileImpactSet"/>
    <CEffectApplyBehavior id="ACmp@BuffImpale" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACmp@Stun"/>
    <CEffectDamage id="ACmp@Damage" parent="War3_MagicSpellDamage">
        <Type value="Force"/>
        <Amount value="0">
            <AccumulatorArray value="ACmp@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACmp@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACmp@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-13.2812,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACmp@Missile" parent="War3_AbilMissile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACmp@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACmp@Search" parent="War3_AbilSearch">
        <AreaArray Radius="3.125" RectangleWidth="3.9062" Effect="ACmp@SearchImpactSet"/>
        <SearchFilters value="-;player,allies,air,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectSet id="ACmp@SearchImpactSet">
        <EffectArray value="ACmp@BuffImpale"/>
        <EffectArray value="ACmp@Stun"/>
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACif@BuffInnerFire" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACls@BuffLightningShield" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACls@Search" parent="War3_AbilSearchRadiusExt">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ExcludeArray Value="Source"/>
        <SearchFilters value="-;air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Passive,Decaying,item"/>
        <AreaArray Radius="2.5" Effect="ACls@DamagePerSecond"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACls@DamagePerSecond" parent="War3_MagicSpellDamage">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="0"/>
        <Amount value="20"/>
        <ValidatorArray value="TargetIsNotBenign"/>
        <Type value="Lightning"/>
    </CEffectDamage>
    <CEffectSet id="ACpy">
        <ValidatorArray value="ACpy@TargetChecks"/>
        <ValidatorArray value="War3_TargetNotHaveGhostAbility"/>
        <EffectArray value="War3_RemovePolymorphBuffs"/>
        <EffectArray value="War3_InstantUnburrow"/>
        <EffectArray value="DevourInstantKillCargoAdev"/>
        <EffectArray value="ACpy@BuffPolymorph"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACpy@BuffPolymorph" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACpu@BuffPurge" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACpu@Initialize">
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
        <ValidatorArray value="IsNonBuildingUnitOrHasOwl"/>
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="ACpu@EnemySummonedDamage"/>
        <EffectArray value="ACpu@EnemyBuffSet"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectSet id="ACpu@EnemyBuffSet">
        <EffectArray value="ACpu@BuffPurge"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectSet>
    <CEffectUserData id="ACpu@MovementSpeedUpdate">
        <Key value="SpeedFactor"/>
        <Amount value="0.25"/>
        <SourceKey value="SpeedFactor"/>
        <SourceFailBackValue value="-1"/>
    </CEffectUserData>
    <CEffectDamage id="ACpu@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="400"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACrd@BuffRaiseDead" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACrd">
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
        <EffectArray value="War3_InstantUnloadFromNotHiddenTransport"/>
        <EffectArray value="War3_UseGraveyardCorpse"/>
        <EffectArray value="ACrd@UniqueSummonTracker"/>
        <EffectArray value="ACrd@CreateUnitA"/>
        <EffectArray value="ACrd@CreateUnitB"/>
        <EffectArray value="ForceRemoveTarget"/>
    </CEffectSet>
    <CEffectCreateUnit id="ACrd@CreateUnitA" parent="War3_SummonUnit">
        <SpawnEffect value="ACrd@SpawnSet"/>
        <SpawnUnit index="0" value="uske"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ACrd@CreateUnitB" parent="War3_SummonUnit">
        <SpawnEffect value="ACrd@SpawnSet"/>
        <SpawnUnit index="0" value="uske"/>
    </CEffectCreateUnit>
    <CEffectSet id="ACrd@SpawnSet">
        <EffectArray value="ACrd@AddTracked"/>
        <EffectArray value="ACrd@BuffRaiseDead"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACrd@UniqueSummonTracker" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectAddTrackedUnit id="ACrd@AddTracked">
        <BehaviorLink value="ACrd@UniqueSummonTracker"/>
    </CEffectAddTrackedUnit>
    <CEffectCreatePersistent id="ANr2@ResponseDelay">
        <InitialEffect value="War3_Reincarnating"/>
        <ExpireEffect value="ANr2"/>
    </CEffectCreatePersistent>
    <CEffectRemoveBehavior id="ANr2@RemoveBuff">
        <BehaviorLink value="ANr2"/>
    </CEffectRemoveBehavior>
    <CEffectCreatePersistent id="ANr2">
        <ExpireDelay value="0">
            <AccumulatorArray value="ANr2@ReincarnationDelay"/>
        </ExpireDelay>
        <ExpireEffect value="ANr2@ReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialEffect value="ANr2@RemoveBuff"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="ANr2@Revive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANr2@Heal">
        <VitalArray index="Life">
            <ChangeFraction value="1"/>
        </VitalArray>
        <VitalArray index="Shields">
            <ChangeFraction value="1"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="ANr2@ReviveSet">
        <EffectArray value="ANr2@Revive"/>
        <EffectArray value="ANr2@Heal"/>
    </CEffectSet>
    <CEffectModifyUnit id="ACrj@HealTick" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="33.333"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="ACrj@BuffRejuvination" parent="War3_ApplyBuff">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="ACr2@HealTick" parent="War3_Heal">
        <VitalArray index="Life">
            <Change value="33.333"/>
        </VitalArray>
        <ValidatorArray index="0" removed="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="ACr2@BuffRejuvination" parent="War3_ApplyBuff">
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="Ahnl@Search" parent="War3_AbilSearch">
        <AreaArray Radius="0.7812" Effect="Ahnl@BuffRoar"/>
        <SearchFilters value="-;self,ward,wall,tree,Missile,debris,Visible,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Ahnl@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACr1@Search" parent="War3_AbilSearch">
        <AreaArray Radius="7.8125" Effect="ACr1@BuffRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACr1@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACro@Search" parent="War3_AbilSearch">
        <AreaArray Radius="7.8125" Effect="ACro@BuffRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACro@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ACss@InitialDamage" parent="War3_PhysicSpellDamage">
        <Type value="SlowPoison"/>
        <Amount value="0">
            <AccumulatorArray value="ACss@InitialDamage"/>
        </Amount>
    </CEffectDamage>
    <CEffectSet id="ACss@MissileImpactSet">
        <EffectArray value="ACss@InitialDamage"/>
        <EffectArray value="ACss@BuffShadowStrike"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectDamage id="ACss@DecayingDamage" parent="War3_MagicSpellDamage">
        <Type value="ShadowStrike"/>
        <Amount value="0">
            <AccumulatorArray value="ACss@DecayingDamage"/>
        </Amount>
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACss@BuffShadowStrike" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetNotDead"/>
        <ValidatorArray value="NotInvulnerable"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="ACsh@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACsh@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACsh@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACsh@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACsh@Search" Parent="War3_AbilSearch">
        <AreaArray RectangleWidth="4.6875" Effect="ACsh@Damage"/>
        <SearchFilters value="-;self,player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACsh@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACsh@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ACst@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ACst@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-32,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACst@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ACst@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ACst@Search" Parent="War3_AbilSearch">
        <AreaArray Radius="2.3437" RectangleWidth="4.6875" Effect="ACst@Damage"/>
        <SearchFilters value="-;player,allies,neutral,air,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACst@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACst@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectCreatePersistent id="ANsh@Target">
        <WhichLocation Value="CasterPoint"/>
        <ExpireEffect value="ANsh@Missile"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <ExpireOffset value="0,-12.5,0"/>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ANsh@Missile">
        <ImpactLocation Value="TargetPoint"/>
        <SearchEffect value="ANsh@Search"/>
        <SearchFlags index="DynamicSearchArea" value="1"/>
    </CEffectLaunchMissile>
    <CEffectEnumArea id="ANsh@Search" Parent="War3_AbilSearch">
        <AreaArray RectangleWidth="4.6875" Effect="ANsh@Damage"/>
        <SearchFilters value="-;player,allies,ward,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,Raisable,item"/>
    </CEffectEnumArea>
    <CEffectDamage id="ANsh@Damage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="noMarkers"/>
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ANsh@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACsi@BuffSilence" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="ACsi@Search">
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <AreaArray Effect="ACsi@BuffSilence"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="ACsi@Radius"/>
        </ExtraRadiusBonus>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACsl@BuffSleep" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACsl@BuffSleepPause" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACsl">
        <EffectArray value="ACsl@BuffSleep"/>
        <EffectArray value="ACsl@BuffSleepStun"/>
        <EffectArray value="ACsl@BuffSleepPause"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACsw@BuffSlow" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="Asp1@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Asp2@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Asp3@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Asp4@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Asp5@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="Asp6@Missile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectApplyBehavior id="ACwe@BuffWaterElemental"/>
    <CEffectCreateUnit id="ACwe@CreateUnit" parent="War3_SummonUnit">
        <SpawnEffect value="ACwe@BuffWaterElemental"/>
        <SpawnUnit index="0" value="nsel"/>
        <SpawnOffset value="0,-3.125"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="ANta@Search" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.0312" Effect="ANta@OrderAttack"/>
        <SearchFilters value="-;player,allies,neutral,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MaxCount value="10"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="ANta@OrderAttack">
        <Abil value="Aatk"/>
        <ValidatorArray value="TargetCanAttackCaster_War3"/>
        <ValidatorArray value="TargetIsAttackingWar3"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <CEffectDamage id="ANth@ReflectionDamage" parent="War3_PhysicSpellDamage">
        <Type value="Defensive"/>
        <ImpactUnitValidator value="SourceIsNotHallucination"/>
        <Fraction value="0">
            <AccumulatorArray value="ANth@ReturnedDamageFactor"/>
        </Fraction>
    </CEffectDamage>
    <CEffectDamage id="ANt2@ReflectionDamage" parent="War3_PhysicSpellDamage">
        <Type value="Defensive"/>
        <ImpactUnitValidator value="SourceIsNotHallucination"/>
        <Fraction value="0">
            <AccumulatorArray value="ANt2@ReturnedDamageFactor"/>
        </Fraction>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACah@BuffAuraThorns" parent="War3_AuraBuff"/>
    <CEffectDamage id="ACah@ThornsDamage" parent="War3_MagicSpellDamage">
        <ImpactUnitValidator value="SourceIsNotHallucination"/>
        <Type value="Plant"/>
        <Fraction value="1">
            <AccumulatorArray value="ACah@DamagePercentage"/>
        </Fraction>
    </CEffectDamage>
    <CEffectEnumArea id="ACah@Search" parent="War3_AuraSearch" aura="ACah@BuffAuraThorns"/>
    <CEffectApplyBehavior id="ACua@BuffAuraUnholy" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="ACua@Search" parent="War3_AuraSearch" aura="ACua@BuffAuraUnholy"/>
    <CEffectApplyBehavior id="ACvp@BuffAuraVampiric" parent="War3_AuraBuff"/>
    <CEffectModifyUnit id="ACvp@Leech">
        <ImpactUnit Value="Source"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="InheritedDamage"/>
                <AccumulatorArray value="ACvp@AttackDamageStolenRate"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="ACvp@Search" parent="War3_AuraSearch" aura="ACvp@BuffAuraVampiric">
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ANwk@AttackModifier" parent="War3_ApplyBuff"/>
    <CEffectSet id="ANwk@BuffWindWalkFinalSet">
        <EffectArray value="War3_SnapScourceToPlacablePoint"/>
        <EffectArray value="ANwk@RemoveAttackModifierAfterAttack"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="ANwk@RemoveTransition">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="ANwk@Transition"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="ANwk@RemoveAttackModifier">
        <ValidatorArray index="0" value="ANwk@RemoveTransitionTargetFilters"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="ANwk@AttackModifier"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="ANwk@TransitionEndSet">
        <EffectArray value="ANwk@AttackModifier"/>
        <EffectArray value="ANwk@BuffWindWalk"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANwk@RemoveAttackModifierAfterAttack">
        <Flags index="PersistUntilDestroyed" value="1"/>
        <FinalEffect value="ANwk@RemoveAttackModifier"/>
        <PeriodicValidator value="CasterIsFiringWeapon_War3"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="ANwk@Transition" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANwk@BuffWindWalk" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACvs@BuffPoisonAttack" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACvs@BuffPoisonAttackStackDoT" parent="War3_ApplyBuff"/>
    <CEffectSet id="ACvs@ImpactEffect">
        <EffectArray value="ACvs@BuffPoisonAttack"/>
        <EffectArray value="ACvs@BuffPoisonAttackStackDoT"/>
    </CEffectSet>
    <CEffectDamage id="ACvs@BuffPoisonAttackStackDoT@DPS" parent="War3_Poision">
        <Amount value="2"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ACwb@BuffWebAir" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="ACwb@BuffWeb" parent="War3_ApplyBuff"/>
    <CEffectLaunchMissile id="ACwb@Missile">
        <ValidatorArray value="HaveMoveAbilityWar3"/>
    </CEffectLaunchMissile>
    <CEffectSwitch id="ACwb@Switch">
        <CaseArray Validator="AirUnit" Effect="ACwb@BuffWebAir"/>
        <CaseDefault value="ACwb@BuffWeb"/>
    </CEffectSwitch>
    <CEffectSet id="ACwb@MissileImpactSet">
        <EffectArray value="War3_ForceStopChannelOrder"/>
        <EffectArray value="ACwb@Switch"/>
    </CEffectSet>
    <CEffectTeleport id="AIbk">
        <ClearQueuedOrders value="0"/>
        <PlacementAround Value="CasterUnit"/>
        <PlacementRange value="15"/>
        <WhichUnit Value="Caster"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <MinDistance value="1.5625"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="AIcy@BuffCycloneTwo" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIcy">
        <ValidatorArray value="TargetIsNotFlyerWar3"/>
        <ValidatorArray value="TargetCanMoveWar3"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="War3_RemovePhysicalBuffs"/>
        <EffectArray value="AIcy@BuffCycloneTwo"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AIin">
        <OffsetFacingFallback Value="CasterUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AIin@ImpactSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AIin@ImpactSet">
        <EffectArray value="AIin@TreeKiller"/>
        <EffectArray value="AIin@Search"/>
        <EffectArray value="AIin@CreateUnit"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="AIin@TreeKiller" parent="War3_MagicSpellDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Flags index="Kill" value="1"/>
        <AreaArray Radius="3.9062" Fraction="1"/>
        <SearchFilters value="tree;invulnerable"/>
    </CEffectDamage>
    <CEffectCreateUnit id="AIin@CreateUnit" parent="War3_SummonUnit">
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AIin@BuffInfernal"/>
        <SpawnUnit index="0" value="ninf"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIin@BuffInfernal" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="AIin@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,air,ward,wall,tree,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062" Effect="AIin@SearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIin@SearchCursor" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,air,ward,wall,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="3.9062"/>
    </CEffectEnumArea>
    <CEffectSet id="AIin@SearchImpactSet">
        <EffectArray value="AIin@Damage"/>
        <EffectArray value="AIin@Stun"/>
        <EffectArray value="AIin@StunHero"/>
    </CEffectSet>
    <CEffectDamage id="AIin@Damage" parent="War3_MagicSpellDamage">
        <Amount value="50"/>
        <Type value="Force"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AIin@Stun">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="NotHeroAndNotPowerfulMob"/>
        <Behavior value="BPSE"/>
        <Duration value="4"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIin@StunHero">
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="HeroOrPowerfulMob"/>
        <Behavior value="BPSE"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIos@BuffSlow" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AIds@Search" parent="War3_AbilSearch">
        <SearchFilters value="-;wall,Missile,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="3.125" Effect="AIds@SearchImpactSet"/>
        <ImpactLocation Value="TargetPoint"/>
        <UnCreep value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AIds@SearchImpactSet">
        <EffectArray value="ClearHasOwl"/>
        <EffectArray value="War3_RemoveMagicBuffs"/>
        <EffectArray value="AIds@EnemySummonedDamage"/>
        <ValidatorArray value="TargetIsNotImmuneToDispels"/>
    </CEffectSet>
    <CEffectDamage id="AIds@EnemySummonedDamage" parent="War3_MagicSpellDamage">
        <ValidatorArray value="War3_SummonedUnitDamageValidators"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Type value="Magic"/>
        <Amount value="200"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AIhw@BuffHealingWard" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="AIhw@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="SetFacing" value="0"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AIhw@BuffHealingWard"/>
        <SpawnUnit index="0" value="ohwd"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIsw@BuffEvilEye" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="AIsw@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="AIsw@BuffEvilEye"/>
        <SpawnUnit index="0" value="oeye"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="AIad@Search" parent="War3_AuraSearch" aura="AIad@BuffAuraDevotion"/>
    <CEffectApplyBehavior id="AIad@BuffAuraDevotion" parent="War3_AuraBuff"/>
    <CEffectApplyBehavior id="AIba@BuffAuraBrilliance" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="AIba@Search" parent="War3_AuraSearch" aura="AIba@BuffAuraBrilliance"/>
    <CEffectApplyBehavior id="AIav@BuffAuraVampiric" parent="War3_AuraBuff"/>
    <CEffectModifyUnit id="AIav@Leech">
        <ImpactUnit Value="Source"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="InheritedDamage"/>
                <AccumulatorArray value="AIav@AttackDamageStolenRate"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AIav@Search" parent="War3_AuraSearch" aura="AIav@BuffAuraVampiric">
        <SearchFilters value="-;neutral,enemies,ward,mechanical,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIar@Search" parent="War3_AuraSearch" aura="AIar@BuffAuraTrueshot"/>
    <CEffectApplyBehavior id="AIar@BuffAuraTrueshot" parent="War3_AuraBuff">
        <ValidatorArray value="TargetHasRangedWeapon"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIae@BuffAuraEndurance" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="AIae@Search" parent="War3_AuraSearch" aura="AIae@BuffAuraEndurance"/>
    <CEffectApplyBehavior id="AIau@BuffAuraUnholy" parent="War3_AuraBuff"/>
    <CEffectEnumArea id="AIau@Search" parent="War3_AuraSearch" aura="AIau@BuffAuraUnholy"/>
    <CEffectApplyBehavior id="AIls@BuffLightningShield" parent="War3_ApplyBuff">
        <CanBeBlocked value="1"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AIls@Search" parent="War3_AbilSearchRadiusExt">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ExcludeArray Value="Source"/>
        <SearchFilters value="-;air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,Passive,Decaying,item"/>
        <AreaArray Radius="2.5" Effect="AIls@DamagePerSecond"/>
    </CEffectEnumArea>
    <CEffectDamage id="AIls@DamagePerSecond" parent="War3_MagicSpellDamage">
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="0"/>
        <Amount value="20"/>
        <ValidatorArray value="TargetIsNotBenign"/>
        <Type value="Lightning"/>
    </CEffectDamage>
    <CEffectEnumArea id="AIrr@Search" parent="War3_AbilSearch">
        <AreaArray Radius="7.8125" Effect="AIrr@BuffRoar"/>
        <SearchFilters value="Visible;neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIrr@BuffRoar" parent="War3_ApplyBuff">
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AImt@TeleportSet">
        <EffectArray value="War3_RemoveAntiTeleportBuffs"/>
        <EffectArray value="AImt@Teleport"/>
        <ValidatorArray value="War3_GenericTeleportablePassengerValidators"/>
    </CEffectSet>
    <CEffectSet id="AImt@RemoveCasterInvulnerableBuffs">
        <EffectArray value="RemoveCasterBuffDivineShieldAll"/>
        <EffectArray value="RemoveCasterBuffInvulnerableAll"/>
        <EffectArray value="RemoveCasterBuffVoodooAll"/>
    </CEffectSet>
    <CEffectSet id="AImt@StartChannelSet">
        <EffectArray value="AImt@RemoveCasterInvulnerableBuffs"/>
        <EffectArray value="AImt@MassTeleportTeleportRevealBuff"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AImt@MassTeleportTeleportRevealBuff"/>
    <CEffectEnumArea id="AImt@Target">
        <ExcludeArray/>
        <SearchFilters value="-;neutral,enemies,ward,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="0.7812" Effect="AImt"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AImt">
        <ValidatorArray value="TargetNotDead"/>
        <ValidatorArray value="Pathable"/>
        <ValidatorArray value="IsTargetable"/>
        <ValidatorArray value="NoTargetExcludeBuffAny"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AImt@StartChannelSet"/>
        <ExpireDelay value="3"/>
        <ExpireEffect value="AImt@Search"/>
        <PeriodicValidator value="AImt@TeleportTargetValidators"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AImt@Search">
        <LaunchLocation Value="CasterPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <ExcludeArray Effect="AImt" Value="Target"/>
        <SearchFilters value="-;allies,neutral,enemies,ward,structure,wall,tree,Missile,debris,Dead,Hidden,Decaying,item"/>
        <AreaArray Radius="0.7812" Effect="AImt@TeleportSet"/>
        <MaxCount value="1"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="HeroFirst"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectTeleport id="AImt@Teleport">
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="AImt" Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Value="TargetPoint"/>
        <TargetLocation Effect="AImt" Value="TargetUnit"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="War3_RemoveAntiTeleportBuffs"/>
    </CEffectTeleport>
    <CEffectSet id="AIdv">
        <EffectArray value="War3_MagicImmunityRemoveBuffs"/>
        <EffectArray value="AIdv@BuffDivineShield"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIdv@BuffDivineShield" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIse@BuffSilence" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="AIse@Search">
        <SearchFilters value="-;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,invulnerable,immunity,Decaying,item"/>
        <AreaArray Effect="AIse@BuffSilence"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="AIse@Radius"/>
        </ExtraRadiusBonus>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIfg@Search" parent="War3_AbilSearch">
        <SearchFilters value="structure;ward,wall,tree,Missile,debris,Dead,Hidden,immunity,Decaying,item"/>
        <AreaArray Radius="4.6875" Effect="AIfg@BuffCloudOfFog"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AIfg@EffectCloudOfFog">
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AIfg@Search"/>
        <PeriodCount value="30"/>
        <PeriodicEffectArray value="AIfg@Search"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="AIfg@BuffCloudOfFog" parent="War3_ApplyBuff">
        <ValidatorArray value="NoUnsummonAny"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="APrl@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="dead;self,neutral,enemies,ward,structure,wall,tree,Missile,debris,invulnerable,hero,item"/>
        <TargetSorts>
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
        </TargetSorts>
        <AreaArray Radius="21.875" Effect="APrl@ReviveSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="APrl@ReviveSet">
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="APrl@Revive"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectModifyUnit id="APrl@Revive">
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="StartingVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="APrr@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="dead;self,neutral,enemies,ward,structure,wall,tree,Missile,debris,invulnerable,hero,item"/>
        <TargetSorts>
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
        </TargetSorts>
        <AreaArray Radius="21.875" Effect="APrr@ReviveSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
        <MinCount value="1"/>
        <MaxCount value="3"/>
    </CEffectEnumArea>
    <CEffectSet id="APrr@ReviveSet">
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="APrr@Revive"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectModifyUnit id="APrr@Revive">
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="StartingVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Aspp@BuffSpiritLink" parent="War3_ApplyBuff"/>
    <CEffectSet id="Aspp@MainImpact">
        <EffectArray value="Aspp@Tracker"/>
        <EffectArray value="Aspp@ClearTracked"/>
        <EffectArray value="Aspp@BuffSpiritLink"/>
        <EffectArray value="Aspp@AddTracked"/>
        <EffectArray value="Aspp@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="Aspp@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;neutral,enemies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,Decaying,item"/>
        <AreaArray Radius="21.875" Effect="Aspp@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="Aspp@PreferShortestDuration"/>
            <SortArray value="TSLifeLargestFirst"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="Aspp@SecondaryImpact">
        <ValidatorArray value="noMarkers"/>
        <EffectArray value="Aspp@SecondaryBeamAction"/>
        <EffectArray value="Aspp@Tracker"/>
        <EffectArray value="Aspp@ClearTracked"/>
        <EffectArray value="Aspp@BuffSpiritLink"/>
        <EffectArray value="Aspp@AddTracked"/>
        <EffectArray value="Aspp@TargetHitCount"/>
    </CEffectSet>
    <CEffectModifyUnit id="Aspp@SecondaryBeamAction">
        <LaunchUnit Effect="Aspp@SecondaryDelay" Value="Target"/>
    </CEffectModifyUnit>
    <CEffectCreatePersistent id="Aspp@MainDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireEffect value="Aspp@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Aspp@SecondaryDelay">
        <ExpireEffect value="Aspp@Search"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="Aspp@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="50"/>
        <EffectSuccess value="Aspp@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
        <EffectFailure value="Aspp@FinalCopyTrackedList"/>
    </CEffectUserData>
    <CEffectAddTrackedUnit id="Aspp@AddTracked">
        <BehaviorLink value="Aspp@Tracker"/>
        <TrackerUnit Effect="Aspp@MainImpact" Value="Target"/>
    </CEffectAddTrackedUnit>
    <CEffectClearTrackedUnits id="Aspp@ClearTracked">
        <BehaviorLink value="Aspp@Tracker"/>
        <TrackerUnit Value="Target"/>
    </CEffectClearTrackedUnits>
    <CEffectEnumTrackedUnits id="Aspp@FinalCopyTrackedList">
        <BehaviorLink value="Aspp@Tracker"/>
        <TrackerUnit Effect="Aspp@MainImpact" Value="Target"/>
        <Effect value="Aspp@CopyTracked"/>
    </CEffectEnumTrackedUnits>
    <CEffectAddTrackedUnits id="Aspp@CopyTracked">
        <TargetBehaviorLink value="Aspp@Tracker"/>
        <SourceBehaviorLink value="Aspp@Tracker"/>
        <SourceTrackerUnit Effect="Aspp@MainImpact" Value="Target"/>
        <TargetTrackerUnit Value="Target"/>
    </CEffectAddTrackedUnits>
    <CEffectRemoveBehavior id="Aspp@RemoveTracker">
        <BehaviorLink value="Aspp@Tracker"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="Aspp@Tracker"/>
    <CEffectEnumTrackedUnits id="Aspp@DistributeDamage">
        <BehaviorLink value="Aspp@Tracker"/>
        <TrackerUnit Value="Source"/>
        <Effect value="War3_SpiritLinkDamage"/>
        <DistributDamage value="1"/>
    </CEffectEnumTrackedUnits>
    <CEffectApplyBehavior id="APwt@BuffEvilEye" parent="War3_ApplyBuff"/>
    <CEffectCreateUnit id="APwt@CreateUnit" parent="War3_SummonUnit">
        <CreateFlags index="Placement" value="0"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="APwt@BuffEvilEye"/>
        <SpawnUnit index="0" value="nwad"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="AIdp@ForceBlastDeath">
        <Behavior value="ForceBlastDeath"/>
        <WhichUnit Effect="AIdp"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="AIdp" parent="War3_InstantHeal">
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="CasterLifeNotFull"/>
        <ValidatorArray value="NotHallucinationTarget"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="1"/>
        <DrainVitalCostFactor value="0">
            <AccumulatorArray value="AIdp@ConvertRate"/>
        </DrainVitalCostFactor>
        <RechargeVitalFraction value="1"/>
        <FinalEffect value="AIdp@Kill"/>
        <InitialEffect value="AIdp@ForceBlastDeath"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AIdp@Kill">
        <Flags index="Kill" value="1"/>
        <ImpactLocation Effect="AIdp"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <CEffectEnumArea id="AIrx@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="dead;self,neutral,enemies,ward,structure,wall,tree,Missile,debris,invulnerable,hero,item"/>
        <TargetSorts>
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="UnitLevel"/>
            <SortArray value="IsNotInsideTransport"/>
        </TargetSorts>
        <AreaArray Radius="14.0625" Effect="AIrx@ReviveSet"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectSet id="AIrx@ReviveSet">
        <EffectArray value="War3_CorpseUsageSet"/>
        <EffectArray value="AIrx@Revive"/>
        <ValidatorArray value="War3_NotHiddenOrInsideNotHiddenControlableTransport"/>
    </CEffectSet>
    <CEffectModifyUnit id="AIrx@Revive">
        <ModifyFlags index="Revive" value="1"/>
        <ModifyFlags index="StartingVitals" value="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AIbx@ImpactEffect">
        <EffectArray value="AIbx@StunDurationHero"/>
        <EffectArray value="AIbx@StunDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AIbx@StunDuration" parent="War3_Dur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIbx@StunDurationHero" parent="War3_HeroDur" buff="BPSE">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AIhl">
        <ValidatorArray value="AIhl@TargetFilter"/>
        <EffectArray value="AIhl@Heal"/>
        <EffectArray value="AIhl@Damage"/>
    </CEffectSet>
    <CEffectModifyUnit id="AIhl@Heal" parent="War3_Heal">
        <ValidatorArray value="AIhl@HealTarget"/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="AIhl@Heal"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectDamage id="AIhl@Damage">
        <ValidatorArray value="AIhl@DamageTarget"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <Visibility value="Visible"/>
        <Flags index="Notification" value="1"/>
        <Type value="Fire"/>
        <ExcludeArray Value="Target"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFlags index="OffsetAreaByAngle" value="1"/>
        <Amount value="0">
            <AccumulatorArray value="AIhl@Damage"/>
        </Amount>
        <CanBeBlocked value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AIsz@BuffSlowPoison" parent="War3_ApplyBuff"/>
    <CEffectApplyBehavior id="AIsz@BuffSlowPoisonStackDoT" parent="War3_ApplyBuff"/>
    <CEffectSet id="AIsz@ImpactEffect">
        <EffectArray value="AIsz@BuffSlowPoison"/>
        <EffectArray value="AIsz@BuffSlowPoisonStackDoT"/>
    </CEffectSet>
    <CEffectDamage id="AIsz@BuffSlowPoisonStackDoT@DPS" parent="War3_Poision">
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectUserData id="AIcl@DamageLoss">
        <Key value="DamageLoss"/>
        <Amount value="0.75"/>
        <SourceKey value="DamageLoss"/>
        <SourceFailBackValue value="1"/>
        <Operation value="Multiply"/>
    </CEffectUserData>
    <CEffectSet id="AIcl@MainImpact">
        <CanBeBlocked value="1"/>
        <EffectArray value="AIcl@MainDamage"/>
        <EffectArray value="AIcl@TargetHitCount"/>
    </CEffectSet>
    <CEffectEnumArea id="AIcl@Search" parent="War3_AbilSearchRadiusExt">
        <SearchFilters value="Visible;player,allies,ward,mechanical,structure,wall,tree,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <AreaArray Radius="7.8125" Effect="AIcl@SecondaryImpact"/>
        <MaxCount value="1"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="AIcl@SecondaryImpact">
        <ValidatorArray value="noMarkers"/>
        <ValidatorArray value="AIcl@JumpTargetFilters"/>
        <EffectArray value="AIcl@DamageLoss"/>
        <EffectArray value="AIcl@SecondaryDamage"/>
        <EffectArray value="AIcl@TargetHitCount"/>
        <CanBeBlocked value="1"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AIcl@MainDelay">
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AIcl@MainImpact"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
        <InitialEffect value="AIcl@SetCanJumpToBenign"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AIcl@SecondaryDelay">
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AIcl@Search"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CEffectCreatePersistent>
    <CEffectUserData id="AIcl@SetCanJumpToBenign">
        <ValidatorArray value="TargetIsBenign"/>
        <Key value="HitBenign"/>
        <SourceKey value="HitBenign"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectDamage id="AIcl@MainDamage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="AIcl@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectDamage id="AIcl@SecondaryDamage" parent="War3_MagicSpellDamage">
        <Type value="Lightning"/>
        <Amount value="0">
            <AccumulatorArray value="AIcl@Damage"/>
        </Amount>
        <Fraction value="0">
            <AccumulatorArray value="War3_DamageLoss"/>
        </Fraction>
        <LaunchLocation Effect="AIcl@SecondaryDelay" Value="TargetUnitOrPoint"/>
    </CEffectDamage>
    <CEffectUserData id="AIcl@TargetHitCount">
        <Key value="numTargets"/>
        <SourceKey value="numTargets"/>
        <ValidateMax value="0">
            <AccumulatorArray value="AIcl@MaxTargets"/>
        </ValidateMax>
        <EffectSuccess value="AIcl@SecondaryDelay"/>
        <SourceFailBackValue value="1"/>
    </CEffectUserData>
    <CEffectApplyBehavior id="AIxk@BuffBerserkerRage" parent="War3_ApplyBuff"/>
    <CEffectMorph id="SNdc@ConvertUnitType">
        <WhichUnit Value="Target"/>
        <MorphUnit value="nzom"/>
        <TypeFallbackUnit Value="Unknown"/>
        <ActorKey value="Morph"/>
        <MorphFlags index="IgnoreFacing" value="1"/>
        <MorphFlags index="IgnorePlacement" value="1"/>
        <MorphFlags index="RallyReset" value="1"/>
        <AbilKeyFallback value="SNdc"/>
    </CEffectMorph>
    <CEffectSet id="SNdc@StateEffectDummy"/>
    <CEffectSet id="SNdc">
        <ValidatorArray value="SNdc@TargetRace"/>
        <EffectArray value="SNdc@StateEffectPersistent"/>
        <EffectArray value="SNdc@BuffDarkConversion"/>
    </CEffectSet>
    <CEffectCreatePersistent id="SNdc@StateEffectPersistent">
        <WhichLocation Value="TargetUnit"/>
        <OffsetVectorEndLocation Value="TargetUnit"/>
        <Flags index="RandomPeriod" value="1"/>
        <PeriodCount value="2"/>
        <PeriodicEffectArray value="SNdc@StateEffectDummy"/>
        <PeriodicPeriodArray value="2"/>
        <PeriodicPeriodArray value="3"/>
        <PeriodicPeriodArray value="4"/>
        <PeriodicPeriodArray value="5"/>
        <PeriodicValidator value="SNdc@TargetRace"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="SNdc@BuffDarkConversion" parent="War3_ApplyBuff">
        <ValidatorArray value="SNdc@TargetRace"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACt2@BuffCreepThunderClap" parent="War3_ApplyBuff"/>
    <CEffectEnumArea id="ACt2@Search">
        <AreaArray Radius="3.9062" Effect="ACt2@ImpactSet"/>
        <SearchFilters value="-;player,allies,air,ward,structure,wall,tree,Missile,debris,Dead,Hidden,invulnerable,immunity,Decaying,item"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="ACt2@ImpactSet">
        <EffectArray value="ACt2@Damage"/>
        <EffectArray value="ACt2@BuffCreepThunderClap"/>
    </CEffectSet>
    <CEffectDamage id="ACt2@Damage" parent="War3_MagicSpellDamage">
        <Type value="Sonic"/>
        <Amount value="0">
            <AccumulatorArray value="ACt2@Damage"/>
        </Amount>
    </CEffectDamage>
    <CEffectEnumArea id="AOfs@SearchDummy">
        <EditorCategories value="Race:Orc"/>
        <ExtraRadiusBonus value="0">
            <AccumulatorArray value="AOfs@RevealRadius"/>
        </ExtraRadiusBonus>
    </CEffectEnumArea>
    <CEffectRemoveBehavior id="War3_RemoveAntiTeleportBuffs">
        <BehaviorCategories index="TeleportRemove" value="1"/>
    </CEffectRemoveBehavior>
</Catalog>
