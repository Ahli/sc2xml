//==================================================================================================
// 
// Generated Map Script
// 
// Name:   Zerus
// 
//==================================================================================================
include "TriggerLibs/NativeLib"
include "TriggerLibs/SwarmCampaignLib"
include "Lib281DEC45"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
    libSwaC_InitLib();
    lib281DEC45_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Global Variables
//--------------------------------------------------------------------------------------------------
unit gv_uNITSETZerus00;
unit gv_uNITSETZerus01;
unit gv_uNITSETZerus04;
unit gv_uNITSETZerus05;
unit gv_uNITSETZerus06;
unit gv_uNITSETLeviathan00;
unit gv_uNITSETLeviathan01;
unit gv_uNITSETLeviathan02;
unit gv_uNITSETLeviathanPool;
bool gv_ambientScenesPlayed;
sound gv_kerriganPsionicsSound;

void InitGlobals () {
}

//--------------------------------------------------------------------------------------------------
// Global Function Declarations
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes ();

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_Initialization;
trigger gt_Init01Units;
trigger gt_Init03Conversations;
trigger gt_Init04Environment;
trigger gt_Init05Characters;
trigger gt_Init06Scenes;
trigger gt_ApplyZerusLighting;
trigger gt_PrepareZerusSet;
trigger gt_ViewZerusSet;
trigger gt_ConvoZeratulCustom;
trigger gt_ConvoDehakaPre;
trigger gt_ConvoZurvanPre;
trigger gt_ConvoZagaraPre;
trigger gt_ConvoZagaraLineHandle;
trigger gt_ConvoAdjutantLineHandle;
trigger gt_ConvoAdjutantPre;
trigger gt_ConvoAdjutantPost;
trigger gt_PlanetArrival;
trigger gt_PlanetDeparture;
trigger gt_zScripted_FourthArcAfter;
trigger gt_zScripted_Zerus01Before;
trigger gt_zSMBriefing_Zerus01;
trigger gt_zDebrief_Zerus02;
trigger gt_zDebrief_Arc4DoW;

//--------------------------------------------------------------------------------------------------
// Global Functions
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes () {
    // Implementation
    if ((gv_ambientScenesPlayed == true)) {
        return ;
    }
    else {
        gv_ambientScenesPlayed = true;
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition3", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_PlayAmbientScene("zLD_Maggot");
    }
    else {
    }
    lib281DEC45_gf_PlayAmbientScene("zLD_Mutalisk_background_p1");
    if ((libSwaC_gf_MissionStatusCheck("ZZerus1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_PlayAmbientScene("zLD_Mutalisk_loopfull_p1");
    }
    else {
    }
}

//--------------------------------------------------------------------------------------------------
// Trigger: Initialization
//--------------------------------------------------------------------------------------------------
bool gt_Initialization_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    CutsceneSetGlobalFilter("Zerus");
    lib281DEC45_gf_InitializeSwarmStoryData("ZStoryZerus");
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilViewMainSet, gt_ViewZerusSet);
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilPrepareMainSet, gt_PrepareZerusSet);
    TriggerExecute(gt_Init01Units, true, false);
    TriggerExecute(gt_Init03Conversations, true, false);
    TriggerExecute(gt_Init04Environment, true, false);
    TriggerExecute(gt_Init05Characters, true, false);
    TriggerExecute(gt_Init06Scenes, true, false);
    lib281DEC45_gf_BeginStoryMode();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Initialization_Init () {
    gt_Initialization = TriggerCreate("gt_Initialization_Func");
    TriggerAddEventMapInit(gt_Initialization);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 01 Units
//--------------------------------------------------------------------------------------------------
bool gt_Init01Units_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_StoryCreateSetUnit("SMX1_ZerusSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETZerus00 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1_ZerusSet_01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETZerus01 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1_ZerusSet_04", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETZerus04 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1_ZerusSet_05", UnitGetAttachmentPoint(gv_uNITSETZerus00, "Pos_SetLocation"), 270.0);
    gv_uNITSETZerus05 = UnitLastCreated();
    UnitSetHeight(gv_uNITSETZerus05, PointGetHeight(UnitGetAttachmentPoint(gv_uNITSETZerus00, "Pos_SetLocation")), 0.0);
    lib281DEC45_gf_StoryCreateSetUnit("SMX1_ZerusSet_06", UnitGetAttachmentPoint(gv_uNITSETZerus00, "Pos_SetLocation"), 270.0);
    gv_uNITSETZerus06 = UnitLastCreated();
    UnitSetHeight(gv_uNITSETZerus06, PointGetHeight(UnitGetAttachmentPoint(gv_uNITSETZerus00, "Pos_SetLocation")), 0.0);
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan00 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan01 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet02", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan02 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet03", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathanPool = UnitLastCreated();
    UnitCreate(1, "SMX1LeviathanSetCalloutPositions", 0, 1, lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    lib281DEC45_gf_StoryAddCalloutAttachmentUnit(UnitLastCreated());
    lib281DEC45_gf_StoryCreateKerrigan(lib281DEC45_gf_StoryModeDefaultPosition());
    lib281DEC45_gf_SetCharacterUnit("Zerg Adjutant", UnitFromId(1));
    lib281DEC45_gf_SetCharacterUnit("Evolution Master", UnitFromId(2));
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Primal Advisor", UnitFromId(13));
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZZerus1", libSwaC_ge_MissionStatus_Available) == true)) {
        lib281DEC45_gf_CreateStoryCharacter("Hotspot - Zerus - Void Seeker", "SMX1_ZerusSet_03", lib281DEC45_gf_StoryModeDefaultPosition());
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Ancient") == true) && (libSwaC_gf_MissionStatusCheck("ZZerus3", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_CreateStoryCharacter("Primal Ancient", "SMX1_ZerusSet_02", lib281DEC45_gf_StoryModeDefaultPosition());
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Zagara", UnitFromId(17));
    }
    else {
    }
    lib281DEC45_gf_StoryAddAliasedUnit(gv_uNITSETZerus00, "ZSMStorySet");
    if ((libSwaC_gf_MissionStatusCheck("ZZerus1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Mutalisk"), "ZSMMutalisk");
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init01Units_Init () {
    gt_Init01Units = TriggerCreate("gt_Init01Units_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 03 Conversations
//--------------------------------------------------------------------------------------------------
bool gt_Init03Conversations_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetCharacterCustomCallback("Hotspot - Zerus - Void Seeker", gt_ConvoZeratulCustom);
    lib281DEC45_gf_SetCharacterPreCallback("Primal Advisor", gt_ConvoDehakaPre);
    lib281DEC45_gf_SetCharacterPreCallback("Primal Ancient", gt_ConvoZurvanPre);
    lib281DEC45_gf_SetCharacterPreCallback("Zerg Adjutant", gt_ConvoAdjutantPre);
    lib281DEC45_gf_SetCharacterPostCallback("Zerg Adjutant", gt_ConvoAdjutantPost);
    lib281DEC45_gf_SetCharacterCameraCallback("Zerg Adjutant", gt_ConvoAdjutantLineHandle);
    lib281DEC45_gf_SetCharacterCameraCallback("Zagara", gt_ConvoZagaraLineHandle);
    lib281DEC45_gf_SetCharacterPreCallback("Zagara", gt_ConvoZagaraPre);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init03Conversations_Init () {
    gt_Init03Conversations = TriggerCreate("gt_Init03Conversations_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 04 Environment
//--------------------------------------------------------------------------------------------------
bool gt_Init04Environment_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ApplyStorymodeEnvironment();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init04Environment_Init () {
    gt_Init04Environment = TriggerCreate("gt_Init04Environment_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 05 Characters
//--------------------------------------------------------------------------------------------------
bool gt_Init05Characters_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_EnableDisableCharacter("Kerrigan", true);
    lib281DEC45_gf_EnableDisableCharacter("Zerg Adjutant", true);
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Zagara", true);
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Primal Advisor", true);
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Ancient") == true) && (libSwaC_gf_MissionStatusCheck("ZZerus3", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_EnableDisableCharacter("Primal Ancient", true);
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZZerus1", libSwaC_ge_MissionStatus_Available) == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Zerus - Void Seeker", true);
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init05Characters_Init () {
    gt_Init05Characters = TriggerCreate("gt_Init05Characters_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 06 Scenes
//--------------------------------------------------------------------------------------------------
bool gt_Init06Scenes_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetScriptedSceneCallback("Scene09", gt_zDebrief_Zerus02);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene11", gt_zDebrief_Arc4DoW);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene19", gt_zScripted_Zerus01Before);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene24", gt_zSMBriefing_Zerus01);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene30", gt_zScripted_FourthArcAfter);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene32", gt_PlanetArrival);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene33", gt_PlanetDeparture);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene19", gt_zScripted_Zerus01Before);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init06Scenes_Init () {
    gt_Init06Scenes = TriggerCreate("gt_Init06Scenes_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Apply Zerus Lighting
//--------------------------------------------------------------------------------------------------
bool gt_ApplyZerusLighting_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    GameSetLighting("SMX1ZerusUI", 0.0);
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_PlaySetLighting("Primal Advisor", lib281DEC45_gf_CharacterSceneNameToken("Primal Advisor"));
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_PlaySetLighting("Zagara", lib281DEC45_gf_CharacterSceneNameToken("Zagara"));
    }
    else {
    }
    lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganB");
    lib281DEC45_gf_PlaySetLighting("Zerg Adjutant", lib281DEC45_gf_CharacterSceneNameToken("Zerg Adjutant"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ApplyZerusLighting_Init () {
    gt_ApplyZerusLighting = TriggerCreate("gt_ApplyZerusLighting_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Prepare Zerus Set
//--------------------------------------------------------------------------------------------------
bool gt_PrepareZerusSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Zerus", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    FogSetEnabled(false);
    UnitSetHeight(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), lib281DEC45_gv_zSSC_DefaultAdjutantHeight, 0.0);
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 04"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 03"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zagara"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 05"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Primal Advisor"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 06"));
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "TextureGroupApply zerusset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan01, "TextureGroupApply zerusset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan02, "TextureGroupApply zerusset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathanPool, "TextureGroupApply zerusset");
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Evolution Master"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zeratul"));
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus00);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus01);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus04);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus05);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus06);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan00);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan01);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan02);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETLeviathanPool);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Ancient") == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Ancient"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Ancient"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", false, 0.0);
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Hotspot - Zerus - Void Seeker") == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Zerus - Void Seeker"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Hotspot - Zerus - Void Seeker"));
    }
    if ((libSwaC_gf_MissionStatusCheck("ZZerus2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Zerus3_Oneshots", -1), 1);
    }
    else if ((libSwaC_gf_MissionStatusCheck("ZZerus1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Zerus2_Oneshots", -1), 1);
    }
    else if (true) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Zerus1_Oneshots", -1), 1);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PrepareZerusSet_Init () {
    gt_PrepareZerusSet = TriggerCreate("gt_PrepareZerusSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: View Zerus Set
//--------------------------------------------------------------------------------------------------
bool gt_ViewZerusSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerExecute(gt_ApplyZerusLighting, true, false);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathanPool);
    CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Far", 0.0);
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", true, 0.0);
    }
    else {
    }
    gf_InitAmbientScenes();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ViewZerusSet_Init () {
    gt_ViewZerusSet = TriggerCreate("gt_ViewZerusSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zeratul Custom
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZeratulCustom_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ToggleInteractives(false);
    lib281DEC45_gf_ShowHideStoryUI(false);
    TransmissionClearAll();
    ConversationDataStop();
    lib281DEC45_gf_StoryCutsceneFade(false, 0.5, true);
    lib281DEC45_gf_StartStoryActivity(lib281DEC45_ge_StoryActivities_ScriptedScene);
    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zSM_Zeratul", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zSM_Zeratul", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    if ((ConversationDataStateGetValue("GrantStoryAchievement|Judgment Day") == 1)) {
        lib281DEC45_gf_SetCharacterNew("Hotspot - Zerus - Void Seeker", false);
        libSwaC_gf_CampaignAwardAchievement("ZeratulDestination", 1);
    }
    else {
    }
    AchievementTermQuantitySet(1, "ZStoryConversation_VoidSeeker", 1);
    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZeratulCustom_Init () {
    gt_ConvoZeratulCustom = TriggerCreate("gt_ConvoZeratulCustom_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Dehaka Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoDehakaPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoDehakaPre_Init () {
    gt_ConvoDehakaPre = TriggerCreate("gt_ConvoDehakaPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zurvan Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZurvanPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Ancient"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETZerus05);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETZerus04);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETZerus01);
    if ((libSwaC_gf_MissionStatusCheck("ZZerus2", libSwaC_ge_MissionStatus_Available) == true)) {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zSM_ZerusZurvanAfterZerus01", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    else if ((libSwaC_gf_MissionStatusCheck("ZZerus3", libSwaC_ge_MissionStatus_Available) == true)) {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zSM_ZerusZurvanAfterZerus02", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZurvanPre_Init () {
    gt_ConvoZurvanPre = TriggerCreate("gt_ConvoZurvanPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPre_Init () {
    gt_ConvoZagaraPre = TriggerCreate("gt_ConvoZagaraPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Line Handle
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraLineHandle_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if (((lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03Listener))) {
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETZerus05);
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETZerus05);
    }
    if (((lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03Listener))) {
        lib281DEC45_gf_SkipConversationLookAt();
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraLineHandle_Init () {
    gt_ConvoZagaraLineHandle = TriggerCreate("gt_ConvoZagaraLineHandle_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Line Handle
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantLineHandle_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((ConversationDataActiveLine() == "zSM_ZergAdjutant|Line00347")) {
        lib281DEC45_gf_ApplyCutsceneCamera(lib281DEC45_ge_CameraType_CloseUp, "Kerrigan");
        libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly");
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "SPELLANIM", "Spell Alternate", c_animFlagFullMatch | c_animFlagPlayForever, 0.0);
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "EYEANIM", "ClosedEyes", c_animFlagFullMatch, 0.0);
        Wait(0.5, c_timeGame);
        SoundPlay(SoundLink("Cut_Conversation_Kerrigan_Psi_Izsha_01", -1), PlayerGroupAll(), 100.0, 0.0);
        gv_kerriganPsionicsSound = SoundLastPlayed();
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "EYEANIM", "Eye Glow", c_animFlagFullMatch | c_animFlagPlayForever, 0.75);
        Wait(1.5, c_timeGame);
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "SPELLANIM", "Spell Alternate End", c_animFlagFullMatch, 0.15);
        Wait(1.5, c_timeGame);
        libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Kerrigan"), "SlowHeadOnly", lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "Ref_Head");
        Wait(0.5, c_timeGame);
        libNtve_gf_ClearAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "EYEANIM");
        Wait(0.5, c_timeGame);
        libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "SlowHeadOnly");
        libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly", lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "Ref_Head");
    }
    else if ((ConversationDataActiveLine() == "zSM_ZergAdjutant|Line00349")) {
        SoundStop(gv_kerriganPsionicsSound, true);
        libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "SlowHeadOnly");
        libNtve_gf_ClearAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "EYEANIM");
        libNtve_gf_ClearAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), "SPELLANIM");
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantLineHandle_Init () {
    gt_ConvoAdjutantLineHandle = TriggerCreate("gt_ConvoAdjutantLineHandle_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPre_Init () {
    gt_ConvoAdjutantPre = TriggerCreate("gt_ConvoAdjutantPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerStop(gt_ConvoAdjutantLineHandle);
    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "SlowHeadOnly");
    lib281DEC45_gf_ClearAnimationwithblendtime("EYEANIM", lib281DEC45_gf_CharacterUnit("Kerrigan"), 0.0);
    lib281DEC45_gf_ClearAnimationwithblendtime("SPELLANIM", lib281DEC45_gf_CharacterUnit("Kerrigan"), 0.0);
    SoundStop(gv_kerriganPsionicsSound, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPost_Init () {
    gt_ConvoAdjutantPost = TriggerCreate("gt_ConvoAdjutantPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Arrival
//--------------------------------------------------------------------------------------------------
bool gt_PlanetArrival_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetArrival", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_ArrivalZerus.SC2Cutscene");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetArrival_Init () {
    gt_PlanetArrival = TriggerCreate("gt_PlanetArrival_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Departure
//--------------------------------------------------------------------------------------------------
bool gt_PlanetDeparture_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetDeparture", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_DepartZerus.SC2Cutscene");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetDeparture_Init () {
    gt_PlanetDeparture = TriggerCreate("gt_PlanetDeparture_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_FourthArcAfter
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_FourthArcAfter_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_FourthArcAfter", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zScripted_FourthArcAfter", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_FourthArcAfter", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_FourthArcAfter_Init () {
    gt_zScripted_FourthArcAfter = TriggerCreate("gt_zScripted_FourthArcAfter_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_Zerus01Before
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_Zerus01Before_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZZerus01MusicCutscene00_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_Zerus01Before", true);
    lib281DEC45_gf_StoryCutsceneFade(false, 0.0, true);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_Zerus01Before", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_Zerus01Before_Init () {
    gt_zScripted_Zerus01Before = TriggerCreate("gt_zScripted_Zerus01Before_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zSMBriefing_Zerus01
//--------------------------------------------------------------------------------------------------
bool gt_zSMBriefing_Zerus01_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_PreloadScriptedConversation("zSMBriefing_Zerus01", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZZerus01MusicCutscene01_AncientOne", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zSMBriefing_Zerus01", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zSMBriefing_Zerus01_Init () {
    gt_zSMBriefing_Zerus01 = TriggerCreate("gt_zSMBriefing_Zerus01_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Zerus02
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Zerus02_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Zerus02", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZZerus03MusicCutscene00_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Zerus02", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Zerus02_Init () {
    gt_zDebrief_Zerus02 = TriggerCreate("gt_zDebrief_Zerus02_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc4DoW
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc4DoW_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc4DoW", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc4DoW", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc4DoW", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc4DoW_Init () {
    gt_zDebrief_Arc4DoW = TriggerCreate("gt_zDebrief_Arc4DoW_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_Initialization_Init();
    gt_Init01Units_Init();
    gt_Init03Conversations_Init();
    gt_Init04Environment_Init();
    gt_Init05Characters_Init();
    gt_Init06Scenes_Init();
    gt_ApplyZerusLighting_Init();
    gt_PrepareZerusSet_Init();
    gt_ViewZerusSet_Init();
    gt_ConvoZeratulCustom_Init();
    gt_ConvoDehakaPre_Init();
    gt_ConvoZurvanPre_Init();
    gt_ConvoZagaraPre_Init();
    gt_ConvoZagaraLineHandle_Init();
    gt_ConvoAdjutantLineHandle_Init();
    gt_ConvoAdjutantPre_Init();
    gt_ConvoAdjutantPost_Init();
    gt_PlanetArrival_Init();
    gt_PlanetDeparture_Init();
    gt_zScripted_FourthArcAfter_Init();
    gt_zScripted_Zerus01Before_Init();
    gt_zSMBriefing_Zerus01_Init();
    gt_zDebrief_Zerus02_Init();
    gt_zDebrief_Arc4DoW_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitGlobals();
    InitTriggers();
}
