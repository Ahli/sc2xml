//==================================================================================================
// 
// Generated Map Script
// 
// Name:   Kaldir
// 
//==================================================================================================
include "TriggerLibs/NativeLib"
include "TriggerLibs/SwarmCampaignLib"
include "Lib281DEC45"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
    libSwaC_InitLib();
    lib281DEC45_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Global Variables
//--------------------------------------------------------------------------------------------------
unit gv_uNITSETKaldir;
unit gv_uNITSETKaldir02;
unit gv_uNITSETLeviathan00;
unit gv_uNITSETLeviathan01;
unit gv_uNITSETLeviathan02;
unit gv_uNITSETLeviathanPool;
bool gv_ambientScenesPlayed;
bool gv_leviathanBirthPlayed;
sound gv_lasarraStrugglingSound;

void InitGlobals () {
}

//--------------------------------------------------------------------------------------------------
// Global Function Declarations
//--------------------------------------------------------------------------------------------------
bool gf_UseMainCamera ();
void gf_InitAmbientScenes ();

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_Initialization;
trigger gt_KaldrInit01Units;
trigger gt_KaldrInit03Conversations2;
trigger gt_KaldrInit04Environment2;
trigger gt_KaldrInit04Characters;
trigger gt_KaldrInit05Scenes;
trigger gt_ApplyKaldirLighting;
trigger gt_PrepareKaldirSet;
trigger gt_ViewKaldirSet;
trigger gt_ConvoDehakaPre;
trigger gt_ConvoLasarraPre;
trigger gt_ConvoZagaraLineHandle;
trigger gt_ConvoZagaraPre;
trigger gt_ConvoZagaraPost;
trigger gt_ConvoAdjutantPre;
trigger gt_ConvoHatcheryPre;
trigger gt_ConvoHatcheryPost;
trigger gt_PlanetArrival;
trigger gt_PlanetDeparture;
trigger gt_LeviathanBirth;
trigger gt_LeviathanBirthIzshaBirth;
trigger gt_LeviathanBirthLeviathanAnim;
trigger gt_zScripted_ZAdjutantIntro;
trigger gt_zDebrief_Expedition01;
trigger gt_zDebrief_Arc4DoW;
trigger gt_zSMBriefing_Expedition03;
trigger gt_zScripted_FourthArcAfter;
trigger gt_zDebrief_Arc2;
trigger gt_zDebrief_Mission5;

//--------------------------------------------------------------------------------------------------
// Global Functions
//--------------------------------------------------------------------------------------------------
bool gf_UseMainCamera () {
    // Implementation
    if (((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true) || (lib281DEC45_gf_CharacterIsEnabled("Zagara") == true) || (lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true))) {
        return false;
    }
    else {
    }
    return true;
}

void gf_InitAmbientScenes () {
    // Implementation
    if ((gv_ambientScenesPlayed == true)) {
        return ;
    }
    else {
        gv_ambientScenesPlayed = true;
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_PlayAmbientScene("zLD_Maggot");
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == false)) {
        if ((gf_UseMainCamera() == false)) {
            lib281DEC45_gf_PlayAmbientScene("zLD_Zergling_loopfull_p1");
        }
        else {
        }
    }
    else {
        if ((libSwaC_gf_MissionStatusCheck("ZExpedition3", libSwaC_ge_MissionStatus_Completed) == true)) {
            if ((libSwaC_gf_LastMapConditionCheck(libSwaC_ge_MissionCondition_Simulation) == false) && (libSwaC_gf_LastMap() == "ZExpedition3")) {
                lib281DEC45_gf_PlayAmbientScene("zLD_Kaldir_bigintro");
            }
            else {
                lib281DEC45_gf_PlayAmbientScene("zLD_Kaldir_loopfull_p1");
            }
        }
        else {
            lib281DEC45_gf_PlayAmbientScene("zLD_Kaldir_noright_loopfull_p1");
        }
    }
}

//--------------------------------------------------------------------------------------------------
// Trigger: Initialization
//--------------------------------------------------------------------------------------------------
bool gt_Initialization_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    CutsceneSetGlobalFilter("Kaldir");
    lib281DEC45_gf_InitializeSwarmStoryData("ZStoryExpedition");
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilViewMainSet, gt_ViewKaldirSet);
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilPrepareMainSet, gt_PrepareKaldirSet);
    TriggerExecute(gt_KaldrInit01Units, true, false);
    TriggerExecute(gt_KaldrInit03Conversations2, true, false);
    TriggerExecute(gt_KaldrInit04Environment2, true, false);
    TriggerExecute(gt_KaldrInit04Characters, true, false);
    TriggerExecute(gt_KaldrInit05Scenes, true, false);
    lib281DEC45_gf_BeginStoryMode();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Initialization_Init () {
    gt_Initialization = TriggerCreate("gt_Initialization_Func");
    TriggerAddEventMapInit(gt_Initialization);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Kaldr Init 01 Units
//--------------------------------------------------------------------------------------------------
bool gt_KaldrInit01Units_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_StoryCreateSetUnit("SMX1KaldrSet00", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETKaldir = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1KaldrSet02", UnitGetAttachmentPoint(gv_uNITSETKaldir, "Pos_SetLocation"), 270.0);
    gv_uNITSETKaldir02 = UnitLastCreated();
    UnitSetHeight(gv_uNITSETKaldir02, PointGetHeight(UnitGetAttachmentPoint(gv_uNITSETKaldir, "Pos_SetLocation")), 0.0);
    lib281DEC45_gf_CreateStoryCharacter("Hotspot - Expedition - Hatchery", "SMX1KaldrSet01", UnitGetAttachmentPoint(gv_uNITSETKaldir, "Pos_SetLocation 01"));
    UnitSetHeight(lib281DEC45_gf_CharacterUnit("Hotspot - Expedition - Hatchery"), PointGetHeight(UnitGetAttachmentPoint(gv_uNITSETKaldir, "Pos_SetLocation 01")), 0.0);
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan00 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan01 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet02", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan02 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet03", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathanPool = UnitLastCreated();
    UnitCreate(1, "SMX1LeviathanSetCalloutPositions", 0, 1, lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    lib281DEC45_gf_StoryAddCalloutAttachmentUnit(UnitLastCreated());
    lib281DEC45_gf_StoryCreateKerrigan(lib281DEC45_gf_StoryModeDefaultPosition());
    lib281DEC45_gf_SetCharacterUnit("Zerg Adjutant", UnitFromId(4));
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true) && (libSwaC_gf_MissionStatusCheck("ZExpedition3", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_SetCharacterUnit("Protoss Prisoner", UnitFromId(39));
    }
    else {
    }
    lib281DEC45_gf_SetCharacterUnit("Evolution Master", UnitFromId(1));
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Zagara", UnitFromId(27));
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Primal Advisor", UnitFromId(26));
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Roach"), "ZSMRoach");
    }
    else {
    }
    lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Zergling"), "ZSMZergling");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_KaldrInit01Units_Init () {
    gt_KaldrInit01Units = TriggerCreate("gt_KaldrInit01Units_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Kaldr Init 02 Conversations
//--------------------------------------------------------------------------------------------------
bool gt_KaldrInit03Conversations2_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetCharacterPreCallback("Primal Advisor", gt_ConvoDehakaPre);
    lib281DEC45_gf_SetCharacterPreCallback("Protoss Prisoner", gt_ConvoLasarraPre);
    lib281DEC45_gf_SetCharacterPreCallback("Zerg Adjutant", gt_ConvoAdjutantPre);
    lib281DEC45_gf_SetCharacterPreCallback("Zagara", gt_ConvoZagaraPre);
    lib281DEC45_gf_SetCharacterPostCallback("Zagara", gt_ConvoZagaraPost);
    lib281DEC45_gf_SetCharacterCameraCallback("Zagara", gt_ConvoZagaraLineHandle);
    lib281DEC45_gf_SetCharacterPreCallback("Hotspot - Expedition - Hatchery", gt_ConvoHatcheryPre);
    lib281DEC45_gf_SetCharacterPostCallback("Hotspot - Expedition - Hatchery", gt_ConvoHatcheryPost);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_KaldrInit03Conversations2_Init () {
    gt_KaldrInit03Conversations2 = TriggerCreate("gt_KaldrInit03Conversations2_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Kaldr Init 03 Environment
//--------------------------------------------------------------------------------------------------
bool gt_KaldrInit04Environment2_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ApplyStorymodeEnvironment();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_KaldrInit04Environment2_Init () {
    gt_KaldrInit04Environment2 = TriggerCreate("gt_KaldrInit04Environment2_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Kaldr Init 04 Characters
//--------------------------------------------------------------------------------------------------
bool gt_KaldrInit04Characters_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((libSwaC_gf_MissionStatusCheck("ZExpedition2", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Expedition - Hatchery", true);
    }
    else {
    }
    lib281DEC45_gf_EnableDisableCharacter("Kerrigan", true);
    lib281DEC45_gf_UseAltKerriganPosition(true);
    lib281DEC45_gf_EnableDisableCharacter("Zerg Adjutant", true);
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Zagara", true);
        lib281DEC45_gf_UseAltKerriganPosition(false);
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Primal Advisor", true);
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true) && (libSwaC_gf_MissionStatusCheck("ZExpedition3", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_EnableDisableCharacter("Protoss Prisoner", true);
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Protoss Prisoner", false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_KaldrInit04Characters_Init () {
    gt_KaldrInit04Characters = TriggerCreate("gt_KaldrInit04Characters_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Kaldr Init 05 Scenes
//--------------------------------------------------------------------------------------------------
bool gt_KaldrInit05Scenes_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetScriptedSceneCallback("Scene02", gt_zDebrief_Expedition01);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene18", gt_zScripted_ZAdjutantIntro);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene11", gt_zDebrief_Arc4DoW);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene20", gt_zSMBriefing_Expedition03);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene30", gt_zScripted_FourthArcAfter);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene31", gt_zDebrief_Arc2);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene34", gt_zDebrief_Mission5);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene32", gt_PlanetArrival);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene33", gt_PlanetDeparture);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_KaldrInit05Scenes_Init () {
    gt_KaldrInit05Scenes = TriggerCreate("gt_KaldrInit05Scenes_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Apply Kaldir Lighting
//--------------------------------------------------------------------------------------------------
bool gt_ApplyKaldirLighting_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_PlaySetLighting("Primal Advisor", lib281DEC45_gf_CharacterSceneNameToken("Primal Advisor"));
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_PlaySetLighting("Zagara", lib281DEC45_gf_CharacterSceneNameToken("Zagara"));
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganB");
    }
    else {
        lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganA");
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Protoss Prisoner") == true)) {
        lib281DEC45_gf_PlaySetLighting("Protoss Prisoner", lib281DEC45_gf_CharacterSceneNameToken("Protoss Prisoner"));
    }
    else {
    }
    lib281DEC45_gf_PlaySetLighting("Zerg Adjutant", lib281DEC45_gf_CharacterSceneNameToken("Zerg Adjutant"));
    GameSetLighting("SMX1KaldrUI", 0.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ApplyKaldirLighting_Init () {
    gt_ApplyKaldirLighting = TriggerCreate("gt_ApplyKaldirLighting_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Prepare Kaldir Set
//--------------------------------------------------------------------------------------------------
bool gt_PrepareKaldirSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetHeight(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), lib281DEC45_gv_zSSC_DefaultAdjutantHeight, 0.0);
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Evolution Master"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Protoss Prisoner"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 09"));
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 04"));
    }
    else {
        lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 02"));
    }
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 03"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zagara"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 05"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Primal Advisor"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 06"));
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "TextureGroupApply kaldirset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan01, "TextureGroupApply kaldirset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan02, "TextureGroupApply kaldirset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathanPool, "TextureGroupApply kaldirset");
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Expedition - Hatchery"));
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETKaldir);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan00);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan01);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan02);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETLeviathanPool);
    lib281DEC45_gf_ShowHideUnitAbs(false, UnitFromId(36));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Evolution Master"));
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", false, 0.0);
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Protoss Prisoner") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Protoss Prisoner", true);
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Protoss Prisoner", false);
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Kaldir3_Oneshots", -1), 1);
    }
    else if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Kaldir2_Oneshots", -1), 1);
    }
    else if (true) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Kaldir1_Oneshots", -1), 1);
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Hotspot - Expedition - Hatchery"), "Work", true, 0.0);
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(gv_uNITSETKaldir, "Work", true, 0.0);
    }
    else {
    }
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Kaldir", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    FogSetEnabled(false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PrepareKaldirSet_Init () {
    gt_PrepareKaldirSet = TriggerCreate("gt_PrepareKaldirSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: View Kaldir Set
//--------------------------------------------------------------------------------------------------
bool gt_ViewKaldirSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerExecute(gt_ApplyKaldirLighting, true, false);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathanPool);
    if ((gf_UseMainCamera() == false)) {
        CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Far", 0.0);
    }
    else {
        CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Main", 0.0);
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", true, 0.0);
    }
    else {
    }
    if ((gv_leviathanBirthPlayed == false) && (libSwaC_gf_StoryMapTypeCheck(libSwaC_gf_LastMap(), c_mapKindStory) == true)) {
        gv_leviathanBirthPlayed = true;
        TriggerExecute(gt_LeviathanBirth, false, true);
    }
    else {
    }
    gf_InitAmbientScenes();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ViewKaldirSet_Init () {
    gt_ViewKaldirSet = TriggerCreate("gt_ViewKaldirSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Dehaka Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoDehakaPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoDehakaPre_Init () {
    gt_ConvoDehakaPre = TriggerCreate("gt_ConvoDehakaPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Lasarra Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoLasarraPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition2", libSwaC_ge_MissionStatus_Available) == true)) {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zSM_ProtossPrisoner_Before_Exp02", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoLasarraPre_Init () {
    gt_ConvoLasarraPre = TriggerCreate("gt_ConvoLasarraPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Line Handle
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraLineHandle_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((ConversationDataActiveLine() == "zSM_RogueQueen|Line00095")) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
        lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_Medium, "Protoss Prisoner", "Protoss Prisoner");
        SoundPlay(SoundLink("Cut_Conversation_Lasarra_Struggle_01", -1), PlayerGroupAll(), 100.0, 0.0);
        gv_lasarraStrugglingSound = SoundLastPlayed();
        UnitSetState(lib281DEC45_gf_CharacterUnit("Protoss Prisoner"), c_unitStateFidget, false);
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Protoss Prisoner")), c_animNameDefault, "Stand 02", 0, 0.0);
        libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Protoss Prisoner")), "ANIM_CONVFIDGET", "Fidget 01", 0, 0.0);
        lib281DEC45_gf_SkipConversationCamera();
    }
    else {
        SoundStop(gv_lasarraStrugglingSound, true);
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
    }
    if ((lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom01) && (lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom02) && (lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom03) && (lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom01Listener) && (lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom02Listener) && (lib281DEC45_gf_CurrentConversationCamera() != lib281DEC45_ge_CameraType_Custom03Listener)) {
        return true;
    }
    else {
    }
    lib281DEC45_gf_SkipConversationLookAt();
    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantStandingSubtle");
    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly");
    if ((lib281DEC45_gf_CurrentCameraCharacter() == "Kerrigan") && (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02)) {
        libNtve_gf_SimpleLookAtStart(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly", ActorFrom("::external.ZFLookAtHead"));
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraLineHandle_Init () {
    gt_ConvoZagaraLineHandle = TriggerCreate("gt_ConvoZagaraLineHandle_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPre_Init () {
    gt_ConvoZagaraPre = TriggerCreate("gt_ConvoZagaraPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantStandingSubtle");
    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly");
    lib281DEC45_gf_ClearAnimationwithblendtime("ANIM_CONVFIDGET", lib281DEC45_gf_CharacterUnit("Protoss Prisoner"), 0.0);
    SoundStop(gv_lasarraStrugglingSound, true);
    UnitSetState(lib281DEC45_gf_CharacterUnit("Protoss Prisoner"), c_unitStateFidget, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPost_Init () {
    gt_ConvoZagaraPost = TriggerCreate("gt_ConvoZagaraPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Protoss Prisoner"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPre_Init () {
    gt_ConvoAdjutantPre = TriggerCreate("gt_ConvoAdjutantPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Hatchery Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoHatcheryPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "AnimSetPausedAll");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoHatcheryPre_Init () {
    gt_ConvoHatcheryPre = TriggerCreate("gt_ConvoHatcheryPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Hatchery Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoHatcheryPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "AnimSetPausedAll 0");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoHatcheryPost_Init () {
    gt_ConvoHatcheryPost = TriggerCreate("gt_ConvoHatcheryPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Arrival
//--------------------------------------------------------------------------------------------------
bool gt_PlanetArrival_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetArrival", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_ArrivalIce.SC2Cutscene");
    Wait(0.0625, c_timeGame);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetArrival_Init () {
    gt_PlanetArrival = TriggerCreate("gt_PlanetArrival_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Departure
//--------------------------------------------------------------------------------------------------
bool gt_PlanetDeparture_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == false)) {
        CutsceneAddGlobalFilter("Zeratul");
    }
    else {
    }
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetDeparture", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_DepartIce.SC2Cutscene");
    CutsceneRemoveGlobalFilter("Zeratul");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetDeparture_Init () {
    gt_PlanetDeparture = TriggerCreate("gt_PlanetDeparture_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirth_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(gt_LeviathanBirthIzshaBirth, true);
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, true);
    lib281DEC45_gf_ToggleInteractives(false);
    lib281DEC45_gf_ShowHideStoryUI(false);
    lib281DEC45_gf_StoryCutsceneFade(false, 0.0, true);
    Wait(0.0625, c_timeGame);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), c_animNameDefault, "Stand Sad End", c_animFlagNonLooping, 1.0);
    libNtve_gf_CinematicMode(true, PlayerGroupAll(), c_transitionDurationImmediate);
    if ((gf_UseMainCamera() == true)) {
        libSwaC_gf_CampaignPlayCutscene("Cutscenes\\zLD_LeviathanBirth.SC2Cutscene", lib281DEC45_gf_StoryModeDefaultPosition(), true, true);
    }
    else {
        libSwaC_gf_CampaignPlayCutscene("Cutscenes\\zLD_LeviathanBirth_Far.SC2Cutscene", lib281DEC45_gf_StoryModeDefaultPosition(), true, true);
    }
    libNtve_gf_CinematicMode(false, PlayerGroupAll(), c_transitionDurationImmediate);
    lib281DEC45_gf_FadeStoryUITransparency(100.0, 0.0);
    lib281DEC45_gf_FadeStoryUITransparency(0.0, 4.0);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_StoryCutsceneFade(true, 0.0, false);
    lib281DEC45_gf_ShowHideStoryUI(true);
    lib281DEC45_gf_ToggleInteractives(true);
    TriggerEnable(gt_LeviathanBirthIzshaBirth, false);
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirth_Init () {
    gt_LeviathanBirth = TriggerCreate("gt_LeviathanBirth_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth - Izsha Birth
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirthIzshaBirth_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Zerg Adjutant")), c_animNameDefault, "Birth Fast", c_animFlagNonLooping, 0.0);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    TriggerEnable(TriggerGetCurrent(), false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirthIzshaBirth_Init () {
    gt_LeviathanBirthIzshaBirth = TriggerCreate("gt_LeviathanBirthIzshaBirth_Func");
    TriggerEnable(gt_LeviathanBirthIzshaBirth, false);
    TriggerAddEventCutsceneBookmarkFired(gt_LeviathanBirthIzshaBirth, c_cutsceneNone, "IzshaBirth");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth - Leviathan Anim
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirthLeviathanAnim_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(gv_uNITSETLeviathan00), c_animNameDefault, "Adjutant Start Work", 0, c_animTimeDefault);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirthLeviathanAnim_Init () {
    gt_LeviathanBirthLeviathanAnim = TriggerCreate("gt_LeviathanBirthLeviathanAnim_Func");
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, false);
    TriggerAddEventCutsceneBookmarkFired(gt_LeviathanBirthLeviathanAnim, c_cutsceneNone, "Leviathan Izsha");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_ZAdjutantIntro
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_ZAdjutantIntro_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    UnitLoadModel(UnitFromId(36));
    libNtve_gf_SendActorMessageToUnit(UnitFromId(36), "AliasAdd ZScenePlanet");
    libNtve_gf_SendActorMessageToUnit(UnitFromId(36), "ExternalFinderAdd");
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_ZAdjutantIntro", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition01MusicCutscene00_KerriganMeetsIzsha", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_ZAdjutantIntro", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip, null);
    UnitUnloadModel(UnitFromId(36));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_ZAdjutantIntro_Init () {
    gt_zScripted_ZAdjutantIntro = TriggerCreate("gt_zScripted_ZAdjutantIntro_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Expedition01
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Expedition01_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Expedition01", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition02MusicCutscene_ProtossPrisoner", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Expedition01", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Expedition01_Init () {
    gt_zDebrief_Expedition01 = TriggerCreate("gt_zDebrief_Expedition01_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc4DoW
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc4DoW_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc4DoW", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc4DoW", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc4DoW", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc4DoW_Init () {
    gt_zDebrief_Arc4DoW = TriggerCreate("gt_zDebrief_Arc4DoW_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zSMBriefing_Expedition03
//--------------------------------------------------------------------------------------------------
bool gt_zSMBriefing_Expedition03_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zSMBriefing_Expedition03", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition03MusicCutscene00_Interogation", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zSMBriefing_Expedition03", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zSMBriefing_Expedition03_Init () {
    gt_zSMBriefing_Expedition03 = TriggerCreate("gt_zSMBriefing_Expedition03_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_FourthArcAfter
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_FourthArcAfter_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_FourthArcAfter", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zScripted_FourthArcAfter", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_FourthArcAfter", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_FourthArcAfter_Init () {
    gt_zScripted_FourthArcAfter = TriggerCreate("gt_zScripted_FourthArcAfter_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc2
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc2_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_OverShoulder, "Kerrigan", "Zerg Adjutant");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly", lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "Ref_Head");
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc2", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc2", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc2", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter | lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutAfter | lib281DEC45_ge_SwarmStoryFadeStyle_BlockingFadeInAtStart, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc2_Init () {
    gt_zDebrief_Arc2 = TriggerCreate("gt_zDebrief_Arc2_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Mission5
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Mission5_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_Medium, "Zerg Adjutant", "Zerg Adjutant");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "InstantEyesOnly", lib281DEC45_gf_CharacterUnit("Kerrigan"), "Ref_Head");
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Mission5", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition03MusicCutscene_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Mission5", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter | lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutAfter | lib281DEC45_ge_SwarmStoryFadeStyle_BlockingFadeInAtStart, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Mission5_Init () {
    gt_zDebrief_Mission5 = TriggerCreate("gt_zDebrief_Mission5_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_Initialization_Init();
    gt_KaldrInit01Units_Init();
    gt_KaldrInit03Conversations2_Init();
    gt_KaldrInit04Environment2_Init();
    gt_KaldrInit04Characters_Init();
    gt_KaldrInit05Scenes_Init();
    gt_ApplyKaldirLighting_Init();
    gt_PrepareKaldirSet_Init();
    gt_ViewKaldirSet_Init();
    gt_ConvoDehakaPre_Init();
    gt_ConvoLasarraPre_Init();
    gt_ConvoZagaraLineHandle_Init();
    gt_ConvoZagaraPre_Init();
    gt_ConvoZagaraPost_Init();
    gt_ConvoAdjutantPre_Init();
    gt_ConvoHatcheryPre_Init();
    gt_ConvoHatcheryPost_Init();
    gt_PlanetArrival_Init();
    gt_PlanetDeparture_Init();
    gt_LeviathanBirth_Init();
    gt_LeviathanBirthIzshaBirth_Init();
    gt_LeviathanBirthLeviathanAnim_Init();
    gt_zScripted_ZAdjutantIntro_Init();
    gt_zDebrief_Expedition01_Init();
    gt_zDebrief_Arc4DoW_Init();
    gt_zSMBriefing_Expedition03_Init();
    gt_zScripted_FourthArcAfter_Init();
    gt_zDebrief_Arc2_Init();
    gt_zDebrief_Mission5_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitGlobals();
    InitTriggers();
}
