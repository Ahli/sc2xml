//==================================================================================================
// 
// Generated Map Script
// 
// Name:   Skygeirr Station
// 
//==================================================================================================
include "TriggerLibs/NativeLib"
include "TriggerLibs/SwarmCampaignLib"
include "Lib281DEC45"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
    libSwaC_InitLib();
    lib281DEC45_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Global Variables
//--------------------------------------------------------------------------------------------------
unit gv_uNITSETDusk00;
unit gv_uNITSETDusk01;
unit gv_uNITSETDusk03;
unit gv_uNITSETNight00;
unit gv_uNITSETLeviathan00;
unit gv_uNITSETLeviathan01;
unit gv_uNITSETLeviathan02;
unit gv_uNITSETLeviathanPool;
bool gv_ambientScenesInitialized;

void InitGlobals () {
}

//--------------------------------------------------------------------------------------------------
// Global Function Declarations
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes ();

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_Initialization;
trigger gt_Init01Units;
trigger gt_Init02Conversations;
trigger gt_Init03Environment;
trigger gt_Init04Characters;
trigger gt_Init05Scenes;
trigger gt_ApplyHybridLighting;
trigger gt_PrepareHybridSet;
trigger gt_ViewHybridSet;
trigger gt_ConvoAdjutantPre;
trigger gt_ConvoStukovPre;
trigger gt_ConvoStukovPost;
trigger gt_ConvoZagaraPre;
trigger gt_ConvoZagaraLineHandle;
trigger gt_ConvoDehakaPre;
trigger gt_PlanetArrival;
trigger gt_PlanetDeparture;
trigger gt_zSMBriefing_Hybrid02;
trigger gt_zDebrief_Hybrid02;
trigger gt_zDebrief_Hybrid03;
trigger gt_zDebrief_Arc5DoW;
trigger gt_zDebrief_Arc6DoW;
trigger gt_zDoWSceneHideSet;
trigger gt_zDoWSceneShowSet;
trigger gt_zScripted_HybridArcBefore;
trigger gt_zScripted_HybridTravel;

//--------------------------------------------------------------------------------------------------
// Global Functions
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes () {
    // Implementation
    if ((gv_ambientScenesInitialized == true)) {
        return ;
    }
    else {
        gv_ambientScenesInitialized = true;
    }
    lib281DEC45_gf_PlayAmbientScene("zLD_Maggot");
    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_PlayAmbientScene("zLD_Zergling_walkthrough");
    }
    else {
    }
}

//--------------------------------------------------------------------------------------------------
// Trigger: Initialization
//--------------------------------------------------------------------------------------------------
bool gt_Initialization_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        CutsceneSetGlobalFilter("HybridNight");
    }
    else {
        CutsceneSetGlobalFilter("HybridDusk");
    }
    lib281DEC45_gf_InitializeSwarmStoryData("ZStoryHybrid");
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilPrepareMainSet, gt_PrepareHybridSet);
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilViewMainSet, gt_ViewHybridSet);
    TriggerExecute(gt_Init01Units, true, false);
    TriggerExecute(gt_Init02Conversations, true, false);
    TriggerExecute(gt_Init03Environment, true, false);
    TriggerExecute(gt_Init04Characters, true, false);
    TriggerExecute(gt_Init05Scenes, true, false);
    lib281DEC45_gf_BeginStoryMode();
    AchievementTermQuantitySet(1, "KerriganPower70", MinI(libSwaC_gf_StoryKerriganLevel(), 70));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Initialization_Init () {
    gt_Initialization = TriggerCreate("gt_Initialization_Func");
    TriggerAddEventMapInit(gt_Initialization);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 01 Units
//--------------------------------------------------------------------------------------------------
bool gt_Init01Units_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1_MobiusSet_Night", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETNight00 = UnitLastCreated();
        lib281DEC45_gf_CreateStoryCharacter("Hotspot - Hybrid - Station", "SMX1_MobiusSet_Night_01", lib281DEC45_gf_StoryModeDefaultPosition());
        lib281DEC45_gf_StoryAddAliasedUnit(gv_uNITSETNight00, "ZSMStorySet");
    }
    else {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1_MobiusSet_Dusk", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETDusk00 = UnitLastCreated();
        if ((libSwaC_gf_MissionStatusCheck("ZHybrid1", libSwaC_ge_MissionStatus_Completed) == true)) {
            lib281DEC45_gf_StoryCreateSetUnit("SMX1_MobiusSet_Dusk01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
            gv_uNITSETDusk01 = UnitLastCreated();
        }
        else {
        }
        lib281DEC45_gf_StoryCreateSetUnit("SMX1_MobiusSet_Dusk03", UnitGetAttachmentPoint(gv_uNITSETDusk00, "Pos_SetLocation"), 270.0);
        gv_uNITSETDusk03 = UnitLastCreated();
        UnitSetHeight(gv_uNITSETDusk03, PointGetHeight(UnitGetAttachmentPoint(gv_uNITSETDusk00, "Pos_SetLocation")), 0.0);
        lib281DEC45_gf_CreateStoryCharacter("Hotspot - Hybrid - Station", "SMX1_MobiusSet_Dusk02", lib281DEC45_gf_StoryModeDefaultPosition());
        lib281DEC45_gf_StoryAddAliasedUnit(gv_uNITSETDusk00, "ZSMStorySet");
    }
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan00 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan01 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet02", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan02 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet03", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathanPool = UnitLastCreated();
    UnitCreate(1, "SMX1LeviathanSetCalloutPositions", 0, 1, lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    lib281DEC45_gf_StoryAddCalloutAttachmentUnit(UnitLastCreated());
    lib281DEC45_gf_StoryCreateKerrigan(lib281DEC45_gf_StoryModeDefaultPosition());
    lib281DEC45_gf_SetCharacterUnit("Zerg Adjutant", UnitFromId(7));
    lib281DEC45_gf_SetCharacterUnit("Evolution Master", UnitFromId(6));
    lib281DEC45_gf_SetCharacterUnit("Stukov", UnitFromId(4));
    lib281DEC45_gf_SetCharacterUnit("Zagara", UnitFromId(19));
    lib281DEC45_gf_SetCharacterUnit("Primal Advisor", UnitFromId(18));
    lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Zergling"), "ZSMZergling");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init01Units_Init () {
    gt_Init01Units = TriggerCreate("gt_Init01Units_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 02 Conversations
//--------------------------------------------------------------------------------------------------
bool gt_Init02Conversations_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetCharacterPreCallback("Zerg Adjutant", gt_ConvoAdjutantPre);
    lib281DEC45_gf_SetCharacterPreCallback("Zagara", gt_ConvoZagaraPre);
    lib281DEC45_gf_SetCharacterPreCallback("Primal Advisor", gt_ConvoDehakaPre);
    lib281DEC45_gf_SetCharacterPreCallback("Stukov", gt_ConvoStukovPre);
    lib281DEC45_gf_SetCharacterPostCallback("Stukov", gt_ConvoStukovPost);
    lib281DEC45_gf_SetCharacterCameraCallback("Zagara", gt_ConvoZagaraLineHandle);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init02Conversations_Init () {
    gt_Init02Conversations = TriggerCreate("gt_Init02Conversations_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 03 Environment
//--------------------------------------------------------------------------------------------------
bool gt_Init03Environment_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ApplyStorymodeEnvironment();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init03Environment_Init () {
    gt_Init03Environment = TriggerCreate("gt_Init03Environment_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 04 Characters
//--------------------------------------------------------------------------------------------------
bool gt_Init04Characters_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_EnableDisableCharacter("Kerrigan", true);
    lib281DEC45_gf_EnableDisableCharacter("Zerg Adjutant", true);
    lib281DEC45_gf_EnableDisableCharacter("Stukov", true);
    lib281DEC45_gf_EnableDisableCharacter("Zagara", true);
    lib281DEC45_gf_EnableDisableCharacter("Primal Advisor", true);
    if (((libSwaC_gf_MissionStatusCheck("ZHybrid1", libSwaC_ge_MissionStatus_Completed) == false) || (libSwaC_gf_MissionStatusCheck("ZHybrid3", libSwaC_ge_MissionStatus_Completed) == true))) {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Hybrid - Station", true);
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Hybrid - Station", false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init04Characters_Init () {
    gt_Init04Characters = TriggerCreate("gt_Init04Characters_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init 05 Scenes
//--------------------------------------------------------------------------------------------------
bool gt_Init05Scenes_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetScriptedSceneCallback("Scene04", gt_zDebrief_Hybrid02);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene28", gt_zSMBriefing_Hybrid02);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene05", gt_zDebrief_Hybrid03);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene12", gt_zDebrief_Arc5DoW);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene13", gt_zDebrief_Arc6DoW);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene27", gt_zScripted_HybridArcBefore);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene29", gt_zScripted_HybridTravel);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene32", gt_PlanetArrival);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene33", gt_PlanetDeparture);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Init05Scenes_Init () {
    gt_Init05Scenes = TriggerCreate("gt_Init05Scenes_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Apply Hybrid Lighting
//--------------------------------------------------------------------------------------------------
bool gt_ApplyHybridLighting_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganB");
    lib281DEC45_gf_PlaySetLighting("Zagara", lib281DEC45_gf_CharacterSceneNameToken("Zagara"));
    lib281DEC45_gf_PlaySetLighting("Primal Advisor", lib281DEC45_gf_CharacterSceneNameToken("Primal Advisor"));
    lib281DEC45_gf_PlaySetLighting("Zerg Adjutant", lib281DEC45_gf_CharacterSceneNameToken("Zerg Adjutant"));
    lib281DEC45_gf_PlaySetLighting("Stukov", lib281DEC45_gf_CharacterSceneNameToken("Stukov"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ApplyHybridLighting_Init () {
    gt_ApplyHybridLighting = TriggerCreate("gt_ApplyHybridLighting_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Prepare Hybrid Set
//--------------------------------------------------------------------------------------------------
bool gt_PrepareHybridSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetHeight(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), lib281DEC45_gv_zSSC_DefaultAdjutantHeight, 0.0);
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 04"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 03"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zagara"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 05"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Primal Advisor"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 06"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Stukov"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 09"));
    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "TextureGroupApply hybridnightset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan01, "TextureGroupApply hybridnightset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan02, "TextureGroupApply hybridnightset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathanPool, "TextureGroupApply hybridnightset");
    }
    else {
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "TextureGroupApply hybridduskset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan01, "TextureGroupApply hybridduskset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan02, "TextureGroupApply hybridduskset");
        libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathanPool, "TextureGroupApply hybridduskset");
    }
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", false, 0.0);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Evolution Master"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Arcturus Mengsk"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Valerian"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Horner"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Hybrid - Station"));
    lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Stukov"), "B", false, 0.0);
    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETNight00);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETDusk00);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETDusk01);
    }
    else {
        if ((libSwaC_gf_MissionStatusCheck("ZHybrid1", libSwaC_ge_MissionStatus_Completed) == true)) {
            lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETDusk01);
        }
        else {
            lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETDusk01);
        }
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETNight00);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETDusk00);
    }
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan00);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan01);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan02);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETLeviathanPool);
    if ((libSwaC_gf_MissionStatusCheck("ZHybrid2", libSwaC_ge_MissionStatus_Completed) == true)) {
        FogSetEnabled(true);
        FogSetColor(Color(50.20, 60.00, 100.00));
        FogSetDensity(0.008);
        FogSetFallOff(0.1);
        FogSetStartHeight(0.0);
        GameSetLighting("SMX1MobiusNightUI", 0.0);
    }
    else {
        FogSetEnabled(true);
        FogSetColor(Color(60.00, 50.20, 29.80));
        FogSetDensity(0.01);
        FogSetFallOff(0.1);
        FogSetStartHeight(0.0);
        GameSetLighting("SMX1MobiusDuskUI", 0.0);
    }
    if ((libSwaC_gf_MissionStatusCheck("ZHybrid1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Hybrid_Station_Destroyed_Loop2", -1), 1);
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Hybrid_Destroyed", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    else {
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Hybrid1_Oneshots", -1), 1);
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Hybrid", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PrepareHybridSet_Init () {
    gt_PrepareHybridSet = TriggerCreate("gt_PrepareHybridSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: View Hybrid Set
//--------------------------------------------------------------------------------------------------
bool gt_ViewHybridSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerExecute(gt_ApplyHybridLighting, true, false);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathanPool);
    lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Stukov"), "B", true, 0.0);
    lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", true, 0.0);
    CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Far", 0.0);
    gf_InitAmbientScenes();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ViewHybridSet_Init () {
    gt_ViewHybridSet = TriggerCreate("gt_ViewHybridSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Stukov"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPre_Init () {
    gt_ConvoAdjutantPre = TriggerCreate("gt_ConvoAdjutantPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Stukov Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoStukovPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Stukov"));
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "AnimSetPausedAll");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoStukovPre_Init () {
    gt_ConvoStukovPre = TriggerCreate("gt_ConvoStukovPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Stukov Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoStukovPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "AnimSetPausedAll 0");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoStukovPost_Init () {
    gt_ConvoStukovPost = TriggerCreate("gt_ConvoStukovPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPre_Init () {
    gt_ConvoZagaraPre = TriggerCreate("gt_ConvoZagaraPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Line Handle
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraLineHandle_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if (((lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03Listener))) {
        lib281DEC45_gf_SkipConversationLookAt();
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraLineHandle_Init () {
    gt_ConvoZagaraLineHandle = TriggerCreate("gt_ConvoZagaraLineHandle_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Dehaka Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoDehakaPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoDehakaPre_Init () {
    gt_ConvoDehakaPre = TriggerCreate("gt_ConvoDehakaPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Arrival
//--------------------------------------------------------------------------------------------------
bool gt_PlanetArrival_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetArrival", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_ArrivalHybrid.SC2Cutscene");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetArrival_Init () {
    gt_PlanetArrival = TriggerCreate("gt_PlanetArrival_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Departure
//--------------------------------------------------------------------------------------------------
bool gt_PlanetDeparture_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetDeparture", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_DepartHybrid.SC2Cutscene");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetDeparture_Init () {
    gt_PlanetDeparture = TriggerCreate("gt_PlanetDeparture_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zSMBriefing_Hybrid02
//--------------------------------------------------------------------------------------------------
bool gt_zSMBriefing_Hybrid02_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    TriggerExecute(gt_ConvoStukovPre, true, false);
    lib281DEC45_gf_PreloadScriptedConversation("zSMBriefing_Hybrid02", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZHybrid02MusicCutscene00_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zSMBriefing_Hybrid02", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zSMBriefing_Hybrid02_Init () {
    gt_zSMBriefing_Hybrid02 = TriggerCreate("gt_zSMBriefing_Hybrid02_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Hybrid02
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Hybrid02_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    CinematicFade(false, 0.0, c_fadeStyleNormal, Color(0.00, 0.00, 0.00), 0.0, true);
    Wait(0.0625, c_timeGame);
    ConversationDataPreloadLines("zDebrief_Hybrid02");
    SoundLengthQueryWait();
    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_OverShoulder, "Kerrigan", "Stukov");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly", lib281DEC45_gf_CharacterUnit("Stukov"), "Ref_Head");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Stukov"), "InstantHeadOnly", lib281DEC45_gf_CharacterUnit("Kerrigan"), "Ref_Head");
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Hybrid02", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZHybrid03MusicCutscene00_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    CinematicFade(true, 1.0, c_fadeStyleNormal, Color(0.00, 0.00, 0.00), 0.0, true);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Hybrid02", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter | lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Hybrid02_Init () {
    gt_zDebrief_Hybrid02 = TriggerCreate("gt_zDebrief_Hybrid02_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Hybrid03
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Hybrid03_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Hybrid03", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZHybrid03MusicCutscene03_AfterMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Hybrid03", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Hybrid03_Init () {
    gt_zDebrief_Hybrid03 = TriggerCreate("gt_zDebrief_Hybrid03_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc5DoW
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc5DoW_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    TriggerEnable(gt_zDoWSceneShowSet, true);
    TriggerEnable(gt_zDoWSceneHideSet, true);
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc5DoW", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSpace02MusicCutscene00_BroodMotherOrders", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc5DoW", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    TriggerEnable(gt_zDoWSceneShowSet, false);
    TriggerEnable(gt_zDoWSceneHideSet, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc5DoW_Init () {
    gt_zDebrief_Arc5DoW = TriggerCreate("gt_zDebrief_Arc5DoW_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc6DoW
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc6DoW_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    TriggerEnable(gt_zDoWSceneShowSet, true);
    TriggerEnable(gt_zDoWSceneHideSet, true);
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc6DoW", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc6DoW", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc6DoW", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    TriggerEnable(gt_zDoWSceneShowSet, false);
    TriggerEnable(gt_zDoWSceneHideSet, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc6DoW_Init () {
    gt_zDebrief_Arc6DoW = TriggerCreate("gt_zDebrief_Arc6DoW_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDoWScene Hide Set
//--------------------------------------------------------------------------------------------------
bool gt_zDoWSceneHideSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideStoryUnits(false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDoWSceneHideSet_Init () {
    gt_zDoWSceneHideSet = TriggerCreate("gt_zDoWSceneHideSet_Func");
    TriggerEnable(gt_zDoWSceneHideSet, false);
    TriggerAddEventCutsceneBookmarkFired(gt_zDoWSceneHideSet, c_cutsceneNone, "Hide Set");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDoWScene ShowSet
//--------------------------------------------------------------------------------------------------
bool gt_zDoWSceneShowSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideStoryUnits(true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDoWSceneShowSet_Init () {
    gt_zDoWSceneShowSet = TriggerCreate("gt_zDoWSceneShowSet_Func");
    TriggerEnable(gt_zDoWSceneShowSet, false);
    TriggerAddEventCutsceneBookmarkFired(gt_zDoWSceneShowSet, c_cutsceneNone, "Show Set");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_HybridArcBefore
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_HybridArcBefore_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_HybridArcBefore", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zScripted_HybridArcBefore", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_StoryCutsceneFade(false, 0.0, true);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_HybridArcBefore", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_HybridArcBefore_Init () {
    gt_zScripted_HybridArcBefore = TriggerCreate("gt_zScripted_HybridArcBefore_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_HybridTravel
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_HybridTravel_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Stukov"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_Hybrid03Travel", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zScripted_Hybrid03Travel", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_Hybrid03Travel", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_InstantFadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_HybridTravel_Init () {
    gt_zScripted_HybridTravel = TriggerCreate("gt_zScripted_HybridTravel_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_Initialization_Init();
    gt_Init01Units_Init();
    gt_Init02Conversations_Init();
    gt_Init03Environment_Init();
    gt_Init04Characters_Init();
    gt_Init05Scenes_Init();
    gt_ApplyHybridLighting_Init();
    gt_PrepareHybridSet_Init();
    gt_ViewHybridSet_Init();
    gt_ConvoAdjutantPre_Init();
    gt_ConvoStukovPre_Init();
    gt_ConvoStukovPost_Init();
    gt_ConvoZagaraPre_Init();
    gt_ConvoZagaraLineHandle_Init();
    gt_ConvoDehakaPre_Init();
    gt_PlanetArrival_Init();
    gt_PlanetDeparture_Init();
    gt_zSMBriefing_Hybrid02_Init();
    gt_zDebrief_Hybrid02_Init();
    gt_zDebrief_Hybrid03_Init();
    gt_zDebrief_Arc5DoW_Init();
    gt_zDebrief_Arc6DoW_Init();
    gt_zDoWSceneHideSet_Init();
    gt_zDoWSceneShowSet_Init();
    gt_zScripted_HybridArcBefore_Init();
    gt_zScripted_HybridTravel_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitGlobals();
    InitTriggers();
}
