//==================================================================================================
// 
// Generated Map Script
// 
// Name:   Char
// 
//==================================================================================================
include "TriggerLibs/NativeLib"
include "TriggerLibs/SwarmCampaignLib"
include "Lib281DEC45"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
    libSwaC_InitLib();
    lib281DEC45_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Global Variables
//--------------------------------------------------------------------------------------------------
bool gv_ambientScenesPlayed;
bool gv_birthScenePlayed;
unit gv_uNITSETCharCore;
unit gv_uNITSETChar02;
unit gv_uNITSETChar03;
unit gv_uNITSETChar04;
unit gv_uNITSETChar05;
unit gv_uNITSETLeviathan00;
unit gv_uNITSETLeviathan01;
unit gv_uNITSETLeviathan02;
unit gv_uNITSETLeviathanPool;
sound gv_zagaraLavaAmbience;

void InitGlobals () {
}

//--------------------------------------------------------------------------------------------------
// Global Function Declarations
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes ();

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_Initialization;
trigger gt_CharInit01Units;
trigger gt_CharInit03Conversations;
trigger gt_CharInit04Environment;
trigger gt_CharInit05Characters;
trigger gt_CharInit06Scenes;
trigger gt_ApplyCharLighting;
trigger gt_PrepareCharSet;
trigger gt_ViewCharSet;
trigger gt_ConvoAdjutantPre;
trigger gt_ConvoAdjutantPost;
trigger gt_ConvoZagaraPre;
trigger gt_ConvoZagaraPost;
trigger gt_ConvoFortressPre;
trigger gt_ConvoFortressPost;
trigger gt_ConvoZagaraLineHandle;
trigger gt_ConvoDehakaPre;
trigger gt_PlanetArrival;
trigger gt_PlanetDeparture;
trigger gt_LeviathanBirth;
trigger gt_LeviathanBirthIzshaBirth;
trigger gt_LeviathanBirthLeviathanAnim;
trigger gt_zScripted_ZAdjutantIntro;
trigger gt_zDebrief_Char01;
trigger gt_zDebrief_Arc2;
trigger gt_zDebrief_Mission5;
trigger gt_zScripted_FourthArcAfter;
trigger gt_zDebrief_Arc4DoW;

//--------------------------------------------------------------------------------------------------
// Global Functions
//--------------------------------------------------------------------------------------------------
void gf_InitAmbientScenes () {
    // Implementation
    if ((gv_ambientScenesPlayed == true)) {
        return ;
    }
    else {
        gv_ambientScenesPlayed = true;
    }
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_PlayAmbientScene("zLD_Maggot");
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == true)) {
        if ((libSwaC_gf_LastMapConditionCheck(libSwaC_ge_MissionCondition_Simulation) == false) && (libSwaC_gf_LastMap() == "ZChar1")) {
            lib281DEC45_gf_PlayAmbientScene("zLD_Char_bigintro");
        }
        else {
            lib281DEC45_gf_PlayAmbientScene("zLD_Char_loopfull_p1");
        }
    }
    else {
    }
}

//--------------------------------------------------------------------------------------------------
// Trigger: Initialization
//--------------------------------------------------------------------------------------------------
bool gt_Initialization_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    CutsceneSetGlobalFilter("Char");
    lib281DEC45_gf_InitializeSwarmStoryData("ZStoryChar");
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilViewMainSet, gt_ViewCharSet);
    libSwaC_gf_RegisterStoryEvent(libSwaC_ge_ZS_Event_StoryUtilPrepareMainSet, gt_PrepareCharSet);
    TriggerExecute(gt_CharInit01Units, true, false);
    TriggerExecute(gt_CharInit03Conversations, true, false);
    TriggerExecute(gt_CharInit04Environment, true, false);
    TriggerExecute(gt_CharInit05Characters, true, false);
    TriggerExecute(gt_CharInit06Scenes, true, false);
    lib281DEC45_gf_BeginStoryMode();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_Initialization_Init () {
    gt_Initialization = TriggerCreate("gt_Initialization_Func");
    TriggerAddEventMapInit(gt_Initialization);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Char Init 01 Units
//--------------------------------------------------------------------------------------------------
bool gt_CharInit01Units_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_StoryCreateSetUnit("SMX1CharSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETCharCore = UnitLastCreated();
    if ((libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1CharLavaCapHS", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETChar02 = UnitLastCreated();
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1CharSet03", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETChar03 = UnitLastCreated();
    }
    else {
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1CharSet04", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETChar04 = UnitLastCreated();
    }
    else {
        lib281DEC45_gf_CreateStoryCharacter("Hotspot - Char - Warfield's Compound", "SMX1CharWarfieldsCompoundHS", lib281DEC45_gf_StoryModeDefaultPosition());
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateSetUnit("SMX1CharSet05", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
        gv_uNITSETChar05 = UnitLastCreated();
    }
    else {
    }
    UnitSetState(gv_uNITSETChar02, c_unitStateHighlightable, false);
    UnitSetState(gv_uNITSETChar03, c_unitStateHighlightable, false);
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan00 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet01", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan01 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet02", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathan02 = UnitLastCreated();
    lib281DEC45_gf_StoryCreateSetUnit("SMX1LeviathanSet03", lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    gv_uNITSETLeviathanPool = UnitLastCreated();
    UnitCreate(1, "SMX1LeviathanSetCalloutPositions", 0, 1, lib281DEC45_gf_StoryModeDefaultPosition(), 270.0);
    lib281DEC45_gf_StoryAddCalloutAttachmentUnit(UnitLastCreated());
    lib281DEC45_gf_SetCharacterUnit("Zerg Adjutant", UnitFromId(22));
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Zagara", UnitFromId(52));
    }
    else {
    }
    lib281DEC45_gf_SetCharacterUnit("Evolution Master", UnitFromId(23));
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_SetCharacterUnit("Primal Advisor", UnitFromId(9));
    }
    else {
    }
    lib281DEC45_gf_StoryCreateKerrigan(lib281DEC45_gf_StoryModeDefaultPosition());
    if ((libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Baneling"), "ZSMBaneling");
    }
    else {
    }
    lib281DEC45_gf_StoryCreateUnitForCutsceneAliasing(libSwaC_gf_StoryArmyCategoryUIUnitType("Zergling"), "ZSMZergling");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_CharInit01Units_Init () {
    gt_CharInit01Units = TriggerCreate("gt_CharInit01Units_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Char Init 03 Conversations
//--------------------------------------------------------------------------------------------------
bool gt_CharInit03Conversations_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetCharacterPreCallback("Zerg Adjutant", gt_ConvoAdjutantPre);
    lib281DEC45_gf_SetCharacterPostCallback("Zerg Adjutant", gt_ConvoAdjutantPost);
    lib281DEC45_gf_SetCharacterPreCallback("Zagara", gt_ConvoZagaraPre);
    lib281DEC45_gf_SetCharacterPostCallback("Zagara", gt_ConvoZagaraPost);
    lib281DEC45_gf_SetCharacterPreCallback("Primal Advisor", gt_ConvoDehakaPre);
    lib281DEC45_gf_SetCharacterCameraCallback("Zagara", gt_ConvoZagaraLineHandle);
    lib281DEC45_gf_SetCharacterPreCallback("Hotspot - Char - Warfield's Compound", gt_ConvoFortressPre);
    lib281DEC45_gf_SetCharacterCameraCallback("Hotspot - Char - Warfield's Compound", gt_ConvoZagaraLineHandle);
    lib281DEC45_gf_SetCharacterPostCallback("Hotspot - Char - Warfield's Compound", gt_ConvoFortressPost);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_CharInit03Conversations_Init () {
    gt_CharInit03Conversations = TriggerCreate("gt_CharInit03Conversations_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Char Init 04 Environment
//--------------------------------------------------------------------------------------------------
bool gt_CharInit04Environment_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ApplyStorymodeEnvironment();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_CharInit04Environment_Init () {
    gt_CharInit04Environment = TriggerCreate("gt_CharInit04Environment_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Char Init 05 Characters
//--------------------------------------------------------------------------------------------------
bool gt_CharInit05Characters_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_EnableDisableCharacter("Kerrigan", true);
    lib281DEC45_gf_EnableDisableCharacter("Zerg Adjutant", true);
    if ((libSwaC_gf_MissionStatusCheck("ZZerus3", libSwaC_ge_MissionStatus_Completed) == false) && (libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == false)) {
        lib281DEC45_gf_UseAltKerriganPosition(true);
    }
    else {
        lib281DEC45_gf_UseAltKerriganPosition(false);
    }
    if ((lib281DEC45_gf_CharacterKnown("Primal Advisor") == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Primal Advisor", true);
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Primal Advisor", false);
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Char - Warfield's Compound", false);
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Hotspot - Char - Warfield's Compound", true);
    }
    if ((lib281DEC45_gf_CharacterKnown("Zagara") == true) && ((lib281DEC45_gf_CharacterHasNewInfo("Zagara") == true) || (libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true))) {
        lib281DEC45_gf_EnableDisableCharacter("Zagara", true);
    }
    else {
        lib281DEC45_gf_EnableDisableCharacter("Zagara", false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_CharInit05Characters_Init () {
    gt_CharInit05Characters = TriggerCreate("gt_CharInit05Characters_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Char Init 06 Scenes
//--------------------------------------------------------------------------------------------------
bool gt_CharInit06Scenes_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_SetScriptedSceneCallback("Scene01", gt_zDebrief_Char01);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene18", gt_zScripted_ZAdjutantIntro);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene11", gt_zDebrief_Arc4DoW);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene30", gt_zScripted_FourthArcAfter);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene31", gt_zDebrief_Arc2);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene34", gt_zDebrief_Mission5);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene32", gt_PlanetArrival);
    lib281DEC45_gf_SetScriptedSceneCallback("Scene33", gt_PlanetDeparture);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_CharInit06Scenes_Init () {
    gt_CharInit06Scenes = TriggerCreate("gt_CharInit06Scenes_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Apply Char Lighting
//--------------------------------------------------------------------------------------------------
bool gt_ApplyCharLighting_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((lib281DEC45_gf_KerriganUsesAltPosition() == true)) {
        lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganA");
    }
    else {
        lib281DEC45_gf_PlaySetLighting("Kerrigan", "KerriganB");
    }
    lib281DEC45_gf_PlaySetLighting("Zerg Adjutant", lib281DEC45_gf_CharacterSceneNameToken("Zerg Adjutant"));
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_PlaySetLighting("Zagara", lib281DEC45_gf_CharacterSceneNameToken("Zagara"));
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_PlaySetLighting("Primal Advisor", lib281DEC45_gf_CharacterSceneNameToken("Primal Advisor"));
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ApplyCharLighting_Init () {
    gt_ApplyCharLighting = TriggerCreate("gt_ApplyCharLighting_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Prepare Char Set
//--------------------------------------------------------------------------------------------------
bool gt_PrepareCharSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((lib281DEC45_gf_KerriganUsesAltPosition() == true)) {
        lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 02"));
    }
    else {
        lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Kerrigan"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 04"));
    }
    UnitSetHeight(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), lib281DEC45_gv_zSSC_DefaultAdjutantHeight, 0.0);
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Evolution Master"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 03"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Zagara"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 05"));
    lib281DEC45_gf_StorySetUnitLocation(lib281DEC45_gf_CharacterUnit("Primal Advisor"), UnitGetAttachmentPoint(gv_uNITSETLeviathan00, "Pos_SetLocation 06"));
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan00, "TextureGroupApply charset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan01, "TextureGroupApply charset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathan02, "TextureGroupApply charset");
    libNtve_gf_SendActorMessageToUnit(gv_uNITSETLeviathanPool, "TextureGroupApply charset");
    lib281DEC45_gf_ShowHideUnitAbs(false, UnitFromId(53));
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETCharCore);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan00);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan01);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathan02);
    lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETLeviathanPool);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Evolution Master"));
    if ((lib281DEC45_gf_CharacterIsEnabled("Primal Advisor") == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", false, 0.0);
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    else {
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true)) {
        libNtve_gf_TurnAnimationPropertiesOn(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Hotspot - Char - Warfield's Compound")), "Work");
        lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Hotspot - Char - Warfield's Compound"));
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar02);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar03);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar04);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar05);
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Char3_Loop", -1), 1);
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Char3_After_Oneshots", -1), 2);
    }
    else if ((libSwaC_gf_MissionStatusCheck("ZChar2", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Char - Warfield's Compound"));
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar02);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar03);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar04);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar05);
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Char3_Oneshots", -1), 1);
    }
    else if ((libSwaC_gf_MissionStatusCheck("ZChar1", libSwaC_ge_MissionStatus_Completed) == true)) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Char - Warfield's Compound"));
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar02);
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar03);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar04);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar05);
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Char2_Oneshots", -1), 1);
    }
    else if (true) {
        lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Hotspot - Char - Warfield's Compound"));
        lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETChar02);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar03);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar04);
        lib281DEC45_gf_ShowHideUnitAbs(false, gv_uNITSETChar05);
        lib281DEC45_gf_StoryPlayMainSetSound(SoundLink("Set_Ambient_Char1_Oneshots", -1), 1);
    }
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true)) {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Char03", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    else {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryAmbience, "Ambience_Leviathan_Mouth_Char", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    GameSetLighting("SMX1CharUI", 0.0);
    FogSetEnabled(true);
    FogSetColor(Color(50.20, 25.10, 20.39));
    FogSetDensity(0.0035);
    FogSetFallOff(0.001);
    FogSetStartHeight(0.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PrepareCharSet_Init () {
    gt_PrepareCharSet = TriggerCreate("gt_PrepareCharSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: View Char Set
//--------------------------------------------------------------------------------------------------
bool gt_ViewCharSet_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerExecute(gt_ApplyCharLighting, true, false);
    lib281DEC45_gf_ShowHideUnitAbs(true, gv_uNITSETLeviathanPool);
    if ((lib281DEC45_gf_KerriganUsesAltPosition() == true)) {
        CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Main", 0.0);
    }
    else {
        CameraUseModel(1, gv_uNITSETLeviathan00, "Camera_Far", 0.0);
    }
    if ((gv_birthScenePlayed == false) && (libSwaC_gf_StoryMapTypeCheck(libSwaC_gf_LastMap(), c_mapKindStory) == true)) {
        gv_birthScenePlayed = true;
        TriggerExecute(gt_LeviathanBirth, false, true);
    }
    else {
    }
    if ((lib281DEC45_gf_CharacterIsEnabled("Zagara") == true)) {
        lib281DEC45_gf_TurnAnimationPropertiesOnOff(lib281DEC45_gf_CharacterUnit("Zagara"), "B", true, 0.0);
    }
    else {
    }
    gf_InitAmbientScenes();
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ViewCharSet_Init () {
    gt_ViewCharSet = TriggerCreate("gt_ViewCharSet_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPre_Init () {
    gt_ConvoAdjutantPre = TriggerCreate("gt_ConvoAdjutantPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Adjutant Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoAdjutantPost_Func (bool testConds, bool runActions) {
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoAdjutantPost_Init () {
    gt_ConvoAdjutantPost = TriggerCreate("gt_ConvoAdjutantPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    if ((libSwaC_gf_MissionStatusCheck("ZChar3", libSwaC_ge_MissionStatus_Completed) == true) && (UserDataGetInt("WriterStates", "ZagaraTalkTimes", "Value", 1) >= 1)) {
        SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zSM_RogueQueen_03", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPre_Init () {
    gt_ConvoZagaraPre = TriggerCreate("gt_ConvoZagaraPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if ((UserDataGetInt("WriterStates", "ZagaraTalkTimes", "Value", 1) == 1) && (lib281DEC45_gf_CharacterIsEnabled("Zagara") == false)) {
        lib281DEC45_gf_SetCharacterNew("Evolution Master", true);
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraPost_Init () {
    gt_ConvoZagaraPost = TriggerCreate("gt_ConvoZagaraPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Fortress Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoFortressPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoFortressPre_Init () {
    gt_ConvoFortressPre = TriggerCreate("gt_ConvoFortressPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Fortress Post
//--------------------------------------------------------------------------------------------------
bool gt_ConvoFortressPost_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_SimpleLookAtStop(lib281DEC45_gf_CharacterUnit("Zagara"), "SlowHeadOnlySubtle");
    SoundStop(gv_zagaraLavaAmbience, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoFortressPost_Init () {
    gt_ConvoFortressPost = TriggerCreate("gt_ConvoFortressPost_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Zagara Line Handle
//--------------------------------------------------------------------------------------------------
bool gt_ConvoZagaraLineHandle_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zagara"));
    if (((lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom01Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom02Listener) || (lib281DEC45_gf_CurrentConversationCamera() == lib281DEC45_ge_CameraType_Custom03Listener))) {
        lib281DEC45_gf_SkipConversationLookAt();
        if (((ConversationDataActiveLine() == "zSM_CharFortress|Line00006") || (ConversationDataActiveLine() == "zSM_CharFortress|Line00016"))) {
            libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Zagara"), "SlowHeadOnlySubtle", lib281DEC45_gf_CharacterUnit("Kerrigan"), "Ref_Head");
        }
        else {
        }
        if (((ConversationDataActiveLine() == "zSM_CharFortress|Line00005"))) {
            SoundPlay(SoundLink("Cut_Ambience_zSM_CharFortress_Before_Char_03_alt", 0), PlayerGroupAll(), 100.0, 0.0);
            gv_zagaraLavaAmbience = SoundLastPlayed();
        }
        else {
        }
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoZagaraLineHandle_Init () {
    gt_ConvoZagaraLineHandle = TriggerCreate("gt_ConvoZagaraLineHandle_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Convo Dehaka Pre
//--------------------------------------------------------------------------------------------------
bool gt_ConvoDehakaPre_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_ConvoDehakaPre_Init () {
    gt_ConvoDehakaPre = TriggerCreate("gt_ConvoDehakaPre_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Arrival
//--------------------------------------------------------------------------------------------------
bool gt_PlanetArrival_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetArrival", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_ArrivalChar.SC2Cutscene");
    Wait(0.0625, c_timeGame);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetArrival_Init () {
    gt_PlanetArrival = TriggerCreate("gt_PlanetArrival_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Planet Departure
//--------------------------------------------------------------------------------------------------
bool gt_PlanetDeparture_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    if ((libSwaC_gf_MissionStatusCheck("ZExpedition3", libSwaC_ge_MissionStatus_Completed) == false)) {
        CutsceneAddGlobalFilter("Zeratul");
    }
    else {
    }
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZSwarmMusicPlanetDeparture", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayStorymodeCutscene("Cutscenes\\zLD_DepartChar.SC2Cutscene");
    CutsceneRemoveGlobalFilter("Zeratul");
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_PlanetDeparture_Init () {
    gt_PlanetDeparture = TriggerCreate("gt_PlanetDeparture_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirth_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(gt_LeviathanBirthIzshaBirth, true);
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, true);
    lib281DEC45_gf_ToggleInteractives(false);
    lib281DEC45_gf_ShowHideStoryUI(false);
    if ((libNtve_gf_PlayerInCinematicMode(1) == false)) {
        libNtve_gf_CinematicMode(true, PlayerGroupAll(), c_transitionDurationImmediate);
    }
    else {
    }
    lib281DEC45_gf_StoryCutsceneFade(false, 0.0, false);
    Wait(0.0625, c_timeGame);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Kerrigan")), c_animNameDefault, "Stand Sad End", c_animFlagNonLooping, 1.0);
    if ((lib281DEC45_gf_KerriganUsesAltPosition() == true)) {
        libSwaC_gf_CampaignPlayCutscene("Cutscenes\\zLD_LeviathanBirth.SC2Cutscene", lib281DEC45_gf_StoryModeDefaultPosition(), true, true);
    }
    else {
        libSwaC_gf_CampaignPlayCutscene("Cutscenes\\zLD_LeviathanBirth_Far.SC2Cutscene", lib281DEC45_gf_StoryModeDefaultPosition(), true, true);
    }
    libNtve_gf_CinematicMode(false, PlayerGroupAll(), c_transitionDurationImmediate);
    lib281DEC45_gf_FadeStoryUITransparency(100.0, 0.0);
    lib281DEC45_gf_FadeStoryUITransparency(0.0, 4.0);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_StoryCutsceneFade(true, 0.0, false);
    lib281DEC45_gf_ShowHideStoryUI(true);
    lib281DEC45_gf_ToggleInteractives(true);
    TriggerEnable(gt_LeviathanBirthIzshaBirth, false);
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirth_Init () {
    gt_LeviathanBirth = TriggerCreate("gt_LeviathanBirth_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth Izsha Birth
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirthIzshaBirth_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lib281DEC45_gf_CharacterUnit("Zerg Adjutant")), c_animNameDefault, "Birth Fast", c_animFlagNonLooping, 0.0);
    lib281DEC45_gf_ShowHideUnitAbs(true, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    TriggerEnable(TriggerGetCurrent(), false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirthIzshaBirth_Init () {
    gt_LeviathanBirthIzshaBirth = TriggerCreate("gt_LeviathanBirthIzshaBirth_Func");
    TriggerEnable(gt_LeviathanBirthIzshaBirth, false);
    TriggerAddEventCutsceneBookmarkFired(gt_LeviathanBirthIzshaBirth, c_cutsceneNone, "IzshaBirth");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Leviathan Birth Leviathan Anim
//--------------------------------------------------------------------------------------------------
bool gt_LeviathanBirthLeviathanAnim_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(gv_uNITSETLeviathan00), c_animNameDefault, "Adjutant Start Work", 0, c_animTimeDefault);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_LeviathanBirthLeviathanAnim_Init () {
    gt_LeviathanBirthLeviathanAnim = TriggerCreate("gt_LeviathanBirthLeviathanAnim_Func");
    TriggerEnable(gt_LeviathanBirthLeviathanAnim, false);
    TriggerAddEventCutsceneBookmarkFired(gt_LeviathanBirthLeviathanAnim, c_cutsceneNone, "Leviathan Izsha");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_ZAdjutantIntro
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_ZAdjutantIntro_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomVoid);
    UnitLoadModel(UnitFromId(53));
    libNtve_gf_SendActorMessageToUnit(UnitFromId(53), "AliasAdd ZScenePlanet");
    libNtve_gf_SendActorMessageToUnit(UnitFromId(53), "ExternalFinderAdd");
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_ZAdjutantIntro", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition01MusicCutscene00_KerriganMeetsIzsha", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_ZAdjutantIntro", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip, null);
    UnitUnloadModel(UnitFromId(53));
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_ZAdjutantIntro_Init () {
    gt_zScripted_ZAdjutantIntro = TriggerCreate("gt_zScripted_ZAdjutantIntro_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Char01
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Char01_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Char01", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZChar02MusicCutscene_BeforeChar02", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Char01", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Char01_Init () {
    gt_zDebrief_Char01 = TriggerCreate("gt_zDebrief_Char01_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc2
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc2_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_OverShoulder, "Kerrigan", "Zerg Adjutant");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Kerrigan"), "InstantHeadOnly", lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "Ref_Head");
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc2", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc2", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc2", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter | lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutAfter | lib281DEC45_ge_SwarmStoryFadeStyle_BlockingFadeInAtStart, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc2_Init () {
    gt_zDebrief_Arc2 = TriggerCreate("gt_zDebrief_Arc2_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Mission5
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Mission5_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ApplyCutsceneCameraFull(lib281DEC45_ge_CameraType_Medium, "Zerg Adjutant", "Zerg Adjutant");
    libNtve_gf_MakeUnitLookAtUnit(lib281DEC45_gf_CharacterUnit("Zerg Adjutant"), "InstantEyesOnly", lib281DEC45_gf_CharacterUnit("Kerrigan"), "Ref_Head");
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Mission5", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "ZExpedition03MusicCutscene_PreMission", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Mission5", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter | lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutAfter | lib281DEC45_ge_SwarmStoryFadeStyle_BlockingFadeInAtStart, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Mission5_Init () {
    gt_zDebrief_Mission5 = TriggerCreate("gt_zDebrief_Mission5_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zScripted_FourthArcAfter
//--------------------------------------------------------------------------------------------------
bool gt_zScripted_FourthArcAfter_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zerg Adjutant"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Kerrigan"));
    lib281DEC45_gf_PreloadScriptedConversation("zScripted_FourthArcAfter", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zScripted_FourthArcAfter", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zScripted_FourthArcAfter", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zScripted_FourthArcAfter_Init () {
    gt_zScripted_FourthArcAfter = TriggerCreate("gt_zScripted_FourthArcAfter_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: zDebrief_Arc4DoW
//--------------------------------------------------------------------------------------------------
bool gt_zDebrief_Arc4DoW_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib281DEC45_gf_ChangeRoom(lib281DEC45_ge_Rooms_StoryRoomMainSet);
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Zagara"));
    lib281DEC45_gf_ShowHideUnitAbs(false, lib281DEC45_gf_CharacterUnit("Primal Advisor"));
    lib281DEC45_gf_PreloadScriptedConversation("zDebrief_Arc4DoW", true);
    SoundtrackPlay(PlayerGroupAll(), c_soundtrackCategoryMusic, "zDebrief_Arc4DoW", c_soundtrackCueAny, c_soundtrackIndexAny, false);
    lib281DEC45_gf_PlayScriptedConversation("zDebrief_Arc4DoW", c_conversationSkipSimple, lib281DEC45_ge_SwarmStoryFadeStyle_FadeOutOnSkip | lib281DEC45_ge_SwarmStoryFadeStyle_FadeInAfter, null);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_zDebrief_Arc4DoW_Init () {
    gt_zDebrief_Arc4DoW = TriggerCreate("gt_zDebrief_Arc4DoW_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_Initialization_Init();
    gt_CharInit01Units_Init();
    gt_CharInit03Conversations_Init();
    gt_CharInit04Environment_Init();
    gt_CharInit05Characters_Init();
    gt_CharInit06Scenes_Init();
    gt_ApplyCharLighting_Init();
    gt_PrepareCharSet_Init();
    gt_ViewCharSet_Init();
    gt_ConvoAdjutantPre_Init();
    gt_ConvoAdjutantPost_Init();
    gt_ConvoZagaraPre_Init();
    gt_ConvoZagaraPost_Init();
    gt_ConvoFortressPre_Init();
    gt_ConvoFortressPost_Init();
    gt_ConvoZagaraLineHandle_Init();
    gt_ConvoDehakaPre_Init();
    gt_PlanetArrival_Init();
    gt_PlanetDeparture_Init();
    gt_LeviathanBirth_Init();
    gt_LeviathanBirthIzshaBirth_Init();
    gt_LeviathanBirthLeviathanAnim_Init();
    gt_zScripted_ZAdjutantIntro_Init();
    gt_zDebrief_Char01_Init();
    gt_zDebrief_Arc2_Init();
    gt_zDebrief_Mission5_Init();
    gt_zScripted_FourthArcAfter_Init();
    gt_zDebrief_Arc4DoW_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitGlobals();
    InitTriggers();
}
